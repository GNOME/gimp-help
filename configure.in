dnl This the autoconf script for the gimp-help-2 project.
dnl The GPL version 2 applies to it which you may get from
dnl http://www.gnu.org

AC_INIT()
AM_INIT_AUTOMAKE(gimp-help-2, 0.1)

AC_PROG_INSTALL
AC_PROG_LN_S
AC_PROG_MAKE_SET
  
AC_PATH_PROG(XSLTPROC, xsltproc, no)
if test -z "$XSLTPROC"; then
  AC_MSG_ERROR([I'm sorry but I couldn't find xsltproc. For now this is the 
  only supported XSLT processor, so be sure to have it before this 
  sources will have any benefit to you.])
fi

AC_ARG_WITH(xsl_stylesheets, [  --with-xsl-stylesheets=<basedir>   path to the base of the DocBook Modular Stylesheets])

if test "x$xsl_stylesheets" = "x"; then
  AC_CHECK_FILE(/usr/share/sgml/docbook/stylesheet/xsl/nwalsh/xhtml/docbook.xsl,STYLEBASE='/usr/share/sgml/docbook/stylesheet/xsl/nwalsh',
    AC_MSG_ERROR([Couldn't find basedirectory for the DocBook Modular Stylesheets! 
                   Specify its location using --with-xsl-stylesheets=<basedir>]))
else
  STYLEBASE=$with_xsl_stylesheets
  AC_CHECK_FILE($STYLEBASE/xhtml/docbook.xsl,,
    AC_MSG_ERROR([Couldn't find docbook.xsl in $STYLEBASE/xhtml]))
fi

AC_SUBST(STYLEBASE)

AC_OUTPUT([
Makefile
help/Makefile
help/C/Makefile
help/stylesheets/plainhtml.xsl
])
