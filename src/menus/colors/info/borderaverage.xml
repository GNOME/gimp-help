<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE sect2 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
                "http://www.docbook.org/xml/4.3/docbookx.dtd">

<!-- section history:
  2008-05-23 j.h: tried to give more intelligible explanations for bucket size
  2007-12-22 alex falappa: moved here from color filters and translated missing parts
  2007-10-22 ude: moved here from filters/color/borderaverage.xml ('en','de')
  2007-07-03 Added Spanish translation by AntI
  2007-06-21 alex falappa: translated new bucket size related stuff in italian
  2007-05-12 ude: fixed bucket size related stuff incl. examples
  2007-04-15 ude: moved examples to <sect3>
  2007-04-03 KoSt: added 'no'
  2006-12-20 de adapted description by ude
  2006-11-01 Changes in the description of the action and Number of colors by j.h
  2005-12-07 replaced <simplesect> by <sect3> by lexa
  2005-08-30 de replaced informalfigure by axel.wernicke
  2005-08-24 de added by axel.wernicke
-->
<!--TODO: es ru: update/review -->
<sect2 id="plug-in-borderaverage" lang="en;de;es;fr;it;lt;no;ru">
  <sect2info lang="en;de;es;fr;it;no" role="cvs">
    <revhistory>
      <revision lang="en">
        <revnumber>$Revision$</revnumber>
        <date>2008-05-23</date>
        <authorinitials>j.h</authorinitials>
      </revision>
      <revision lang="de">
        <revnumber>$Revision$</revnumber>
        <date>2008-06-07</date>
        <authorinitials>ude</authorinitials>
      </revision>
      <revision lang="es">
        <revnumber>$Revision$</revnumber>
        <date>2007-??-??</date>
        <authorinitials>AntI</authorinitials>
      </revision>
      <revision lang="fr">
        <revnumber>$Revision$</revnumber>
        <date>2007-12-17</date>
        <authorinitials>j.h</authorinitials>
      </revision>
      <revision lang="it">
        <revnumber>$Revision$</revnumber>
        <date>2008-08-19</date>
        <authorinitials>ciampix</authorinitials>
      </revision>
      <revision lang="no">
        <revnumber>$Revision$</revnumber>
        <date>2007-11-18</date>
        <authorinitials>kost</authorinitials>
      </revision>
    </revhistory>
  </sect2info>

  <title>
    <phrase lang="en">Border Average</phrase>
    <phrase lang="cs">Průměr okraje</phrase>
    <phrase lang="de">Randmittelwert</phrase>
    <phrase lang="es">Promedio del borde</phrase>
    <phrase lang="fr">Moyenne du bord</phrase>
    <phrase lang="it">Media del bordo</phrase>
    <phrase lang="lt">Rėmelio vidurkis</phrase>
    <phrase lang="no">Kantgjennomsnitt</phrase>
    <phrase lang="ru">Средний цвет рамки</phrase>
  </title>

  <indexterm lang="en">
    <primary>Colors</primary>
    <secondary>Border Average</secondary>
  </indexterm>
  <indexterm lang="en"><primary>Border Average</primary></indexterm>

  <!--TODO es ru: check/change indexterms-->
  <indexterm lang="cs">
    <primary>Filtry</primary>
    <secondary>Barvy</secondary>
    <tertiary>Průměr okraje</tertiary>
  </indexterm>

  <indexterm lang="de">
    <primary>Farbe</primary>
    <secondary>Statistik</secondary>
  </indexterm>
  <indexterm lang="de"><primary>Randmittelwert</primary></indexterm>

  <indexterm lang="es">
    <primary>Colores</primary>
    <secondary>Info</secondary>
    <tertiary>Promedio del borde</tertiary>
  </indexterm>
  <indexterm lang="es"><primary>Promedio del borde</primary></indexterm>

  <indexterm lang="fr">
    <primary>Couleurs</primary>
    <secondary>Moyenne du bord</secondary>
  </indexterm>
  <indexterm lang="fr"><primary>Moyenne du bord</primary></indexterm>

  <indexterm lang="it">
    <primary>Colori</primary>
    <secondary>Media del bordo</secondary>
  </indexterm>
  <indexterm lang="it"><primary>Media del bordo</primary></indexterm>

  <indexterm lang="lt">
    <primary>Spalvos</primary>
    <secondary>Rėmelio vidurkis</secondary>
  </indexterm>
  <indexterm lang="lt"><primary>Rėmelio vidurkis</primary></indexterm>

  <indexterm lang="no">
    <primary>Fargar</primary>
    <secondary>Info</secondary>
    <tertiary>Kantgjennomsnitt</tertiary>
  </indexterm>
  <indexterm lang="no"><primary>Kantgjennomsnitt</primary></indexterm>

  <indexterm lang="ru">
    <primary>Фильтр</primary>
    <secondary>Цвет</secondary>
  </indexterm>
  <indexterm lang="ru"><primary>Средний цвет рамки</primary></indexterm>

  <sect3>
    <title>
      <phrase lang="en">Overview</phrase>
      <phrase lang="cs">Přehled</phrase>
      <phrase lang="de">Wirkungsweise</phrase>
      <phrase lang="es">Generalidades</phrase>
      <phrase lang="fr">Généralités</phrase>
      <phrase lang="it">Panoramica</phrase>
      <phrase lang="lt">Apžvalga</phrase>
      <phrase lang="no">Oversyn</phrase>
      <phrase lang="ru">Общая информация</phrase>
    </title>

    <figure lang="en;de;fr;it;lt;no">
      <title>
        <phrase lang="en">
          Example for the <quote>Border Average</quote> filter
        </phrase>
        <phrase lang="de">
          Anwendungsbeispiel für das Filter <quote>Randmittelwert</quote>
        </phrase>
        <phrase lang="es">
          Ejemplo para el filtro <quote>Promedio del borde</quote>
        </phrase>
        <phrase lang="fr">
          Exemple pour le filtre <quote>Moyenne du bord</quote>
        </phrase>
        <phrase lang="it">
          Esempio di applicazione del filtro <quote>Media del bordo</quote>
        </phrase>
        <phrase lang="lt">
          Filtro <quote>Rėmelio vidurkis</quote> pavyzdys
        </phrase>
        <phrase lang="no">Eksempel på bruk av filteret</phrase>
        <phrase lang="ru">
          Изображение до и после применения фильтра <quote>TODO</quote>
        </phrase>
      </title>

      <mediaobject>
        <imageobject>
          <imagedata fileref="../images/filters/examples/taj_orig.png"
            format="PNG" />
        </imageobject>
        <caption lang="en;de;fr;it;lt;no">
          <para lang="en">Original image</para>
          <para lang="de">Originalbild</para>
          <para lang="fr">Image d'origine</para>
          <para lang="it">Immagine originale</para>
          <para lang="lt">Originalus paveikslėlis</para>
          <para lang="no">Originalbiletet</para>
        </caption>
      </mediaobject>

      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="../images/filters/examples/color-taj-borderaverage.png"/>
        </imageobject>
        <caption lang="en;de;fr;it;lt;no">
          <para lang="en">Filter <quote>Border Average</quote> applied</para>
          <para lang="de">
            Filter <quote>Randmittelwert</quote> angewandt
          </para>
          <para lang="fr">
            Après application du filtre
          </para>
          <para lang="it">
            Dopo l'applicazione del filtro <quote>Media del bordo</quote>
          </para>
          <para lang="lt">
            Pritaikytas filtras <quote>Rėmelio vidurkis</quote>
          </para>
          <para lang="no">
            Forgrunnsfargen etter bruk av filteret
            <quote>Kantgjennomsnitt</quote>
          </para>
        </caption>
      </mediaobject>
    </figure>

    <para lang="en"><!--changed 08-05-23-->
      This plug-in calculates the most often used color in a specified border
      of the the active layer or selection. It can gather similar colors
      together so that they become predominant. The calculated color becomes
      the foreground color in the Toolbox. This filter is interesting when
      you have to find a Web page color background that differs as little as
      possible from your image border. The action of this filter is not
      registered in Undo History and can't be deleted with Ctrl+Z : it
      doesn't modify the image.
    </para>
    <para lang="de">
      Dieses Filter berechnet die am häufigsten vorkommende Farbe in einem
      Rand der aktiven Ebene oder einer Auswahl. Die berechnete Farbe wird zur
      aktiven Vordergrundfarbe. Dieses Filter kann sehr hilfreich sein, wenn
      Sie zum Beispiel ein Bild vor einen farbigen Hintergrund bringen
      möchten, der möglichst wenig von der Farbe des Bildrandes abweicht. Die
      Anwendung dieses Filters wird nicht im Journal registriert und kann
      daher nicht mit Strg-Z rückgängig gemacht werden.
    </para>
    <para lang="fr">
      Cette commande calcule la couleur la plus utilisée dans une bordure
      entourant le calque actif ou la sélection. Elle peut regrouper les
      couleurs similaires qui deviennent ainsi prédominantes. La couleur
      calculée devient la couleur de premier-plan dans la Boîte à outils. Ce
      filtre  est intéressant quand vous devez trouver la couleur de fond
      d'une page Web différant aussi peu que possible du bord de votre image.
      L'action de ce filtre, qui ne modidifie pas l'image, n'est pas
      enregistrée dans l'historique des actions et n'est pas annulée par
      Ctrl+Z.
    </para>
    <para lang="it">
      Questo filtro calcola il colore medio in un bordo attorno al livello
      corrente o alla selezione. Il colore così calcolato diventa il colore di
      primo piano nella barra degli strumenti. Questo filtro è utile quando si
      deve trovare un colore di sfondo per una pagina web che differisca il
      meno possibile dal bordo della propria immagine. L'azione di questo
      filtro non viene memorizzata nella cronologia degli annullamenti e non
      può essere annullata con Ctrl+Z.
    </para>
    <para lang="no">
      Dette filteret finn ut kva for farge som er den mest brukte rundt
      kantane av biletet og legg denne fargen som forgrunnsfarge i
      verktøykassa. Filteret kan samla fargar som liknar kvarandre i 
      grupper og rekne ut frekvensen for desse grupperingane. 
      Dette filteret kan vere interessant når du har bruk for å finne ein 
      bakgrunnsfarge som avvik minst mogleg frå biletfargen, t.d. for ei 
      nettside. Sidan filteret ikkje forandrar noe i biletet, blir bruken
      av det ikkje registrert i angreloggen.
    </para>
    <para lang="es">
      Este filtro calcula el color más usado en un borde específico en
      la capa o selección activa. El color calculado se convierte en el
      color de primer plano en la caja de herramientas. Este filtro es
      interesante cuando tiene que encontrar el color de fondo de una
      página web para que difiera lo menos posible del borde de su imagen.
      La acción de este filtro no se registra en el historial de deshacer
      y no se puede borrar con Ctrl+Z.
    </para>

    <!--TODO es ru: change menuentries (and move to next sect3)-->
    <para lang="cs">
      Tento filtr lze vyvolat z nabídky okna obrázku volbou
      <menuchoice>
        <guimenu>Filtry</guimenu>
        <guisubmenu>Barvy</guisubmenu>
        <guimenuitem>Průměr okraje</guimenuitem>
      </menuchoice>.
    </para>
    <para lang="cs">
      Tento nástroj vypočte průměrnou barvu okraje aktivní vrstvy nebo výběru.
      To je užitečné v případě, kdy je třeba zjistit například vhodnou barvu
      pozadí webové stránky, která se co nejméně liší  od okraje obrázku.
    </para>

    <para lang="es">
      Puede encontrar este filtro en
      <menuchoice>
        <guimenu>Filtros</guimenu>
        <guisubmenu>Colores</guisubmenu>
        <guimenuitem>Promedio del borde</guimenuitem>
      </menuchoice>.
    </para>

    <para lang="es">
      Este complemento calcula el color más usado en un brode especifico en
      la capa o selección activa. El color calculado se convierte en el color
      de primer plano en la caja de herramientas. Este filtro es interesante
      cuando tiene que encontrar el color de fondo de una página webpara que
      difiera lo menos posible del borde de su imagen.  La acción de este
      filtro no se registra en el historial de deshacer y no se puede borrar
      con Ctrl+Z.
    </para>

    <para lang="lt">
      Šis įskiepis apskaičiuoja nurodytame aktyvaus sluoksnio arba pažymėjimo
      rėmelyje dažniausiai naudojamą spalvą, leidžiant nurodytam
      rėžiui būti netiksliam. Apskaičiuota spalva Įrankinėje nustatoma kaip
      priekinio plano spalva. Šis filtras yra naudingas, kai jums reikia
      rasti tinklalapio fono spalvą, kuri yra kiek įmanoma panaši į
      jūsų paveikslėlio rėmelį. Šio filtro veiksmas neužregistruojamas
      Atšaukimų retrospektyvoje ir negali būti atšauktas naudojant
      klavišų kombinaciją Ctrl+Z.
    </para>

    <para lang="ru">
      Этот фильтр находится в меню
      <menuchoice>
        <guimenu>Фильтры</guimenu>
        <guisubmenu>Цвета</guisubmenu>
        <guimenuitem><accel>С</accel>редний цвет рамки</guimenuitem>
      </menuchoice>.
    </para>
    <para lang="ru">
      Этот фильтр вычисляет средний цвет рамки активного слоя или
      выделения. Полученный таким образом цвет становится цветом переднего
      плана в панели инструментов. В частности, этот фильтр помогает находить
      цвет фона веб страницы, который отличается от цвета границы изображения
      на наименьшую величину.
      Этот фильт не создаёт запись в истории отмены, и результат его наботы
      нельзя отменить с помощью <keycap function="control">Ctrl</keycap>+Z.
    </para>
  </sect3>


  <sect3 lang="en;de;fr;it;lt;no">
    <title>
      <phrase lang="en">Activate the filter</phrase>
      <phrase lang="cs">Aktivace filtru</phrase>
      <phrase lang="de">Filteraufruf</phrase>
      <phrase lang="es">Activar el filtro</phrase>
      <phrase lang="fr">Ouverture du filtre</phrase>
      <phrase lang="it">Attivazione del filtro</phrase>
      <phrase lang="lt">Filtro aktyvavimas</phrase>
      <phrase lang="no">Aktivering</phrase>
      <phrase lang="ru">Активация фильтра</phrase>
      <phrase lang="zh_CN">使用这个滤镜</phrase>
    </title>
    <para lang="en">
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Colors</guimenu>
        <guimenu>Info</guimenu>
        <guimenuitem><accel>B</accel>order Average</guimenuitem>
      </menuchoice>.
    </para>
    <para lang="de">
      Dieses Filter lässt sich über das Menü
      <menuchoice>
        <guimenu><accel>F</accel>arben</guimenu>
        <guisubmenu>Information</guisubmenu>
        <guimenuitem><accel>R</accel>andmittelwert</guimenuitem>
      </menuchoice>
      im Bildfenster aufrufen.
    </para>
    <para lang="es">
      Puede encontrar este filtro en
      <menuchoice>
        <guimenu>Colores</guimenu>
        <guisubmenu>Info</guisubmenu>
        <guimenuitem>Promedio del borde</guimenuitem>
      </menuchoice>.
    </para>

    <para lang="fr">
      On accède à cette commande par le menu d'image en suivant
      <menuchoice>
        <guimenu>Couleurs</guimenu>
        <guisubmenu>Information</guisubmenu>
        <guimenuitem>Moyenne du <accel>b</accel>ord</guimenuitem>
      </menuchoice>.
    </para>
    <para lang="it">
      Questo filtro si trova nel menu immagine:
      <menuchoice>
        <guimenu><accel>C</accel>olori</guimenu>
        <guimenuitem>Media del <accel>b</accel>ordo</guimenuitem>
      </menuchoice>.
    </para>
    <para lang="lt">
      Šį filtrą galima rasti paveikslėlio lango meniu juostoje:
      <menuchoice>
        <guimenu>Spalvos</guimenu>
        <!--TODO lt: add Info submenu-->
        <guimenuitem><accel>R</accel>ėmelio vidurkis</guimenuitem>
      </menuchoice>.
    </para>
    <para lang="no">
      Du har tilgang til filteret frå biletmenyen via
      <menuchoice>
        <guimenu>Fargar</guimenu>
        <guisubmenu>Info</guisubmenu>
        <guimenuitem>Kantgjennomsnitt</guimenuitem>
      </menuchoice>
    </para>
  </sect3>


  <sect3>
    <title>
      <phrase lang="en">Options</phrase>
      <phrase lang="cs">Volby</phrase>
      <phrase lang="de">Eigenschaften</phrase>
      <phrase lang="es">Opciones</phrase>
      <phrase lang="fr">Options</phrase>
      <phrase lang="it">Opzioni</phrase>
      <phrase lang="lt">Parinktys</phrase>
      <phrase lang="no">Innstillingar</phrase>
      <phrase lang="ru">Параметры</phrase>
    </title>

    <figure lang="en;de;es;fr;it;lt;no;ru">
      <title>
        <phrase lang="en">
          Options of the <quote>Border Average Filter</quote>
        </phrase>
        <phrase lang="de">
          Eigenschaften für das Filter <quote>Randmittelwert</quote>
        </phrase>
        <phrase lang="es">
          Opciones del filtro <quote>Promedio del borde</quote>
        </phrase>
        <phrase lang="fr">
          Options du filtre <quote>Moyenne du bord</quote>
        </phrase>
        <phrase lang="it">
          Opzioni del filtro <quote>Media del bordo</quote>
        </phrase>
        <phrase lang="lt">
          Filtro <quote>Rėmelio vidurkis</quote> parinktys
        </phrase>
        <phrase lang="no">
          Innstillingane for filteret <quote>kantgjennomsnitt</quote>
        </phrase>
        <phrase lang="ru">
          Параметры фильтра <quote>Средний цвет рамки</quote>
        </phrase>
      </title>

      <mediaobject>
        <imageobject lang="en;cs;ru">
          <imagedata
            fileref="../images/filters/filters-color-borderaverage.png"
            format="PNG" />
        </imageobject>
        <imageobject lang="de">
          <imagedata
            fileref="../images/filters/de/options-color-border-average.png"
            format="PNG" />
        </imageobject>
        <imageobject lang="es">
          <imagedata
            fileref="../images/filters/es/filters-color-borderaverage.png"
            format="PNG" />
        </imageobject>
        <imageobject lang="fr">
          <imagedata
            fileref="../images/filters/fr/filters-color-borderaverage.png"
            format="PNG" />
        </imageobject>
        <imageobject lang="it">
          <imagedata fileref="../images/filters/it/filters-color-borderaverage.png"
            format="PNG"/>
        </imageobject>
        <imageobject lang="lt">
          <imagedata
            fileref="../images/filters/lt/filters-color-borderaverage.png"
            format="PNG" />
        </imageobject>
        <imageobject lang="no">
          <imagedata
            fileref="../images/filters/no/options-color-border-average.png"
            format="PNG" />
        </imageobject>
      </mediaobject>
    </figure>

    <variablelist>
      <varlistentry>
        <term lang="en">Border Size</term>
        <term lang="cs">Velikost okraje</term>
        <term lang="de">Randgröße</term>
        <term lang="es">Tamaño del borde</term>
        <term lang="fr">Taille du bord</term>
        <term lang="it">Dimensione bordo</term>
        <term lang="lt">Rėmelio dydis</term>
        <term lang="no">Kantbreidde</term>
        <term lang="ru">Размер рамки</term>

        <listitem>
          <para lang="en">
            You can set there the border <guilabel>Thickness</guilabel> in
            pixels.
          </para>
          <para lang="cs">
            <guilabel>Tloušťka</guilabel> umožňuje nastavit šířku uvažovaného
            okraje v pixelech.
          </para>
          <para lang="de">
            Mit dieser Eigenschaft können Sie die <guilabel>Dicke</guilabel>
            des Randes festlegen, der zur Berechnung der Durchschnittsfarbe
            benutzt wird.
          </para>
          <para lang="es">
            Puede seleccionar el <guilabel>Grosor</guilabel> del borde en
            píxeles.
          </para>
          <para lang="fr">
            Vous pouvez régler là l'<guilabel>Épaisseur</guilabel> de la
            bordure en pixels.
          </para>
          <para lang="it">
            Qui si può impostare lo <guilabel>Spessore</guilabel> del bordo in
            pixel.
          </para>
          <para lang="lt">
            Čia galite nurodyti rėmelio <guilabel>Storumą</guilabel>
            pikseliais.
          </para>
          <para lang="no">
            Du bestemmer her <guilabel>Breidde</guilabel> på ramma i pikslar
            eller andre måleeiningar etter val.
          </para>
          <para lang="ru">
            Определяет <guilabel>Толщину</guilabel> рамки. Единицы измерения
            можно выбрать.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term lang="en">Number of Colors</term>
        <term lang="cs">Počet barev</term>
        <term lang="de">Anzahl der Farben</term>
        <term lang="es">Número de colores</term>
        <term lang="fr">Nombre de couleurs</term>
        <term lang="it">Numero di colori</term>
        <term lang="lt">Spalvų kiekis</term>
        <term lang="no">Talet på fargar</term>
        <term lang="ru">Количество цветов</term>

        <listitem>
          <!--FIXME cs: description was wrong, has been fixed-->
          <para lang="en"><!--changed 2007-05-12-->
            The <guilabel>Bucket Size</guilabel> lets you control the number
            of colors considered as similar and counted with the same
            <quote>bucket</quote>. A low bucket size value (i.e. a high bucket
            number) gives you better precision in the calculation of the
            average color. Note that better precision does not necessarily
            mean better results (see example below).
          </para>
          <para lang="cs">
            <guilabel>Velikost vědra</guilabel> nastavuje počet barev
            uvažovaných při výpočtu průměrné barvy (1 - 256).
          </para>
          <para lang="de"><!--changed 2007-05-12-->
            Hier können Sie die <guilabel>Eimergröße</guilabel> festlegen,
            d.h. die Anzahl an Farben, die als ähnlich betrachtet und im
            selben <quote>Eimer</quote> gezählt werden. Eine kleine
            Eimergröße (d.h. eine große Anzahl von <quote>Eimern</quote>)
            ergibt eine präzisere Auszählung, was aber nicht notwendigerweise
            ein besseres Ergebnis bedeutet (siehe das nachfolgende Beispiel).
          </para>
          <para lang="es">
            El <guilabel>Tamaño del bucket</guilabel> le deja controlar el
            número de colores considerados como similares y contados con el
            mismo bucket. Un valor pequeño del tamaño del bucket da una mejor
            precisión en el calculo del promedio de color. Notese que una
            mejor precisión en el cálculo no, necesariamente, significa
            mejores resultados (ver ejemplo abajo).
          </para>
          <para lang="fr">
            <guilabel>Taille des pôts de peinture</guilabel> vous permet de
            contrôler le nombre de peintures similaires dans un même pôt. En
            effet, le logiciel répartit toutes les couleurs rencontrées dans
            un nombre limité de <quote>pôts de peinture</quote>  ou <quote>
            godets</quote> en fonction de leur plus ou moins grande
            ressemblance. Une taille de pôt faible (c.-à-d un grand nombre de
            pôts) vous donne une meilleure précision dans le calcul de la
            couleur moyenne. Notez qu'une meilleure précision ne
            donne pas forcément un meilleur résultat (voir l'exemple qui
            suit).
          </para>
          <para lang="it"><!--changed 2007-06-21--> <guilabel>Dimensione
          del secchiello</guilabel> consente di impostare il numero di
          colori considerati simili e appartenenti allo stesso
          <quote>secchiello</quote>- Un basso valore per la dimensione
          (cioè a dire un alto numero di secchielli) fornisce una migliore
          precisione nel calcolo del colore medio. Si noti che una miglior
          precisione non significa necessariamente risultati migliori (si
          veda l'esempio più avanti.
          </para>
          <para lang="lt">
            Parametras <guilabel>Kibirėlio dydis</guilabel> leidžia
            valdyti spalvų, laikomų panašiomis ir skaičiuojamų tuo pačiu
            <quote>kibirėliu</quote>, skaičių. Naudojant mažą kibirėlio
            dydžio reikšmę (t. y. didelį kibirėlių skaičių) vidutinės
            spalvos skaičiavimas yra tikslesnis. Atminkite, kad didesnis
            tikslumas nebūtinai reiškia geresnius rezultatus (žr. žemiau
            esantį pavyzdį).
          </para>
          <para lang="no"><!--changed-->
            Filteret samlar fargane i større eller mindre 
            <quote>bøtter</quote>. Store bøtter bettyr at filteret samlar
            mange liknande fargar i ei bøtte. Små bøtter betyr at filteret
            får mange bøtter til rådvelde, og kan såleis sortera fargane 
            meir nøyaktig. I <guilabel>bøttestorleik</guilabel> bestemmer 
            du kor store desse bøttene skal vere. Små bøtter gir eit meir
            nøyaktig resultat, men dette treng likevel ikkje vere det same 
            som eit betre resultat. Sjå eksemplet nedanfor.
          </para>
          <para lang="ru">
            <guilabel>Размер ячейки</guilabel> Определяет сколько цветов
            будет расматривается как похожие и использовано для вычисления
            в одной ячейке. Маленький размер ячейки (т.е. много ячеек) даёт
            большую точность для вычисления среднего цвета. Заметьте, что
            большая точность не всегда даёт лучшие результаты (примеры ниже).

          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3 lang="en;de;es;fr;it;lt;no;ru">
    <title>
      <phrase lang="en">
        Examples illustrating the <quote>Border Average</quote> filter
      </phrase>
      <phrase lang="de">
        Beispiel zur Illustration des <quote>Randmittels</quote>
      </phrase>
      <phrase lang="es">
        Ejemplos ilustrando el filtro <quote>Promedio del borde</quote>
      </phrase>
      <phrase lang="fr">
        Exemples illustrant le filtre <quote>Moyenne du bord</quote>
      </phrase>
      <phrase lang="it">
        Esempi che illustrano il filtro <quote>Media del bordo</quote>
      </phrase>
      <phrase lang="lt">
        Filtrą <quote>Rėmelio vidurkis</quote> iliustruojantys pavyzdžiai
      </phrase>
      <phrase lang="no">Eksempel på bruk av filteret</phrase>
      <phrase lang="ru">
        Примеры применения фильтра <quote>Средний цвет рамки</quote>
      </phrase>
    </title>

    <figure>
      <title>
        <phrase lang="en">Original image</phrase>
        <phrase lang="de">Originalbild</phrase>
        <phrase lang="es">Imagen original</phrase>
        <phrase lang="fr">Image d'origine</phrase>
        <phrase lang="it">Immagine originale</phrase>
        <phrase lang="lt">Originalus paveikslėlis</phrase>
        <phrase lang="no">Originalbiletet</phrase>
        <phrase lang="ru">Искомое изображение</phrase>
      </title>

      <mediaobject>
        <imageobject>
          <imagedata fileref="../images/filters/examples/borderaverage.png"
            format="PNG" />
        </imageobject>

        <caption>
          <!--TODO es;lt;ru-->
          <para lang="en">
            Original image: colors are pure Red (255;0;0), pure Blue
            (0;0;255), and different but similar kinds of Green
            ( 0;255;0 , 63;240;63 , 48;224;47 , 0;192;38 ).
          </para>
          <para lang="de">
            Originalbild: die Randfarben sind reines Rot (255,0,0) und reines
            Blau (0,0,255), ferner verschiedene Grüntöne (0,255,0),
            (63,240,63), (48,224,47), (0,192,38) mit der bitweisen Darstellung
            (00******;11******;00******) (<quote>*</quote> = 0 oder 1).
          </para>
          <para lang="es">
            Imagen original: colores rojo (255;0;0), azul
            (0;0;255), y diferentes pero similares tipos de verde
            (00******;11******;00******).
          </para>
          <para lang="fr">
            Image d'origine: les couleurs sont Rouge pur (255;0;0), Bleu pur
            (0;0;255) et différentes mais similaires sortes de Vert
            ( 0;255;0 , 63;240;63 , 48;224;47 , 0;192;38 ).
          </para>
          <para lang="it">
            Immagine originale: i colori sono rosso puro (255;0;0), blu puro
            (0;0;255), e differenti, ma simili, gradazioni di verde
            (00;255;0 , 63;240;63 , 48;224;47 , 0;192;38).
          </para>
          <para lang="lt">
            Originaliame paveikslėlyje yra gryna raudona (255;0;0),
            gryna mėlyna (0;0;255) ir skirtingi, tačiau panašūs žalios
            spalvos atspalviai (00******;11******;00******).
          </para>
          <para lang="no">
            Originalbiletet: Fargane er: rein raud (255;0;0), rein blå 
            (0;0;255) og 4 ulike grøntoner (0;255;0, 63;240;63, 
            48;224;47, 0;192;38).
          </para>
          <para lang="ru">
            В искомом изображение есть чистый красный цвет (255;0;0), чистый
            синий (0;0;255) и разные, на похожие, зелёные
            (00******;11******;00******).
          </para>
        </caption>
      </mediaobject>
    </figure>

    <figure>
      <title>
        <phrase lang="en">
          <quote>Number of Colors</quote> is set to 8:
        </phrase>
        <phrase lang="de">
          <quote>Anzahl der Farben</quote> auf 8 gesetzt:
        </phrase>
        <phrase lang="es">
          <quote>Números de colores</quote> seleccionado a 8:
        </phrase>
        <phrase lang="fr">
          Le <quote>Nombre de couleurs</quote> est fixé à 8:
        </phrase>
        <phrase lang="it">
          Il <quote>Numero di colori</quote> è impostato a 8:
        </phrase>
        <phrase lang="lt">
          <quote>Spalvų kiekis</quote> nustatytas į 8:
        </phrase>
        <phrase lang="no">
          <quote>Talet på fargar</quote> er sett til 8:
        </phrase>
        <phrase lang="ru">
          <quote>Число цветов</quote> установлено на 8:
        </phrase>
      </title>

      <mediaobject>
        <imageobject>
          <imagedata fileref="../images/filters/examples/borderaverage08.png"
            format="PNG" />
        </imageobject>

        <caption lang="en;de;es;fr;it;lt;no;ru">
          <para lang="en">
            The resulting color is a Red (254,2,2).
          </para>
          <para lang="de">
            Die resultierende Farbe ist Rot (254,2,2).
          </para>
          <para lang="es">
            El color resultante es rojo (254,2,2).
          </para>
          <para lang="fr">
            La couleur résultante est rouge (254,2,2).
          </para>
          <para lang="it">
            Il colore risultante è un rosso (254,2,2).
          </para>
          <para lang="lt">
            Gauta spalva – raudona (254,2,2).
          </para>
          <para lang="no">
            Resultatfargen blir raud (254,2,2).
          </para>
          <para lang="ru">
            Конечный цвет - красный (254,2,2).
          </para>
        </caption>
      </mediaobject>
    </figure>

    <para lang="en"><!--changed 2008-05-23-->
      The bucket size is low. So the bucket number is high. All color shades
      can be stored in different buckets. Here, the bucket containing red is
      the most filled. The resulting color is a nearly pure
      Red (254,2,2) and becomes the foreground color of the Toolbox.
      </para>
    <para lang="de"><!--updated 2008-06-07-->
      Die Eimergröße ist klein, die Anzahl der Eimer daher groß. Die
      verschiedenen Farbtöne können somit in verschiedenen
      <quote>Eimern</quote> gezählt werden. Der vollste Eimer ist der, der die
      Farbe Rot enthält.
      <!--ALT: Die am häufigsten vorkommende Randfarbe ist Rot (255,0,0). Die
      Farbe Grün kommt zwar häufiger am Bildrand vor, aber wegen der
      geringen Eimergröße werden die verschiedenen Farbtöne einzeln
      gezählt, daher wird das Rot vom Filter ausgewählt.-->
      Die resultierende Farbe ist ein fast reines Rot (254,2,2), sie wird dann
      zur aktiven Vordergrundfarbe.
    </para>
    <para lang="es">
      El color más frecuente en el borde de la imagen es el rojo (255,0,0).
      Como el tamaño del bucket es bajo, los diferentes tonos de verde no se
      reconocen como el mismo color. El color resultante está cerca del rojo
      puro(254,2,2) y se convierte en color de primer plano en la caja de
      herramientas.
      </para>
    <para lang="fr">
      La taille des godets est faible. Ils sont donc nombreux et toutes les
      nuances de vert, bien que peu différentes, sont logées séparément, dans
      des godets différents. Le godet le plus rempli est celui réservé à la
      couleur rouge. La couleur résultante (254,2,2) diffère peu du rouge
      pur. La couleur résultante est devenue la couleur de premier-plan de la
      Boîte à Outils.
    </para>
    <para lang="it">
      Poiché la dimensione del secchiello è bassa, il numero del secchiello
      è alto. Tutte le sfumature di colore possono essere memorizzate in
      secchielli diversi. Il secchiello contenente il rosso è il più
      riempito.  Il colore risultante è un rosso quasi puro (254,2,2) che
      diventa il colore di primo piano della casella strumenti.
      </para>
    <para lang="lt">
      Dažniausia paveikslėlio rėmelio spalva yra gryna raudona (255,0,0).
      Kadangi kibirėlio dydis yra mažas, skirtingi žalios spalvos tonai
      neatpažįstami kaip ta pati spalva. Gauta spalva yra beveik gryna
      raudona (254,2,2), ji įrankinėje nustatoma fono spalva.
    </para>
    <para lang="no"><!--changed 2007-07-17-->
      Sidan bøttene er små, blir det mange av dei. Alle sjatteringar av
      ulike fargar kan bli lagra i ulike bøtter. Her er det mest farge i 
      bøtta med raudfarge. Resultatfargen som blir lagt inn som
      forgrunnsfarge i verktøykassa er difor nesten reint raudt
      (254, 2, 2).
    </para>
    <para lang="ru">
      Наиболее частый цвет - чистый красный (255,0,0). Поскольку размер ячейки
      маленький, разные зелёные тона не воспринимаются как один цвет. Конечный
      цвет - почти чистый красный (254,2,2) и становится цветом передного плана
      на панели инструментов.
    </para>

    <figure>
      <title>
        <phrase lang="en">
          <quote>Number of Colors</quote> is set to 64:
        </phrase>
        <phrase lang="de">
          <quote>Anzahl der Farben</quote> auf 64 gesetzt:
        </phrase>
        <phrase lang="es">
          <quote>Número de colores</quote> está a 64:
        </phrase>
        <phrase lang="fr">
          <quote>Nombre de couleurs</quote> est fixé à 64:
        </phrase>
        <phrase lang="it">
          Il <quote>Numero di colori</quote> è impostato a 64:
        </phrase>
        <phrase lang="lt">
          <quote>Spalvų kiekis</quote> nustatytas į 64:
        </phrase>
        <phrase lang="no">
          <quote>Talet på fargar</quote> sett til 64:
        </phrase>
        <phrase lang="ru">
          <quote>Число цветов</quote> установлено на 64:
        </phrase>
      </title>

      <mediaobject>
        <imageobject>
          <imagedata fileref="../images/filters/examples/borderaverage64.png"
            format="PNG" />
        </imageobject>

        <caption lang="en;de;es;fr;it;lt;no;ru">
          <para lang="en">
            The resulting color is Green (32,224,32).
          </para>
          <para lang="de">
            Die resultierende Farbe ist Grün (32,224,32).
          </para>
          <para lang="es">
            El color resultante es verde (32,224,32).
          </para>
          <para lang="fr">
            La couleur résultante est Verte (32,224,32).
          </para>
          <para lang="it">
            Il colore risultante è verde (32,224,32).
          </para>
          <para lang="lt">
            Gauta spalva yra žalia (32,224,32).
          </para>
          <para lang="no">
            Resultatfargen er grøn (32,224,32)
          </para>
          <para lang="ru">
            Конечный цвет - зелёный (32,224,32).
          </para>
        </caption>
      </mediaobject>
    </figure>

    <!-- Where comes the green (0-63,192-255,0-63) from and how can it be
         averaged to (32,224,32) if only the two most significant bits are
         counting?  Would it be more readable using hexcode?-->
      <!--08-05-23: I took this information from the gimp-plugin registry when
      border average was a plug-in. Now, it is no longer in the registry and
      this information disappeared :-( -->
    <!-- Julien's enhanced explanation is good and readable, but if there are
      still questions, I tried to explain the filter internals;
      see the notes at the bottom of this file - ude, 08-06-06 -->
    <!--TODO es;it;lt;ru-->
    <para lang="en"><!--changed 2008-06-07-->
      Here the bucket size is high, the number of buckets low. Similar colors
      (here green) are stored in a same bucket. This <quote>green</quote>
      bucket is now the most filled.
      All colors in this bucket have the same values for the two most
      significant bits: (00******;11******;00******). The remaining 6 bits
      may have any values from 0 to 63 for the respective channel. So
      in this bucket, color red channels range from 0 to 63, green channels
      from 192 to 255, blue channels from 0 to 63. The resulting color is
      Green (32,224,32), which, for every channel, is the average between the
      limits of the channel range (63 + 0)/2, (255+192)/2 , (63+0)/2.
    </para>
    <!--FIXME fr: that's wrong! (see below)
    <para lang="en"> <!==added 080525==>
      With this method, if your border has a lot of different colors, then
      channels will even out and the resulting color will be gray.
    </para>-->
    <para lang="de">
      Hier sind die Eimer groß und die Anzahl der Eimer ist gering. Ähnliche
      Grüntöne werden daher im selben Eimer gezählt. Dieser Eimer enthält nun
      die meisten Pixel. Alle Farben in diesem Eimer stimmen in den beiden
      höchstwertigen Bits der drei Grundfarben Rot, Grün und Blau überein:
      (00******, 11******, 00******). Die restlichen 6 Bits können dabei
      beliebige Werte jeweils zwischen 0 und 63 annehmen. Die Farben in diesem
      Eimer haben also einen roten Kanalwert zwischen 0 und 63, einen grünen
      zwischen 192 und 255 und einen blauen zwischen 0 und 63. Die
      resultierende Farbe ergibt sich aus den durchschnittlichen Werten für
      die drei Kanäle: (63 + 0)/2, (255+192)/2 , (63+0)/2. Das Ergebnis ist
      also Grün (32,224,32).
      <!--ALT: Hier sind die <quote>Eimer</quote> groß genug, um die
      verschiedenen Grüntöne zusammen zu zählen. Das Filter betrachtet dabei
      nur die beiden höchstwertigen Bits jedes Farbkanalwerts. Daher ist nun
      Grün (0-63,192-255,0-63) die häufigste Farbe. Das Ergebnis ist der
      Durchschnitt aller möglichen vom Filter als ähnlich betrachteten und
      zusammen gezählten Farben: Grün (32,224,32).-->
    </para>
    <para lang="es">
      Aquí el tamaño del bucket es alto, el número de buckets bajo. El filtro
      busca solo los dos bits más significativos de cada canal de color.
      Ahora el verde (0-63,192-255,0-63) es el color más frecuente. El color
      resultante es (32,224,32), que es el promedio de todos los colores
      incluidos en este <quote>bucket</quote>.
    </para>
    <para lang="fr">
      Ici, la taille des godets est grande, et le nombre de godets faible.
      Les couleurs similaires sont stockées dans un même godet. Du coup,
      le godet contenant les teintes de vert est le plus rempli. Dans ce
      godet, les canaux rouges des différents pixels vont de 0 à 63, les
      canaux verts de 192 à 255 et les bleus de 0 à 63. La couleur résultante
      est un vert, moyenne de ces valeurs extrêmes : 32,224,32 , ((0+63)/2,
      (192+255)/2, (0+63)/2).
    </para>
    <!--FIXME fr: That's wrong! The number of pixels in the bucket doesn't
        matter, so any bucket may win... -->
    <para lang="fr">
      Avec ce système, si votre bordure possède de nombreuses couleurs
      différentes, les moyennes des canaux s'équilibreront et la couleur
      résultante sera le gris.
    </para>
    <para lang="it">
      In questo caso la dimensione del secchiello è grande e il loro numero
      basso. I colori simili (in questo caso il verde) vengono
      immagazzinati nello stesso secchiello. Questo secchiello
      <quote>verde</quote> ora è il più pieno. Tutti i colori in questo
      secchiello hanno gli stessi valori per i due bit più significativi:
      (00******;11******;00******). I rimanenti 6 bit possono avere
      qualsiasi valore tra 0 e 63 per il rispettivo canale. Perciò in
      questo secchiello, i canali del colore rosso variano tra 0 e 63, i
      canali verdi da 192 a 255, i canali blu tra 0 e 63. Il colore
      risultante è (32,224,32), che, per ogni canale, è la media tra i
      limiti del campo di variazione dei canali (63 + 0)/2, (255+192)/2 ,
      (63+0)/2.
    </para>
    <para lang="lt">
      Čia kibirėlio dydis yra didelis, o kibirėlių skaičius mažas.
      Filtras atsižvelgia tik į du svarbiausius kiekvieno spalvos
      kanalo reikšmės bitus. Dabar žalia (0-63,192-255,0-63) yra
      dažniausiai naudojama spalva. Gauta spalva yra žalia (32,224,32),
      kuri yra visų spalvų šio <quote>kibirėlio</quote> apskaičuotas
      vidurkis.
    </para>
    <para lang="no">
      I dette eksemplet er det brukt store, og difor få, bøtter. Fargar som
      liknar kvarandre (her grønt) blir lagra i same bøtta. Bøtta med grønt
      blir difor den med mest farge i. Dersom vi skriv fargane i 
      hex-notasjon ser vi at alle fargane i den grøne bøtta har dei to
      mest signifikante bits felles: (00******;11******;00******). 
      Dei resterande 6 bits (merka med *) kan ha kva verdi som helst. 
      Sidan hex 111111 er det same som 63, betyr dette fargeverdiane
      kan vere frå 0 til 63. I den grøne bøtta kan såleis raudkanalen vere
      mellom 0 og 63, grønkanalen mellom 192 og 255 og blåkanalen
      mellom 0 og 63. Resultatfargen er grøn (32,224,32). Dette er
      gjennomsnittet for grenseverdiane for kvar einskild kanal:
      (63 + 0)/2, (255+192)/2 , (63+0)/2. (Dersom du beherskar 
      hex-notasjon, vil det faktisk bli meir forståeleg om du skriv alt i hex).
    </para>
    <para lang="ru">
      Когда размер ячейки большой, число ячеек мало. Фильтр смотрит только на
      два главных бита каждого цветового канала. Теперь зелёный
      (0-63,192-255,0-63) наиболее частый цвет. Конечный цвет - зелёный
      (32,224,32), что есть среднее всех цветов, используемых этой ячейкой.
    </para>
  </sect3>
</sect2>

<!--
  Ok, it *is* a bit tricky. And the example colors and values are
  definitely not the best choice.

  Let's see what the filter will return in the above example with
  "number of colors" = 64 (cf. source file "common/border-average.c"):

  The filter uses
    bucket size      = 64  (input via dialog)
    bucket exponent  =  6  (2 ** 6 = 64)        :  "noise"
    reverse exponent =  2  (8 - bucket exponent):  significant color bits
    bucket number    = 64  (64 = 4*4*4;  4 = 2 ** reverse exponent)
    Now bucket #12 (binary: 001100; note: 6 Bits, 2**6 = 64) will count
    *any* color with
        red   = 00****** (bit7 = 0, bit6 = 0, bit5, ..., bit0 = 0 or 1),
        green = 11****** (bit7 = 1, bit6 = 1, bit5, ..., bit0 = 0 or 1),
        blue  = 00******.
    Let this bucket contain the max number of pixels, then the filter returns
       R = 0 * 2**6 + 2**5  =  32
       G = 3 * 2**6 + 2**5  = 224  (binary 11 = decimal 3) 
       B = 0 * 2**6 + 2**5  =  32
    32 is the mean value of
      bit7=0, bit6=0, bit5=...=bit0=0 (00000000 = 0) and
      bit7=0, bit6=0, bit5=...=bit0=1 (00111111 = 63).
    So we have 64 (bucket number) distinct colors (buckets) and a 6 bit
    "noise" (bucket size) to each color.
    (Note that generally bucket size != bucket number.)
-->
