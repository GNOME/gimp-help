<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE sect2 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.docbook.org/xml/4.5/docbookx.dtd">
<!-- section history:
  2008-01-15 alex falappa: moved here and revised 'it'
  2007-10-23 ude: moved here from filters/color/map/adjust.xml ('en','de')
  2007-07-10 Added Spanish translation by AntI
  2007-05-15 ude: added warning about mapping problems
  2007-04-25 ude: added comment on how it works
  2007-03-31 KoSt: added 'no'
  2005-12-07 replaced <simplesect> by <sect3> by lexa
  2005-08-30 de replaced informalfigure by axel.wernicke
-->
<!--PENDING all: remove in GIMP 2.6 -->
<!--TODO ru: update/review-->
<sect2 id="plug-in-color-adjust">
  <sect2info role="cvs">
    <revhistory>
      <revision>
        <revnumber>$Revision$</revnumber>
        <date>2008-01-21</date>
        <authorinitials>ude</authorinitials>
      </revision>
      
      
      
      
      
    </revhistory>
  </sect2info>

  <title>
    <phrase>Adjust Foreground &amp; Background</phrase>
    
    
    
    
    
    
    
    
  </title>

  <indexterm significance="normal">
    <primary>Colors</primary>
    <secondary>Adjust Foreground &amp; Background</secondary>
  </indexterm>
  <indexterm significance="normal">
    <primary>Adjust Foreground &amp; Background</primary>
  </indexterm>

  <!--TODO ru: check/change indexterms-->
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  <!--TODO es;lt;ru: add warning-->
  <warning><!-- added 2008-01-21 -->
    <para>
      This filter will be removed in future versions.
    </para>
    
    
    
    
  </warning>

  <sect3>
    <title>
      <phrase>Overview</phrase>
      
      
      
      
      
      
      
      
    </title>

    <figure float="0">
      <title>
        <phrase>
          Applying example for the filter <quote>Adjust Foreground &amp;
          Background</quote>
        </phrase>
        
        
        
        
        
        
        
      </title>

      <mediaobject>
        <imageobject>
          <imagedata fileref="../images/filters/examples/taj_orig.jpg" format="JPG"/>
        </imageobject>
        <caption>
          <para>Original image</para>
          
          
          
          
          
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata fileref="../images/filters/examples/color-taj-adjust.jpg" format="JPG"/>
        </imageobject>
        <caption>
          <para>Filter applied</para>
          
          
          
          
          
        </caption>
      </mediaobject>
    </figure>

    <!--
      This is how the filter works:
      For every color channel (red, green, blue), the value x is replaced by
                      (     0      if f(x) < 0,
          adjust(x) ≝ ( int(f(x))  if 0 ≤ f(x) ≤ 255,
                      (    255     if f(x> > 255,
      where
                           x - foreground
          f(x) ≝ 255 * ———————————————————————  if background ≠ foreground.
                       background - foreground
      For background = foreground, f(x) depends on the GIMP version,
      e.g. for the current unstable GIMP version:
                 (  0   if bg = fg, x < fg
          f(x) ≝ ( 127  if bg = fg, x = fg
                 ( 255  if bg = fg, x > fg
      Note that, if (and only if) background ≠ foreground,
          adjust(foreground) = 0    [==> (0,0,0) = black]
          adjust(background) = 255  [==> (255,255,255) = white]
      and
          adjust(x) = x  if foreground = 0 and background = 255.
    -->
    <para> <!--changed 2007-04-25-->
      <guilabel moreinfo="none">Adjust Foreground &amp; Background</guilabel> belongs to color
      map filters which make connection between a color source and an image.
      Here, image pixels having ForeGround color will turn to black while
      pixels having BackGround color will turn to white. Other colors are
      interpolated.  There will be no change if FG is black and BG is white.
    </para>

    

    

    

    

    

    

    <!--TODO cs ru zh_CN: change menuentries (and move to next sect3)-->
    <!--FIXME cs ru: Other colors will *not* "turn to their
      complementary color"-->
    
    

    
    

    <!--TODO: cs : new para -->
    <para><!-- added 2007-05-15 -->
      Note that this filter is just a special case of the <link linkend="plug-in-color-map">Color Range Mapping</link> filter with its
      default colors: source colors are foreground and background color,
      destination colors are black and white.
    </para>
    
    
    
    
    
    
    

    <caution><!-- added 2007-05-15 -->
      <para>
        This filter does not work as expected, if the values of foreground and
        background color are the same for some color channel (red, green, or
        blue).
      </para>
      <para>
        Even worse: the filter will happily accept your colors without
        displaying a warning or error message.
      </para>

      
      

      
      

      
      

      
      

      
      

      
      

      
      
    </caution>
  </sect3>

  <sect3>
    <title>
      <phrase>Activate the filter</phrase>
      
      
      
      
      
      
      
      
      
    </title>

    <para>
      You can find this filter in the image window menu under
      <menuchoice moreinfo="none">
        <guimenu moreinfo="none">Colors</guimenu>
        <guisubmenu moreinfo="none">Map</guisubmenu>
        <guimenuitem moreinfo="none">
          Adjust <accel>F</accel>oreground &amp; Background
        </guimenuitem>
      </menuchoice>.
    </para>
    
    
    
    
    

    
  </sect3>
</sect2>
