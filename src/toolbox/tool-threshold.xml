<?xml version='1.0' encoding="UTF-8" ?>

<!DOCTYPE sect2 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
                "http://www.docbook.org/xml/4.3/docbookx.dtd">

<!-- section history:
  2006-06-18 small tutorial Threshold+Qmask added by j.h
  2005-12-06 replaced simplesect by sect3 by lexa
  2005-12-06 replaced informalfigure by figure by lexa
  050807 de reviewed and restructured by axel.wernicke
-->
<!-- TODO: de it zh_CN review needed -->
<sect2 id='gimp-tool-threshold' lang="de;en;fr;it;zh_CN">
  <sect2info lang="en;de;fr">
    <revhistory>
      <revision lang="en">
        <revnumber>$Revision$</revnumber>
        <date>2006-06-18</date>
        <authorinitials>j.h</authorinitials>
      </revision>
      <revision lang="de">
        <revnumber>$Revision$</revnumber>
        <date>2007-01-07</date>
        <authorinitials>lexa</authorinitials>
      </revision>
      <revision lang="fr">
        <revnumber>$Revision$</revnumber>
        <date>2006-06-18</date>
        <authorinitials>j.h</authorinitials>
      </revision>
    </revhistory>
  </sect2info>

  <title>
    <phrase lang="en">Threshold Tool</phrase>
    <phrase lang="de">Schwellwert</phrase>
    <phrase lang="fr">Outil Seuil</phrase>
    <phrase lang="it">Soglia</phrase>
    <phrase lang="zh_CN">阈值工具</phrase>
  </title>

  <indexterm lang="en">
    <primary>Tools</primary>
    <secondary>Threshold</secondary>
  </indexterm>
  <indexterm lang="en"><primary>Threshold</primary></indexterm>

  <indexterm lang="de">
    <primary>Werkzeug</primary>
    <secondary>Schwellwert</secondary>
  </indexterm>
  <indexterm lang="de"><primary>Schwellwert</primary></indexterm>

  <indexterm lang="fr">
    <primary>Outils</primary>
    <secondary>Seuil</secondary>
  </indexterm>
  <indexterm lang="fr"><primary>Seuil</primary></indexterm>

  <para lang="en">
    The Threshold tool transforms the current layer or the selection into a
    black and white image, where white pixels represent the pixels of the
    image whose Value is in the threshold range, and black pixels represent
    pixels with Value out of the threshold range.
  </para>
  <para lang="en">
    You can use it to enhance a black and white image (a scanned text for
    example) or to create selection masks.
  </para>

  <para lang="de">
    Das Werkzeug <quote>Schwellwert</quote> wandelt die aktive Ebene in ein
    Schwarz-Weiß-Bild um, indem es den eingestellten Schwellwert als
    Maß für die Trennung der schwarzen von den weißen Bildanteilen nutzt.
    Anwendung findet das Werkzeug vor allem, um Auswahlen in Abhängigkeit von
    der Helligkeit des Bildes zu erstellen.
  </para>

  <para lang="fr">
    L'outil Seuil tranforme le calque actif ou la sélection en une image en
    noir et blanc, où les pixels blancs représentent les pixels dont la Valeur
    est supérieure à l'intervalle de seuil fixé, et les pixels noirs
    représentent les pixels en dehors de cet intervalle.
  </para>
  <para lang="fr">
    Vous pouvez l'utiliser pour améliorer le rendu d'une image noir et blanc
    (un texte scanné par exemple) ou créer des masques de sélection.
  </para>
  <para lang="fr">
    Le nom anglais de cet outil est <quote>Threshold</quote>.
  </para>

  <para lang="it">
    Con lo strumento Soglia è possibile rendere visibili o invisibili pixel
    del livello o della selezione attivi a seconda del rispettivo valore di
    intensità di colore dei punti stessi.
  </para>
  <para lang="zh_CN">
    阈值工具可以通过像素的亮度值决定活动图层或选区上的像素是否可见。
  </para>

  <note lang="en;fr"> <!--added 060618-->
    <para lang="en">
      As this tool creates a black and white image, the anti-aliasing of the
      original image disappears. If this poses a problem, rather use the
      <link linkend='gimp-tool-levels'>Levels </link> tool.
    </para>
    <para lang="fr">
      Comme cet outil crée une image en noir et blanc, l'anticrénelage de
      l'image d'origine disparaît. Si cela pose problème, utilisez plutôt
      l'outil <link linkend='gimp-tool-levels'>Niveaux</link>
    </para>
  </note>

  <sect3>
    <title>
      <phrase lang="en">Activate Tool</phrase>
      <phrase lang="de">Werkzeugaufruf</phrase>
      <phrase lang="fr">Activation de l'outil</phrase>
      <phrase lang="it">Attivazione dello strumento</phrase>
      <phrase lang="zh_CN">启动工具</phrase>
    </title>

    <para lang="en">
      The Threshold Tool can be called in the following
      order, from the image-menu:
      <menuchoice>
        <guimenu><accel>T</accel>ools</guimenu>
        <guisubmenu><accel>C</accel>olor Tools</guisubmenu>
        <guimenuitem><accel>T</accel>hreshold,</guimenuitem>
      </menuchoice>
    </para>
    <para lang="en">
      or by clicking on the
      <guiicon>
        <inlinemediaobject>
          <imageobject>
            <imagedata fileref="../images/toolbox/threshold.png" />
          </imageobject>
        </inlinemediaobject>
      </guiicon>
      icon in Toolbox if this tool has been installed in it. You can do
      that through the <link linkend="gimp-tools-dialog">Tool dialog</link>.
    </para>

    <para lang="de">
      Sie haben verschiedene Möglichkeiten, das Werkzeug
      <quote>Schwellwert</quote> zu aktivieren:
    </para>
    <itemizedlist lang="de">
      <listitem>
        <para>
          über das Menü
          <menuchoice>
            <guimenu><accel>W</accel>erkzeuge</guimenu>
            <guisubmenu><accel>F</accel>arben</guisubmenu>
            <guimenuitem><accel>S</accel>chwellwert</guimenuitem>
          </menuchoice>
          im Bildfenster sowie
        </para>
      </listitem>
      <listitem>
        <para>
          mit einem Mausklick auf das Symbol
          <guiicon>
            <inlinemediaobject>
              <imageobject>
                <imagedata fileref="../images/toolbox/threshold.png" />
              </imageobject>
            </inlinemediaobject>
          </guiicon>
          im Werkzeugfenster, sofern die Farbwerkzeuge im Werkzeugfenster
          eingeblendet sind. Dies können Sie im Dialog
          <link linkend="gimp-tools-dialog">Werkzeuge</link> einstellen.
        </para>
      </listitem>
    </itemizedlist>

    <para lang="fr">
      On accède à cet outil par la barre de menu de l'image:
      <menuchoice>
        <guimenu><accel>O</accel>utils</guimenu>
        <guisubmenu>Outils de <accel>c</accel>ouleurs</guisubmenu>
        <guimenuitem>S<accel>e</accel>uils</guimenuitem>
      </menuchoice>
    </para>
    <para lang="fr">
      ou en cliquant sur l'icône
      <guiicon>
        <inlinemediaobject>
          <imageobject>
            <imagedata fileref="../images/toolbox/threshold.png" />
          </imageobject>
        </inlinemediaobject>
      </guiicon>
      dans la Boîte à outil si cet outil y a été installé, ce que vous
      pouvez faire grâce au <link linkend="gimp-tools-dialog">Dialogue des
      outils</link>.
    </para>

    <para lang="it">
      Lo strumento Soglia viene chiamato dal menu immagine nel seguente
      ordine:
      <menuchoice>
        <guimenu>S<accel>t</accel>rumenti</guimenu>
        <guisubmenu><accel>C</accel>olore</guisubmenu>
        <guimenuitem><accel>S</accel>oglia</guimenuitem>
      </menuchoice>
      .
    </para>
    <para lang="zh_CN">
      按如下步骤启动阈值工具,在图像菜单中：<guimenuitem>工具</guimenuitem>/<guimenuitem>颜色工具</guimenuitem>/<guimenuitem>阈值</guimenuitem>
    </para>
  </sect3>

  <sect3>
    <title>
      <phrase lang="en">Options</phrase>
      <phrase lang="de">Dialogfenster <quote>Schwellwert</quote> anwenden</phrase>
      <phrase lang="fr">Options</phrase>
      <phrase lang="it">Opzioni</phrase>
      <phrase lang="zh_CN">选项</phrase>
    </title>

    <figure>
      <title>
        <phrase lang="en;zh_CN">Threshold tool options</phrase>
        <phrase lang="de">
          Das Dialogfenster des Werkzeuges <quote>Schwellwert</quote>
        </phrase>
        <phrase lang="it">Opzioni dello strumento soglia</phrase>
        <phrase lang="fr">Les options de l'outil Seuil</phrase>
      </title>
      <mediaobject>
        <imageobject lang="en">
          <imagedata fileref='../images/toolbox/tools-threshold.png'
            format="PNG" />
        </imageobject>
        <imageobject lang="de">
          <imagedata fileref='../images/toolbox/de/tool-dialog-threshold.png'
            format="PNG" />
        </imageobject>
        <imageobject lang="fr">
          <imagedata fileref='../images/toolbox/fr/tools-threshold.png'
            format="PNG" />
        </imageobject>
        <imageobject lang="it">
          <imagedata fileref='../images/toolbox/it/tools-threshold.png'
            format="PNG" />
        </imageobject>
        <imageobject lang="zh_CN">
          <imagedata fileref='../images/toolbox/zh_CN/tools-threshold.png'
            format="PNG" />
        </imageobject>
      </mediaobject>
    </figure>

    <variablelist>
      <varlistentry>
        <term lang="en">Threshold range</term>
        <term lang="de">Schwellwerteinstellung</term>
        <term lang="fr">Intervalle de seuil</term>
        <term lang="it">Campo di soglia</term>
        <term lang="zh_CN">阈值范围</term>
        <listitem>
          <para lang="en">
            The Threshold tool provides a visual graph, a histogram, of the
            intensity value of the active layer or selection. You can set
            the threshold range either using the input boxes or clicking
            button 1 and dragging on the graph.  It allows you to
            select a part of the image with some intensity from a
            background with another intensity. Pixels inside
            the range will be white, and the others will be black.
            Adjust the range to get the selection you want in white
            on black background.
          </para>
          <para lang="de">
            Im Bereich Schwellwerteinstellung des Dialogs werden die
            Helligkeitswerte der aktuellen Ebene in einem
            <link linkend="glossary-histogram">Histogramm</link> dargestellt.
            Durch Klicken mit der <mousebutton>Maustaste</mousebutton> können
            Sie einen Helligkeitsbereich auswählen. Ausgewählte
            Histogrammbestandteile erscheinen im Bild weiß, der Rest wird
            schwarz.
          </para>
          <para lang="fr">
            Cet outil fournit un <emphasis>histogramme</emphasis> des valeurs
            d'intensité de la sélection ou du calque actif. Vous pouvez
            régler l'intervalle de seuil en utilisant les boîtes de saisie
            ou par un cliquer-glisser sur le graphisme.  Il permet
            d'isoler une partie de l'image ayant une certaine intensité
            sur un fond ayant une autre intensité. Les pixels compris
            dans l'intervalle de seuil seront en blanc et les
            autres en noir. Le but est donc d'ajuster l'intervalle de
            seuil de façon à obtenir l'objet à isoler en blanc sur fond
            noir.
          </para>
          <para lang="it">
            Lo strumento della soglia fornisce un grafico dell'intensità del
            valore del colore del livello o della selezione attivi. Il campo
            della soglia è selezionabile sia attraverso una casella di
            inserimento dati sia tramite la pressione del tasto 1 del mouse
            trascinato sul grafico.  Consente di selezionare una parte
            dell'immagine con una data intensità da uno sfondo di un'altra
            intensità. I punti all'interno del campo saranno bianchi e gli
            altri neri. È necessario modificare la regolazione fino ad
            ottenere la selezione voluta. Questo metodo di estrazione della
            selezione è spiegato molto bene in <link
            linkend="bibliography-books-bunks">Grokking the Gimp</link>.
          </para>
          <para lang="zh_CN">
            阈值工具提供一个反映活动图层或选区上亮度值的可试化图表。您可以通过输入栏或在图表上拖动左键来设定阈值范围。它允许您从不同亮度的背景中选取部分图像。在范围内的像素都为白色，其它则是黑色。《<link linkend="bibliography-books-bunks">Grokking the Gimp</link>》中很好地介绍如何从中提取选区。
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term lang="en">Preview</term>
        <term lang="de">Vorschau</term>
        <term lang="fr">Aperçu</term>
        <term lang="it">Anteprima</term>
        <term lang="zh_CN">预览</term>
        <listitem>
          <para lang="en">
            The Preview toggle allows dynamic updating of the active
            layer or selection while changes are made to the intensity
            level.
          </para>
          <para lang="de">
             Die Vorschau ermöglicht es, Veränderung im Bild sofort sichtbar zu
             machen, um die Einstellungen des Werkzeuges vor der Ausführung
             kontrollieren zu können.
          </para>
          <para lang="fr">
             Quand cette option est cochée, les changements
             apportés aux seuils apparaissent aussitôt dans l'image
          </para>
          <para lang="it">
            Il tasto di anteprima abilita/disabilita l'aggiornamento
            automatico del livello o della selezione attivi durante il
            cambiamento del livello di intensità.
          </para>
          <para lang="zh_CN">
            预览勾选框动态更新在当前图层或选区上对亮度范围的更改。
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3 lang="en;fr"> <!--added 060619-->
    <title>
      <phrase lang="en">Using Threshold and Quick Mask to create a selection
        mask</phrase>
      <phrase lang="fr">Utiliser l'outil Seuil et le Masque rapide pour
        créer un masque de sélection</phrase>
    </title>

    <para lang="en">
      That's not always the case, but an element you want to extract from
      an image can stand out well against the background. In this case,
      you can use the Threshold tool to select this element as a whole.
      Grokking the GIMP described a method based on a channel mask, but now,
      using the <link linkend='gimp-image-window-qmask-button'>Quick mask
      </link> is easier.
    </para>
    <para lang="fr">
      Ce n'est pas toujours le cas, mais il arrive qu'un motif que vous
      voulez extraire d'une image se détache bien sur le fond. Dans ce cas,
      vous pouvez utiliser l'outil Seuil pour sélectionner d'un bloc le
      motif. Grokking the GIMP décrivait une méthode basée sur un masque
      de canal, mais il est maintenant plus rapide de passer par le
      <link linkend='gimp-image-window-qmask-button'>Masque Rapide</link>.
      Voici les étapes à suivre:
    </para>

    <procedure>
      <step>
        <para lang="en">
          First start decomposing you image into its RGB and HSV components
          by using the <link linkend='plug-in-decompose'>Decompose</link>
          filter. A new grey-scaled image is created and the components
          are displayed as layers in the Layer Dialog. These layers come
          with a thumbnail but it is too small for an easy study. You can,
          of course, increase the size of this preview with the dialog menu
          (the small triangular button), but playing with the <quote>eyes
          </quote> is more simple to display the wanted layer in the
          decompose image. Select the layer that isolates the element the
          best.
        </para>
        <para lang="fr">
          Commencez par décomposer votre image en ses composantes RVB et TSV
          à l'aide du filtre
          <link linkend='plug-in-decompose'>Décomposer</link>. Une nouvelle
          image en niveaux de gris est ouverte et ces différentes
          composantes apparaissent sous forme de calques dans le
          Dialogue des calques. Ces calques sont accompagnés d'une
          miniature, trop petite pour qu'on puisse en apprécier pleinement
          le contenu. Vous pouvez certes augmenter la taille de ces aperçus
          avec le menu du dialogue (petit bouton triangulaire), mais il est
          plus simple de jouer avec les <quote>yeux</quote> pour n'afficher
          que la composante voulue dans la fenêtre de l'image de
          décomposition. Sélectionnez le calque qui isole le mieux le motif
          à extraire.
        </para>

        <figure>
          <title>
            <phrase lang="en">
              The original image, the decompose image and its Layer Dialog
            </phrase>
            <phrase lang="fr">
              L'image d'origine, l'image décomposée et son dialogue des
              calques
            </phrase>
          </title>

          <mediaobject>
            <imageobject>
              <imagedata fileref="../images/using/threshold-orig.png"
                format="PNG" />
            </imageobject>
          </mediaobject>

          <mediaobject>
            <imageobject>
              <imagedata fileref="../images/using/threshold-decomp.png"
                format="PNG" />
            </imageobject>
          </mediaobject>

          <mediaobject>
            <imageobject lang="en">
              <imagedata fileref="../images/using/threshold-layers.png"
                format="PNG" />
            </imageobject>
            <imageobject lang="fr">
              <imagedata fileref="../images/using/fr/threshold-layers.png"
                format="PNG" />
            </imageobject>
          </mediaobject>
        </figure>
      </step>

      <step>
        <para lang="en">
          Call the Threshold tool from the decompose image. By moving the
          black cursor, fit threshold to isolate the best the element you want
          to extract. This will probably not be perfect: we will enhance the
          result with the selection mask we are going to create.
        </para>
        <para lang="fr">
          À partir de l'image de décomposition, appelez l'outil Seuil. En
          déplaçant le curseur noir, ajustez le seuil de façon à obtenir le
          meilleur isolement du motif à extraire. Ce ne sera probablement pas
          parfait, mais nous améliorerons le résultat avec le masque de
          sélection que nous allons créer.
        </para>

        <warning>
          <para lang="en">
            Make sure you have selected the right layer when you call the
            Threshold tool: when it is opened, you can't change to another
            layer.
          </para>
          <para lang="fr">
            Assurez-vous que c'est le bon calque qui est activé quand vous
            appelez l'outil Seuil: celui-ci ouvert, vous ne pourrez plus
            changer de calque.
          </para>
        </warning>

        <figure>
          <title>
            <phrase lang="en">The selected layer after threshold fit</phrase>
            <phrase lang="fr">
              Le calque sélectionné après ajustement du seuil
            </phrase>
          </title>
          <mediaobject>
            <imageobject>
              <imagedata fileref="../images/using/threshold-fit.png"
                format="PNG" />
            </imageobject>
            <caption>
              <para lang="en">
                We got the best outline for our flower. There are several red
                objects which we must remove.
              </para>
              <para lang="fr">
                Nous avons obtenu le meilleur contour pour notre fleur. Il y a
                plusieurs objets rouges qui doivent être supprimés.
              </para>
            </caption>
          </mediaobject>
        </figure>
      </step>

      <step>
        <para lang="en">
          Make sure the image displaying the selected layer is active and
          copy it to the clipboard with
          <keycombo><keycap>Ctrl</keycap><keycap>C</keycap></keycombo>.
        </para>
        <para lang="fr">
          La fenêtre affichant le calque sélectionné étant active, faites
          une copie de ce calque ajusté dans le presse-papier par
          <keycombo><keycap>Ctrl</keycap><keycap>C</keycap></keycombo>.
        </para>
      </step>

      <step>
        <para lang="en">
          Now, make the original image active. Click on the
          <guibutton>Quick Mask</guibutton> button at the bottom-left corner
          of the image window: the image gets covered with a red (default)
          translucent mask. This red color does not suit well to our image
          with much red: go to the Channel Dialog, activate the
          <quote>Quick mask</quote> channel and change this color with the
          <guibutton>Edit Channel Attributs</guibutton>. Come back to the
          original image. Press
          <keycombo><keycap>Ctrl</keycap><keycap>V</keycap></keycombo> to
          paste the previously copied layer.
        </para>
        <para lang="fr">
          Activez maintenant l'image d'origine. Cliquez sur le bouton situé
          en bas à gauche de la fenêtre pour activer le Masque Rapide:
          l'image se couvre d'un voile rouge uniforme (par défaut). Cette
          couleur rouge ne convient guère à notre image qui contient
          beaucoup de rouge: passez dans le Dialogue des Canaux, activez
          le canal <quote>Masque rapide</quote> et changez cette couleur
          avec le bouton
          <guibutton>Éditer les attributs du canal</guibutton>. Revenez dans
          l'image d'origine. Tapez
          <keycombo><keycap>Ctrl</keycap><keycap>V</keycap></keycombo> pour
          coller le calque copié précédemment.
        </para>
        <figure>
          <title>
            <phrase lang="en">The mask</phrase>
            <phrase lang="fr">Le masque</phrase>
          </title>
          <mediaobject>
            <imageobject>
              <imagedata fileref="../images/using/threshold-mask.png"
                         format="PNG" />
            </imageobject>
          </mediaobject>
        </figure>
      </step>

      <step>
        <para lang="en">
          Voilà. Your selection mask is ready: you can improve the selection
          as usually. When the selection is ready, disable the Quick mask by
          clicking again on its button: you will see the marching ants
          around the selection.
        </para>
        <para lang="fr">
          Voilà. Votre masque de sélection est prêt: vous pouvez peaufiner
          la sélection de la façon habituelle. Quand elle sera prête,
          désactivez le Masque rapide en cliquant à nouveau sur son bouton:
          vous verrez alors les pointillés mobiles entourant la sélectio.
          Vous pourrez la copier puis la coller dans le document que vous
          voulez.
        </para>
        <figure>
          <title>
            <phrase lang="en">The result</phrase>
            <phrase lang="fr">Le résultat</phrase>
          </title>
          <mediaobject>
            <imageobject>
              <imagedata fileref="../images/using/threshold-result.png"
                         format="PNG" />
            </imageobject>
          </mediaobject>
          <mediaobject>
            <imageobject>
              <imagedata fileref="../images/using/threshold-selection.png"
                         format="PNG" />
            </imageobject>
          </mediaobject>
        </figure>

        <para lang="en">
          We used the Zoom to work at a pixel level, the Lasso to
          remove large unwanted areas,the pencil (to get hard limits),
          black paint to remove selected areas, white paint to add
          selected areas, especially for stem.
        </para>
        <para lang="fr">
          Nous avons utilisé le zoom pour travailler au niveau du
          pixel, le lasso pour éliminer les larges plages superflues,
          un crayon fin (pour avoir des bords nets), la peinture noire
          pour supprimer de la sélection et la peinture blanche pour
          ajouter à la sélection, en particulier pour la tige.
        </para>
      </step>
    </procedure>
  </sect3>
</sect2>
