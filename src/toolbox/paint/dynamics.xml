<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect2 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
                       "http://www.docbook.org/xml/4.3/docbookx.dtd">
<!-- Section history:
  2012-10-20 Created by Kolbjoern
-->
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tool-dynamics">
  <title>Dynamics</title>
  <indexterm>
    <primary>Tools</primary>
    <secondary>Dynamics</secondary>
  </indexterm>
  <indexterm>
    <primary>Dynamics</primary>
  </indexterm>

  <para>
    The dynamics apply a more <quote>real feeling</quote> to the brush by
    connecting one or more of the brush parameters to the way of using the
    brush. You may for instance let the width of the pencil vary according to
    the speed of the stylus or the mouse, make the color saturation
    depending on the stylus pressure, make the color changing as the
    direction of the brush changes on the canvas, and so on. You may choose
    among several presets or define your own. The dynamics are created to be
    used together with drawing tablets, but some are available using the mouse.
  </para>
  <para>
    The dynamics will make some of the behaviors of the drawing tools act more
    like the physical (<quote>real</quote>) tools. 
  </para>

  <figure>
    <title>Dynamics in Tool Options </title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/toolbox/paint-dynamics-options.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>

  <para>
    The Dynamics area in the Tool Option dialog shows from left to right, the
    button to open the list containing the available dynamic presets, a field
    displaying the name of the current preset, and rightmost the edit button.
    Click on the 
    <guiicon>
      <inlinegraphic fileref="images/toolbox/stock-tool-folders-dynamics-22.png"/>
    </guiicon>
    button to open the dialog window displaying the available dynamics presets
    and select another preset.
  </para>

  <sect3>
    <title>The Paint Dynamics Selection Dialog</title>
    <figure>
      <title>The Paint Dynamics Selection Dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/paint-dynamics-select.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      The Paint Dynamics dialog window can be opened
    </para>
    <itemizedlist>
      <listitem>
        <para>
          from the image-menu:
          <menuchoice>
            <guimenu>Windows</guimenu>
            <guisubmenu>Dockable Dialogs</guisubmenu>
            <guimenuitem>Paint Dynamics</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          or by clicking on the <guibutton>Open the dynamics selection</guibutton>
          button in the list of dynamics presets.
        </para>
      </listitem>
    </itemizedlist>
    <para>
      The <guilabel>Paint Dynamics</guilabel> dialog is a dockable dialog;
      please see the section <xref linkend="gimp-concepts-docks"/> for help on
      manipulating it.
    </para>

    <itemizedlist>
      <para>
        From this dialog you can select from all the available presets, just
        as from the list of dynamics presets. In addition there are five
        buttons:
      </para>
      <listitem>
        <para>
          Edit dynamics: Click on this to edit the selected dynamics.
        </para>
      </listitem>
      <listitem>
        <para>
          Create a new dynamics: Do just that.
        </para>
      </listitem>
      <listitem>
        <para>
          Duplicate this dynamics: Make a copy of the selected dynamics.
        </para>
      </listitem>
      <listitem>
        <para>
          Delete this dynamics: Delete the selected dynamics.
        </para>
      </listitem>
      <listitem>
        <para>
          Refresh dynamics: Update the dynamics list.
        </para>
      </listitem>
    </itemizedlist>

  </sect3>

  <sect3>
    <title>Editing Paint Dynamics</title>
    <figure>
      <title>Editing Paint Dynamics</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/paint-dynamics-edit.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <itemizedlist>
      <para>
        The Paint Dynamics Editor can be called from:
      </para>
      <listitem>
        <para>
          the edit button in the Tool Options dialog,
        </para>
      </listitem>
      <listitem>
        <para>
          the Paint Dynamics selection dialog by clicking either the
          <guibutton>Edit Dynamics</guibutton> button or the <guibutton>Create
          a New Dynamics</guibutton> button.
        </para>
      </listitem>
    </itemizedlist>
    <para>
      You select the desirable behavior by clicking in the small squares.
      Clicking a second time unselects the marking.
    </para>
    <note>
      <para>
        Pre-installed dynamics are grayed out meaning you are not allowed to
        change the settings. To edit the options you have to work on a copy
        made from one of the pre-installed dynamics or create a new dynamics.
      </para>
    </note>
  </sect3>
  
  <sect3>
    <title>Mapping Matrix</title>
    <indexterm>
    <primary>Tools</primary>
    <secondary>Mapping Matrix</secondary>
    </indexterm>
    <indexterm>
      <primary>Mapping Matrix</primary>
    </indexterm>
    <para>
      The main part of the edit dialog is a table where you can decide
      which brush parameters should be affected by the way you use the stylus
      or the mouse. You can enable as many parameters and parameter
      combinations you want, but usually the fewer the better.
    </para>

    <itemizedlist>
      <para>
        Each column in the table represents a stylus or mouse action except for 
        the random and the fade functions.
      </para>
      <listitem>
        <para>
          <guilabel>Pressure</guilabel>: (Graphic tablet). It allows you to
          decide which aspects of the tool's action will be affected by
          pressing the stylus against the tablet.
        </para>
      </listitem>
      <listitem>
        <para>
          <guilabel>Velocity</guilabel>: (Graphic tablet, mouse). This is the
          speed of the stylus or the mouse.
        </para>
      </listitem>
      <listitem>
        <para>
          <guilabel>Direction</guilabel>: (Graphic tablet, mouse). This is the
          moving direction of the stylus or the mouse.
        </para>
      </listitem>
      <listitem>
        <para>
          <guilabel>Tilt</guilabel>: (Graphic tablet). The behavior of the
          function depends on the tilting of the stylus.
        </para>
      </listitem>
      <listitem>
        <para>
          <guilabel>Wheel</guilabel>: (Graphic tablet). The output depends on
          the rotation of the stylus or the setting of the wheel on the airbrush
          pen.
        </para>
      </listitem>
      <listitem>
        <para>
          <guilabel>Random</guilabel>: (Graphic tablet, mouse). The selected
          option will change at random.
        </para>
      </listitem>
      <listitem>
        <para>
          <guilabel>Fade</guilabel>: (Graphic tablet, mouse). The selected
          option will be faded in or out depending on the settings of the fade
          options in the Dynamic Options menu of the Tools Option dialog.
        </para>
      </listitem>
    </itemizedlist>
    <para>
      Each line shows a brush parameter and seven check-boxes, one for each
      action. You connect the parameters to the actions by clicking the
      appropriate boxes. Clicking on a box a second time will unselect the
      connection.
    </para>
    <variablelist>
      <varlistentry>
        <term>Opacity</term>
        <listitem>
          <para>
            <guilabel>Pressure</guilabel>: (Graphic tablet). Press harder to
            make the drawing less transparent.
          </para>
          <para>
            <guilabel>Velocity</guilabel>: (Graphic tablet, mouse). The
            opacity decreases as the speed of the stylus increases.
          </para>
          <para>
            <guilabel>Direction</guilabel>: (Graphic tablet, mouse). The
            opacity depends on the direction of the stylus or the mouse. The
            effect seems to have a touch of randomness built in.
          </para>
          <para>
            <guilabel>Tilt</guilabel>: (Graphic tablet). The opacity depends
            on the tilt of the stylus.
          </para>
          <para>
            <guilabel>Wheel</guilabel>: (Graphic tablet). TO DO
          </para>
          <para>
            <guilabel>Random</guilabel>: (Graphic tablet, mouse). The opacity
            changes at random in the interval set by the opacity slider in the
            Tool Options dialog.
          </para>
          <para>
            <guilabel>Fade</guilabel>: (Graphic tablet, mouse). Starting with
            full transparency and ending with the opacity set by the opacity
            slider in the Tool Options dialog.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Size</term>
        <listitem>
          <para>
            <guilabel>Pressure</guilabel>: (Graphic tablet). Press harder to
            make the brush wider.
          </para>
          <para>
            <guilabel>Velocity</guilabel>: (Graphic tablet, mouse). Increasing
            speed decreases the width of the brush.
          </para>
          <para>
            <guilabel>Direction</guilabel>: (Graphic tablet, mouse). The size
            of the brush depends on the moving direction of the stylus or the
            mouse. The effect seems to have a touch of randomness built in.
          </para>
          <para>
            <guilabel>Tilt</guilabel>: (Graphic tablet). The size of the brush
            depends on the tilt of the stylus.
          </para>
          <para>
            <guilabel>Wheel</guilabel>: (Graphic tablet). TODO
          </para>
          <para>
            <guilabel>Random</guilabel>: (Graphic tablet, mouse). The size of
            the brush changes at random up to the size set in the brush size
            slider in the Tool Options dialog.
          </para>
          <para>
            <guilabel>Fade</guilabel>: (Graphic tablet, mouse). Fades from a
            narrow brush to the size set by the brush size slider in the Tools
            Options dialog.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Angle</term>
        <listitem>
          <para>
            TO DO
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Color</term>
        <listitem>
          <para>
            By default the color is picked from the foreground color in the
            toolbox. However, if the color is activated in the dynamics
            editor, the color is instead collected from the active gradient.
          </para>
          <para>
            <guilabel>Velocity</guilabel>: (Graphic tablet, mouse). At slow
            speed the color is collected from the right side of the gradient.
            As the speed increases, the color is picked more and more from
            the left side of the gradient.
          </para>
          <para>
            <guilabel>Direction</guilabel>: (Graphic tablet, mouse). The
            direction determines where on the gradient the color is picked
            from. Mostly moving to the right and moving downward the color is
            picked from the left side of the gradient and the other directions
            get the color picked from the right half of the gradient.
          </para>

          <para>
            <guilabel>Random</guilabel>: (Graphic tablet, mouse). The color is
            picked at random from the gradient.
          </para>
          <para>
            <guilabel>Fade</guilabel>: (Graphic tablet, mouse). The start
            color is collected from the left side of the gradient and then
            more and more from the right side during the stroke. The behavior
            of the fading is set in the fade options of the Tool Options
            dialog.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Hardness</term>
        <listitem>
          <para>
            The hardness option is useful only for fuzzy brushes.
          </para>
          <para>
            <guilabel>Velocity</guilabel>: (Graphic tablet, mouse). At slow
            speed the brush is hard and becomes more fuzzy as the speed
            increases.
          </para>

          <para>
          <guilabel>Random</guilabel>: (Graphic tablet, mouse). The fuzziness
          of the brush varies at random.
          </para>
          <para>
            <guilabel>Fade</guilabel>: (Graphic tablet, mouse). The brush
            becomes less fuzzy during the stroke. The behavior of the fading
            is set in the fade options of the Tools options dialog.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Force</term>
        <listitem>
          <para>
            TO DO
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Aspect Ratio</term>
        <listitem>
          <para>
            The Aspect Ratio Slider in the Tool Options must be set to other
            values than the default value of 0.00 to activate the dynamics.
            If the aspect ratio slider is set to a negative value the height
            of the brush is constant but the width of the brush will vary. If
            the slider is set to a positive value then only the height of the
            brush will vary.
          </para>

          <para>
            <guilabel>Velocity</guilabel>: (Graphic tablet, mouse). The aspect
            ratio of the brush (width / height) varies with the speed.
          </para>
          <para>
            <guilabel>Direction</guilabel>: (Graphic tablet, mouse). The aspect
            ratio of the brush varies with the moving direction of the brush.
          </para>

          <para>
            <guilabel>Random</guilabel>: (Graphic tablet, mouse). The aspect
            ratio of the brush varies at random.
          </para>
          <para>
            <guilabel>Fade</guilabel>:  (Graphic tablet, mouse). If the Aspect
            Ratio Slider is set to a positive value the brush
            will fade from full height at the start of the stroke to the
            height set by the aspect ratio slider. If the slider is set to a
            negative value the brush fades from full width to the width set
            by the aspect ratio slider. The behavior of the fading is set in
            the fade options in the toolbox.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Spacing</term>
        <listitem>
          <para>
            Spacing is the distance between the marks set by the brush when
            drawing lines. With this option set the spacing is affected by how
            the stylus is used.
          </para>

          <para>
            <guilabel>Velocity</guilabel>: (Graphic tablet, mouse). The spacing
            between the footprints of the brush increases with increasing speed.
          </para>
          <para>
            <guilabel>Direction</guilabel>: (Graphic tablet, mouse). The
            spacing varies with the moving direction of the brush.
          </para>

          <para>
            <guilabel>Random</guilabel>: (Graphic tablet, mouse). The spacing
            varies at random.
          </para>
          <para>
            <guilabel>Fade</guilabel>:  (Graphic tablet, mouse). Start with a
            wide spacing and gradually make the spacing narrower. The behavior
            of the fading is set in the fade options in the Tool Options
            dialog.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Rate</term>
        <listitem>
          <para>
            This option applies to the Airbrush, Convolve tool, and
            Smudge tool, all of which have time-based effects.
          </para>
          <para>
            The actions of these tools are more or less quick. The amount
            of Rate depends on the setting of the Rate slider in the Tool
            Options dialog.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Flow</term>
        <listitem>
          <para>
            Significant only for the Airbrush: more or less paint is delivered.
            The amount of flow depends on the setting of the Flow slider in the
            Tool Options dialog.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Jitter</term>
        <listitem>
          <para>
            Normally the brush draws a line by printing the brush marks close
            together. Adding jitter means that the brush prints are scattered
            along the line. The amount of scattering depends on the setting
            of the jitter slider in the Tool Options dialog window.
          </para>
          <para>
            <guilabel>Pressure</guilabel>: (Graphic tablet). At low pressure
            the brush prints are spread according to the value set in the
            jitter amount slider. As the pressure increases the scattering
            amount decreases.
          </para>
          <para>
            <guilabel>Velocity</guilabel>: (Graphic tablet, mouse). At slow
            speed the brush prints are spread according to the value set in
            the jitter amount slider. As the speed increases the scattering
            amount decreases.
          </para>
          <para>
            <guilabel>Direction</guilabel>: (Graphic tablet, mouse). The
            jitter effect depends on the moving direction of the brush.
          </para>
          <para>
            <guilabel>Random</guilabel>: (Graphic tablet, mouse). The jitter
            varies at random.
          </para>
          <para>
            <guilabel>Fade</guilabel>: (Graphic tablet, mouse).
            Starting with no jitter and ending with the amount of jitter set
            in the jitter amount slider. The behavior of the fading is set in
            the fade options in the Tool Options dialog.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Fine Tuning the Dynamics</title>
    <figure>
      <title>Fine Tuning the Dynamics</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/paint-dynamics-tuning.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      If the current options does not suit you, you may fine-tune the settings
      from the Paint Dynamics Editor. Click on the down arrow to open the
      drop down menu and then select the option to be changed.
    </para>

    <figure>
      <title>The Fine Tuning Curve</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/paint-dynamics-tuning-color.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      Click on one of the options to open the fine tuning dialog. The upper part of the
      dialog contains a curve where you can adjust the behavior of the chosen
      parameters selected in the lower part of the dialog.
    </para>
  </sect3>

<!-- ****** Dynamic Options: ****** -->

  <sect3 id="gimp-tool-dynamic-options">
    <title>Dynamics Options</title>

    <indexterm>
      <primary>Tools</primary>
      <secondary>Dynamics Options</secondary>
    </indexterm>
    <indexterm>
      <primary>Dynamics Options</primary>
    </indexterm>

    <figure>
      <title>Dynamics Options</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/dynamics-options.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      Many of the dynamics behaviors also depends on the settings of the
      Dynamics Options in the Tool Options dialog and vice versa. For example
      the fading will not work if it is not applied in the Dynamics section.
    </para>
    <variablelist>
      <varlistentry>
        <term>Fade Options</term>
        <listitem>
          <para>
            This slider determines the length of the fading. What will
            actually happen depends on the setting of the Dynamic. If
            set to act on the color for example, the color will be taken from
            the current gradient starting from the left side of the gradient
            and moving toward the right side of the gradient.
          </para>
          <para>
            The Fade Options has a drop down list determining how the
            fading is repeated.
          </para>
          <figure>
            <title>
              Illustration of the effects of the three gradient-repeat
              options, for the <guilabel>Abstract 2</guilabel> gradient.
            </title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/tool-options/brush-gradient-normal.png"/>
              </imageobject>
              <caption>
                  <para>Abstract2 Gradient</para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/tool-options/brush-gradient-none.png"/>
              </imageobject>
                <caption>
                  <para>None</para>
                </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/tool-options/brush-gradient-sawtooth.png"/>
              </imageobject>
                <caption>
                  <para>Sawtooth</para>
                </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG"
                  fileref="images/tool-options/brush-gradient-triangular.png"/>
              </imageobject>
                <caption>
                  <para>Triangular</para>
                </caption>
            </mediaobject>
          </figure>
          <para>
            This option determines what happens if a brush stroke extends
            farther than the Length specified by the slider. There are three
            possibilities:
          </para>
          <itemizedlist>
            <listitem>
              <para>
                <guilabel>None</guilabel> means that the color from the end of
                the gradient will be used throughout the remainder of the
                stroke;
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Sawtooth wave</guilabel> means that the
                gradient will be restarted from the beginning, which
                will often produce a color discontinuity;
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Triangular wave</guilabel> means that the
                gradient will be traversed in reverse, afterwards bouncing
                back and forth until the end of the brush stroke.
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Color Options</term>
        <listitem>
          <para>
            Here you can choose the gradient to use as color source
            when using the brush with the color option set. Click on the box
            showing the gradient to change to another one from the gradient
            list.
          </para>
          <para>
            If no color option is selected in the currently used
            dynamics, the brush will use the foreground color set in the
            toolbox.
          </para>
        </listitem>
      </varlistentry>

    </variablelist>
  </sect3>
</sect2>
