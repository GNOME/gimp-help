<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE sect2 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.docbook.org/xml/4.5/docbookx.dtd">
<!-- section history:
  2008-04-11 JPL reviewed fr
  2008-02-05 j.h : updated fr to v2.4 and enhanced align modes
                   examples for 'en' and 'fr'
  2008-01-18 ude: enhanced(?) align mode examples
  2007-11-11 KoSt updated 'no' 2.4
  2007-10-21 lexa: reviewed de for GIMP 2.4
  2007-06-16 kost: added norwegian
  2007-05-23 Rebuilt Aligment section by j.h
  2006-07-01 added es translation by m.q
  2006-04-20 added it translation by ciampix
  2006-02-05 fr revised; shortcut modified in "en" by j.h
  2005-12-07 replaced <simplesect> by <sect3> by lexa
  2005-11-30 replaced informalfigure by figure by lexa
  2005-05-23 de reviewed by axel.wernicke
-->
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tool-clone">
  

  <title>
    <phrase>Clone</phrase>
    
    
    
    
    
    
    
    
    
    
  </title>

  <indexterm significance="normal">
    <primary>Tools</primary><secondary>Clone</secondary>
  </indexterm>
  <indexterm significance="normal"><primary>Clone</primary></indexterm>

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  <figure float="0">
    <title>
      <phrase>Clone tool icon in the Toolbox</phrase>
      
      
      
      
      
      
      
      
      
      
    </title>

    <mediaobject>
      <imageobject>
        <imagedata fileref="../images/toolbox/toolbox-clone.png" format="PNG"/>
      </imageobject>
      
      
      
      
      
      
    </mediaobject>
  </figure>

  <para>
    The Clone tool uses the current brush to copy from an image or pattern.
    It has many uses: one of the most important is to repair problem areas in
    digital photos, by <quote>painting over</quote> them with pixel data from
    other areas.
    This technique takes a while to learn, but in the hands of a skilled user
    it is very powerful. Another important use is to draw patterned lines or
    curves: see <link linkend="gimp-concepts-patterns">Patterns</link>
    for examples.
  </para>
  
  
  
  
  
  
  

  

  

  <para>
    If you want to clone from an image, instead of a pattern, you must tell
    GIMP which image you want to copy from. You do this by holding down the
    Ctrl key and clicking in the desired source image. Until you have set the
    source in this way, you will not be able to paint with the Clone tool:
    the tool cursor tells you this by showing
    <guiicon moreinfo="none">
      <inlinemediaobject>
        <imageobject>
          <imagedata fileref="../images/toolbox/clone-bad.png"/>
        </imageobject>
      </inlinemediaobject>
    </guiicon>.
  </para>
  
  
  
  
  
  
  
  
  

  <para>
    If you clone from a pattern, the pattern is <emphasis>tiled</emphasis>;
    that is, when the point you are copying from moves past one of the
    edges, it jumps to the opposite edge and continues, as though the pattern
    were repeated side-by-side, indefinitely. When you clone from an image
    this does not happen: if you go beyond the edges of the source, the Clone
    tool stops producing any changes.
  </para>
  
  
  
  
  
  
  
  
  

  <para>
    You can clone from any drawable (that is, any layer, layer mask, or
    channel) to any other drawable. You can even clone to or from the
    selection mask, by switching to QuickMask mode. If this means copying
    colors that the target does not support (for example, cloning from an RGB
    layer to an Indexed layer or a layer mask), then the colors will be
    converted to the closest possible approximations.
  </para>
  
  
  
  
  
  
  
  
  


  <sect3>
    <title>
      <phrase>How to Activate</phrase>
      
      
      
      
      
      
      
      
      
      
    </title>

    <para>You can activate the Clone tool in several ways :</para>
    
    
    
    
    
    
    
    

    <itemizedlist>
      <listitem>
        <para>
          From the image menu through
          <menuchoice moreinfo="none">
            <guimenu moreinfo="none">Tools</guimenu>
            <guisubmenu moreinfo="none">Paint Tools</guisubmenu>
            <guimenuitem moreinfo="none">Clone</guimenuitem>
          </menuchoice>.
        </para>
        
        
        
        
        
        
        
        
        
      </listitem>

      <listitem>
        <para>
          By clicking on the tool icon
          <guiicon moreinfo="none">
            <inlinemediaobject>
              <imageobject>
                <imagedata fileref="../images/toolbox/stock-tool-clone-22.png"/>
              </imageobject>
            </inlinemediaobject>
          </guiicon> in Toolbox.
        </para>
        
        
        
        
        
        
      </listitem>

      <listitem>
        <para>
          By pressing the <keycap moreinfo="none">c</keycap> keyboard shortcut.
        </para>
        
        
        
        
        
        
      </listitem>
    </itemizedlist>
  </sect3>


  <sect3>
    <title>
      <phrase>Key modifiers</phrase>
      
      
      
      
      
      
      
      
      
      
    </title>

    <para>
      See the <link linkend="gimp-tools-brush-modifiers">brush tools key
      modifiers</link> for a description of key modifiers that have the same
      effect on all brush tools.
    </para>

    

    

    

    

    

    

    

    

    <variablelist>
      <varlistentry>
        <term><keycap moreinfo="none">Ctrl</keycap></term>
        

        <listitem>
          <para>
            The Ctrl key is used to select the source, if you are cloning
            from an image: it has no effect if you are cloning from a
            pattern. You can clone from any layer of any image, by clicking
            on the image display, with the Ctrl key held down, while the
            layer is active (as shown in the Layers dialog). If Alignment is
            set to <quote>None</quote>, <quote>Aligned</quote>, or
            <quote>Fixed</quote> in tool options, then the point you click on
            becomes the origin for cloning: the image data at that point will
            be used when you first begin painting with the Clone tool. In
            source-selection mode, the cursor changes to a reticle cross
            symbol
            <guiicon moreinfo="none">
              <inlinemediaobject>
                <imageobject>
                  <imagedata fileref="../images/toolbox/clone-cross.png"/>
                </imageobject>
              </inlinemediaobject>
            </guiicon>.
          </para>

          

          

          

          

          

          

          

          
          
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>


  <sect3>
    <title>
      <phrase>Tool Options</phrase>
      
      
      
      
      
      
      
      
      
    </title>

    <figure float="0">
      <title>
        <phrase>Tool Options for the Clone tool</phrase>
        
        
        
        
        
        
        
        
        
      </title>

      <mediaobject>
        <imageobject>
          <imagedata fileref="../images/toolbox/tool-options-clone.png" format="PNG"/>
        </imageobject>
        
        
        
        
        
        
      </mediaobject>
    </figure>

    

    <variablelist>
      

      <!-- TODO it zh_CN: you could include (and translate!) the following
      note as first list item here, as it was done for de,en,fr -->
      <varlistentry>
        <term>
          Mode; Opacity; Brush; Pressure Sensitivity, Fade out, Apply Jitter,
          Hard Edges
        </term>
        
        
        
        
        
        

        <listitem>
          <!-- A note about common features with link to description: -->
          <xi:include href="about-common-brush-options.xml"/>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Source</term>
        
        
        
        
        
        
        
        
        

        <listitem>
          <indexterm significance="normal">
            <primary>Patterns</primary>
            <secondary>Pattern as a source to clone</secondary>
          </indexterm>
          
          
          
          
          

          <para>
            The choice you make here determines whether data will be copied
            from the pattern shown above, or from one of the images you have
            open.
          </para>
          
          
          
          
          

          <variablelist>
            <varlistentry>
              <!-- TODO: es it sv term missing -->
              <term>Image</term>
              
              
              
              

              <listitem>
                <para>
                  If you choose <quote>Image source</quote>,
                  you must tell GIMP which layer to use as the source, by
                  Ctrl-clicking on it, before you can paint with the tool.
                </para>
                
                

                
                

                
                
                
                

                
                
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>Pattern</term>
              
              
              
              
              
              
              
              
              

              <listitem>
                <para>
                  Clicking on the pattern symbol brings up the Patterns
                  dialog, which you can use to select the pattern to paint
                  with. This option is only relevant if you are cloning from a
                  Pattern source.
                </para>
                
                
                
                
                
                
                
                

                
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Alignment</term>
        
        
        
        
        
        
        
        
        

        <listitem>
          <para>
            The Alignment mode defines the relation between the brush
            position and the source position.
          </para>
          
          
          
          
          
          
          
          
          
          
          
          

          <!--TODO es;it;pl;ru;sv New examples-->
          <para>
            In the following examples, we will use a source image where the
            sample to be cloned will be taken, and a destination image where
            the sample will be cloned (it could be a layer in the source
            image)
          </para>
          
          
          

          <figure float="0">
            <title>
              <phrase>Original images for clone alignment</phrase>
              
              
              
            </title>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG" fileref="../images/toolbox/clone-source.png"/>
              </imageobject>
              <caption>
                <para>
                  We will use the largest brush with the Pencil tool. The
                  source is represented here with a ringed cross.
                </para>
                
                
                
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata format="PNG" fileref="../images/toolbox/clone-dest.png"/>
              </imageobject>
              <caption>
                <para>
                  An image with a solid background only. We shall draw three
                  cloning strokes successively.
                </para>
                
                
                
              </caption>
            </mediaobject>
          </figure>

          <!--TODO es;it;ru;sv: this figure is obsolete, use new examples-->
          

          
          
          
          <!--para lang="ru">
            Выше: схематическая иллюстрация трёх возможных режимов
            выравнивания. Курсор показан красным прямоугольником, а точка
            источника как чёрное перекрестие.
          </para-->
          
          

          <variablelist>
            <varlistentry>
              <term>None</term>
              
              <!--TODO es it sv zh_CN: check: changed 'en'-->
              
              
              
              
              
              
              
              

              <listitem>
                <para>
                  In this mode, each brushstroke is treated separately. For
                  each stroke, the point where you first click is copied from
                  the source origin; there is no relationship between one
                  brush stroke and another. In non-aligned mode, different
                  brush strokes will usually clash if they intersect each
                  other.
                </para>
                
                
                
                
                
                
                
                
                
                
                <!--TODO es;it;pl;ru;sv New example-->
                <figure float="0">
                  <title>
                    <phrase>
                      <quote>None</quote> clone alignment
                    </phrase>
                    
                    
                    
                  </title>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG" fileref="../images/toolbox/clone-none.png"/>
                    </imageobject>
                    <caption>
                      <para>
                        At every new brush stroke, the source goes back to
                        its first position. The same sample is always cloned.
                      </para>
                      <!-- de: no caption, we use para above -->
                      
                      
                    </caption>
                  </mediaobject>
                </figure>

              </listitem>
            </varlistentry>

            <varlistentry>
              <term>Aligned</term>
              
              
              
              
              
              
              
              
              

              <listitem>
                <para>
                  In this mode, the first click you make when painting sets
                  the offset between the source origin and the cloned result,
                  and all subsequent brushstrokes use the same offset. Thus,
                  you can use as many brushstrokes as you like, and they will
                  all mesh smoothly with one another.
                </para>
                <para>
                  If you want to change the offset, select a new source origin
                  by clicking with the <keycap moreinfo="none">Ctrl</keycap> key pressed.
                </para>

                
                
                

                
                <!--TODO es: check, 'en' changed, was too complicate-->
                

                
                

                
                <!--TODO it: check, 'en' changed, was too complicate-->
                

                

                
                

                
                

                
                <!--TODO sv: check, 'en' changed, was too complicate-->
                
                
                
                <!--TODO es;it;pl;ru;sv New example-->
                <figure float="0">
                  <title>
                    <phrase>
                      <quote>Aligned</quote> clone alignment
                    </phrase>
                    
                    
                    
                  </title>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG" fileref="../images/toolbox/clone-aligned.png"/>
                    </imageobject>
                    <caption>
                      <para>
                        At every new brush stroke, the source keeps the
                        same offset it had with the previous brush stroke.
                        So, there is no cloning offset for the first brush
                        stroke. Here, for the following strokes, the source
                        ends up out of the source image canvas; hence the
                        truncated aspect.
                      </para>
                      <!-- de: no caption, we use para above -->
                      
                      
                    </caption>
                  </mediaobject>
                </figure>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>Registered</term>
              
              
              
              
              
              
              
              
              

              <listitem>
                <!--para lang="en">
                  This mode copies each pixel in the source to the pixel with
                  the same offset in the target. It is most commonly useful
                  when you want to clone from one layer to another layer
                  within the same image. It is also useful when cloning from
                  a pattern, if you want the left or upper edges of the
                  pattern to line up precisely with the corresponding edges
                  of the target layer.
                </para-->
                <para>
                  The <quote>Registered</quote> mode is different from the
                  other alignment modes. When you copy from an image, a
                  Ctrl-click will register a source layer. Then painting in a
                  target layer will clone each corresponding pixel (pixel with
                  the same offset) from the source layer. This is useful when
                  you want to clone parts of an image from one layer to
                  another layer within the same image. (But remember that you
                  can also clone from one image to another image.)
                </para>
                <para>
                  When you selected a pattern as source, imagine a new layer
                  filled with this pattern as the registered source layer.
                </para>

                
                
                

                
                
                
                
                
                
                <!--para lang="ru">
                  В этом режиме каждая точка копируется из источника в
                  точку назначения с тем же смещением. Обычно это используется
                  для копирования из одного слоя в другой того же изображения.
                  Этот режим также полезен при копировании шаблона чтобы левый
                  и верхний края шаблона совпали с теми же краями слоя.
                </para-->
                
                
                
                
                <!--TODO es;it;pl;ru;sv New example-->
                <figure float="0">
                  <title>
                    <phrase>
                      <quote>Registered</quote> clone alignment
                    </phrase>
                    
                    
                    
                  </title>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG" fileref="../images/toolbox/clone-registered.png"/>
                    </imageobject>
                    <caption>
                      <para>
                        At every brush stroke, the source adopts the position
                        of the mouse pointer in the destination layer. Here,
                        the destination layer is smaller than the source
                        layer; so, there is no truncated aspect.
                      </para>
                      <!-- de: no caption, we use para above -->
                      
                      
                    </caption>
                  </mediaobject>
                </figure>
              </listitem>
            </varlistentry>

            <!-- TODO: es it sv zh_CN new for GIMP 2.4 -->
            <varlistentry>
              <term>Fixed</term>
              
              
              
              
              

              <listitem>
                <para>
                  Using this mode you will paint with the source origin,
                  unlike the modes <guilabel moreinfo="none">None</guilabel> or
                  <guilabel moreinfo="none">Aligned</guilabel> even when drawing a line. The
                  source will not be moved.
                </para>
                
                
                
                
                
                
                <!--TODO es;it;pl;ru;sv New example-->
                <figure float="0">
                  <title>
                    <phrase>
                      <quote>Fixed</quote> clone alignment
                    </phrase>
                    
                    
                    
                  </title>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG" fileref="../images/toolbox/clone-fixed.png"/>
                    </imageobject>
                    <caption>
                      <para>
                        The source remains fixed. The same small sample is
                        reproduced identically in a tightened way.
                      </para>
                      <!-- de: no caption, we use para above -->
                      
                      
                    </caption>
                  </mediaobject>
                </figure>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>


  <sect3 id="filter-and-history-brushes">
    <title>
      <phrase>Further Information</phrase>
      
      
      
      
      
      
      
      
      
    </title>

    <variablelist>
      <varlistentry>
        <term>Transparency</term>
        
        
        
        
        
        
        
        
        

        <listitem>
          <para>
            The effects of the Clone tool on transparency are a bit
            complicated. You cannot clone transparency: if you try to clone
            from a transparent source, nothing happens to the target. If you
            clone from a partially transparent source, the effect is weighted
            by the opacity of the source. So, assuming 100% opacity and a hard
            brush:
          </para>
          
          
          
          
          
          
          
          
          

          <itemizedlist>
            <listitem>
              <para>
                Cloning translucent black onto white produces gray.
              </para>
              
              
              
              
              
              
              
              
              
            </listitem>

            <listitem>
              <para>
                Cloning translucent black onto black produces black.
              </para>
              
              
              
              
              
              
              
              
              
            </listitem>

            <listitem>
              <para>
                Cloning translucent white onto white produces white.
              </para>
              
              
              
              
              
              
              
              
              
            </listitem>

            <listitem>
              <para>
                Cloning translucent white onto black produces gray.
              </para>
              
              
              
              
              
              
              
              
              
            </listitem>
          </itemizedlist>

          <para>
            Cloning can never increase transparency, but, unless <quote>keep
            transparency</quote> is turned on for the layer, it can reduce
            it.
            Cloning an opaque area onto a translucent area produces an opaque
            result; cloning a translucent area onto another translucent area
            causes an increase in opacity.
          </para>
          
          
          
          
          
          
          
          
          

        </listitem>
      </varlistentry>
<!-- The "Filter brushes" and the "History brush" have the same content as in <tip> above! Which to remove? -->
<!-- IMHO none. ude-->
<!-- IMHO the tips. j.h-->
      <varlistentry>
        <term><quote>Filter</quote> brushes</term>
        
        
        
        
        
        
        
        
        

        <listitem>
          <para>
            <indexterm significance="normal">
              <primary>Brushes</primary>
              <secondary><quote>Filter</quote> brushes</secondary>
            </indexterm>
            There are a few non-obvious ways to use the Clone tool to obtain
            powerful effects. One thing you can do is to create <quote>Filter
            brushes</quote>, that is, create the effect of applying a filter
            with a brush. To do this, duplicate the layer you want to work
            on, and apply the filter to the copy. Then activate the Clone
            tool, setting Source to <quote>Image source</quote> and Alignment
            to <quote>Registered</quote>. Ctrl-click on the filtered layer to
            set it as the source, and paint on the original layer: you will
            then in effect be painting the filtered image data onto the
            original layer.
          </para>

          

          

          

          

          

          

          

          

          
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>History brush</term>
        
        
        
        
        
        
        
        
        

        <listitem>
          <para>
            <indexterm significance="normal">
              <primary>Brushes</primary>
              <secondary>History brush</secondary>
            </indexterm>
            You can use a similar approach to imitate Photoshop's
            <quote>History brush</quote>, which allows you to selectively
            undo or redo changes using a brush. To do this, start by
            duplicating the image; then, in the original, go back to the
            desired state in the image's history, either by undoing or by
            using the Undo History dialog. (This must be done in the
            original, not the copy, because duplicating an image does not
            duplicate the Undo history.) Now activate the Clone tool,
            setting Source to <quote>Image source</quote> and Alignment to
            <quote>Registered</quote>. Ctrl-click on a layer from one image,
            and paint on the corresponding layer from the other image.
            Depending on how you do it, this gives you either an <quote>undo
            brush</quote> or a <quote>redo brush</quote>.
          </para>

          

          

          

          

          

          

          

          

          
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
</sect2>
