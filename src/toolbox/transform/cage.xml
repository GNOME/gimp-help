<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect2 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
                       "http://www.docbook.org/xml/4.3/docbookx.dtd">

<sect2 id="gimp-tool-cage">
  <title>The Cage Tool</title>

  <indexterm>
    <primary>Tools</primary>
    <secondary>Cage Tool</secondary>
  </indexterm>
  <indexterm><primary>Cage</primary></indexterm>

  <figure>
    <title>The Cage Tool in the Toolbox</title>
    <mediaobject>
      <imageobject>
        <imagedata format="PNG"
          fileref="images/toolbox/toolbox-cage.png"/>
      </imageobject>
    </mediaobject>
  </figure>

  <para>
    The Cage tool is a special transforming tool allowing you to select the 
    transforming area by setting anchor points by free hand drawing similar
    to the way you do it with the Free Selection (Lasso) tool. The tool adds 
    nothing to the image until you confirm the transformation by pressing the 
    <keycap>Enter</keycap> key.
  </para>

  <sect3>
    <title>
      <phrase>Activating the Tool</phrase>
    </title>

    <para>
      You can activate the Cage tool in several ways:
    </para>

    <itemizedlist>
      <listitem>
        <para>
          From the image-menu, through:
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Transform Tools</guisubmenu>
            <guimenuitem>Cage Transform</guimenuitem>
          </menuchoice>
        </para>
      </listitem>
      <listitem>
        <para>
          by clicking on the tool icon:
          <guiicon>
            <inlinemediaobject>
              <imageobject>
                <imagedata fileref="images/toolbox/stock-tool-cage-22.png" />
              </imageobject>
            </inlinemediaobject>
          </guiicon>
          in the toolbox
        </para>
      </listitem>
      <listitem>
        <para>
          or by using the <keycap>Shift</keycap> <keycap>G</keycap> keyboard shortcut.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Tool Options</title>
    <figure>
      <title>Cage Tool options</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/tool-options-cage.png"/>
        </imageobject>
      </mediaobject>
    </figure>
    <para>
      Normally, tool options are displayed in a window attached under the 
      Toolbox as soon as you activate a tool. If they are not, you can access 
      them from the image menu bar through 
      <menuchoice>
        <guimenu>Windows</guimenu>
        <guisubmenu>Dockable Windows</guisubmenu>
        <guimenuitem>Tool Options</guimenuitem>
      </menuchoice>
      which opens the option window of the selected tool.
    </para>
    <variablelist>
      <varlistentry>
        <term>Create or adjust the cage</term>
        <listitem>
          <para>
            When activating the Cage Tool this option is selected. You can now 
            click in the image to make anchor points around the desired area. 
            If you need to add anchor points at a later stage, you click on 
            this option.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Deform the cage to deform the image</term>
        <listitem>
          <para>            
            <acronym>GIMP</acronym> switch to this option automatically when the 
            cage outline is finished. Now you are able to drag the anchor points 
            around in the image and even outside it to transform the picture. 
            The transforming starts when you release the mouse button.  
          </para>
          <para>
            You can activate more than one anchor point by holding down the 
            <keycap>Shift</keycap> key while clicking on the points. You can 
            also select more points by holding down the mouse button while 
            drawing a rectangle around the desired points.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Fill the original position of the cage with a plain color</term>
        <listitem>
          <para>
            If the transforming action results in empty areas these areas will 
            be filled with color if this option is checked. It looks like the 
            color is picked from the start pixel of the cage line.   
          </para>
        </listitem>
      </varlistentry>
    </variablelist>       
  </sect3>

  <sect3>
    <title>Example for the <quote>Cage</quote> tool</title>
    <figure>
      <title>Cage Tool example</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/cage-1.png"/>
        </imageobject>
        <caption>The cage area selected</caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
            fileref="images/toolbox/cage-2.png"/>
        </imageobject>
        <caption>Transformed</caption>
      </mediaobject>      
    </figure>    
    
    <para>
      When clicking on the cage icon in the toolbox the cage option is set to
      <quote>Create or adjust the cage</quote>. You are now able to draw a cage
      outline in the image by successively clicking around the area you want to 
      transform. Click on the starting point to finish the selection. 
      <acronym>GIMP</acronym> will then do some mathematics and activate the 
      <quote>Deform the cage to deform the image</quote> to allow you to drag
      the points on the line to deform the cage and the image.       
    </para>
    <para>
      The selected point(s) turns to a square. Drag the points around in the 
      image to transform it. The transforming will occur every time you release 
      the press on the mouse button. The transforming may take some time so be 
      patient especially when working with large images.
    </para>
    <para>
      If you desire to add more points to the line you have to select the 
      <quote>Create or adjust the cage</quote> in the tool options dialog.
      Put the points on the line and switch back to the <quote>Deform the cage 
      to deform the image</quote> to transform the image or layer. 
    </para>
    <para>
      When the work is done, press the <keycap>Enter</keycap> key to confirm it.
    </para>
  </sect3>
</sect2>
