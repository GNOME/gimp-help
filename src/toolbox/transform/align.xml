<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect2 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
                       "http://www.docbook.org/xml/4.3/docbookx.dtd">
<!-- section history:
  2018-10-17 j.h: update to v2.10
  2017-08-24 j.h: update
  2007-08-27 ude: added rubber-banding
-->
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-tool-align">
  <title>Align and Distribute</title>
  <indexterm>
    <primary>Align and Distribute</primary>
  </indexterm>
  <indexterm>
    <primary>Tools</primary>
    <secondary>Align and Distribute</secondary>
  </indexterm>

  <para>
    Use the Align and Distribute tool to line up layers or paths with each
    other, or to space them out. When this tool is selected, the mouse pointer
    turns to a small hand.
  </para>
  <para>
    The <guilabel>Align</guilabel> setting determines what the reference object
    for alignment is. The <guilabel>Targets</guilabel> settings determine which
    objects will be distributed or aligned.
  </para>
  <para>
    You use the buttons below the settings to select how you want your objects
    aligned or distributed.
  </para>

  <sect3>
    <title>Activating the Tool</title>
    <para>
      There are different possibilities to activate the tool:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          From the main menu:
          <menuchoice>
            <guimenu>Tools</guimenu>
            <guisubmenu>Transform Tools</guisubmenu>
            <guimenuitem>Align and Distribute</guimenuitem>
          </menuchoice>.
        </para>
      </listitem>
      <listitem>
        <para>
          By clicking the tool icon
          <guiicon>
            <inlinemediaobject>
              <imageobject>
                <imagedata
                  fileref="images/stock-icons/gimp-tool-align.svg" contentwidth="16px"/>
              </imageobject>
            </inlinemediaobject>
          </guiicon>
          in the Toolbox.
        </para>
      </listitem>
      <listitem>
        <para>
          By pressing the <keycap>Q</keycap> keyboard shortcut.
        </para>
      </listitem>
    </itemizedlist>
  </sect3>

  <sect3>
    <title>Options</title>
    <figure>
      <title>Tool Options Dialog</title>
      <mediaobject>
        <imageobject>
          <imagedata format="PNG"
                     fileref="images/toolbox/tool-options-align.png"/>
        </imageobject>
      </mediaobject>
    </figure>

    <xi:include href="../about-common-options-display.xml"/>

    <variablelist>
      <varlistentry>
        <term>Targets</term>
        <listitem>
          <variablelist>
            <varlistentry>
              <term>Selected layers</term>
              <listitem>
                <para>
                  When enabled, the layers, selected in the
                  <link linkend="gimp-layer-dialog-using">Layers Dialog</link>,
                  will be used as targets.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Use extents of layer contents</term>
              <listitem>
                <para>
                  When disabled, aligning and distributing happens based on
                  the borders of the target layers.
                  When enabled, it happens based on its content bounding box.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Control point selection</term>
              <listitem>
                <para>
                  The nine little squares display the available control points.
                  You can change which one is selected by clicking on one of
                  the squares.
                  The selected control point determines what location on a
                  target will be used for alignment or distribution.
                </para>
                <para>
                  By default, the center control point is selected. For
                  alignment, this means that the center of each target is
                  aligned with the reference. It depends on the chosen type
                  of alignment which side of the reference is used to align
                  with.
                </para>
                <para>
                  Choosing one of the other control points changes the point of
                  alignment on the targets to one of the corners or edges
                  instead of the center.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Selected paths</term>
              <listitem>
                <para>
                  When enabled, the paths, selected in the
                  <link linkend="gimp-path-dialog-using">Paths Dialog</link>,
                  will be used as targets.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Target guides</term>
              <listitem>
                <para>
                  Guides, when selected, will also be used as targets. To select
                  a guide as one of the targets, <keycap>Alt</keycap>-click
                  on the guide. To add another guide, or to unselect a
                  selected guide, use
                  <keycombo>
                    <keycap>Alt</keycap>
                    <keycap>Shift</keycap>
                  </keycombo>-click on the guide.
                  Selected guides are displayed in red instead of blue.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Align</term>
        <listitem>
          <variablelist>
            <varlistentry>
              <term>Relative to:</term>
              <listitem>
                <para>
                  In this drop-down list you select the reference, which is
                  the object in your image the targets will be aligned with.
                </para>
                <itemizedlist>
                  <listitem>
                    <para>
                      <guilabel>Image</guilabel>: the image is used as
                      reference with which the target objects will be aligned.
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      <guilabel>Selection</guilabel>: the selection is used as
                      reference with which the target objects will be aligned.
                      If no selection is active, the image will be used instead.
                    </para>
                    <!-- TODO: Remove this note when issue
                         https://gitlab.gnome.org/GNOME/gimp/-/issues/14155
                         is fixed.
                    -->
                    <note>
                      <para>
                        There is a known issue that choosing
                        <guilabel>Selection</guilabel> in combination with
                        <guilabel>Use extents of layer contents</guilabel> is
                        not working correctly.
                      </para>
                    </note>
                  </listitem>
                  <listitem>
                    <para>
                      <guilabel>Picked reference object</guilabel>:
                      The object to be used as source, relative to which the
                      other chosen objects will be aligned. This can be a
                      layer, a path or a guide.
                    </para>
                    <para>
                      You choose the reference object by clicking on the
                      layer, path or guide in the image. It wil subsequently be
                      shown with small squares in the corners.
                    </para>
                    <para>
                      The name of the active reference object is displayed
                      below this setting. When no reference object has been
                      picked yet, the align buttons will be disabled.
                    </para>
                  </listitem>
                </itemizedlist>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Align buttons</term>
              <listitem>
                <para>
                  These buttons become active when a reference object and one
                  or more targets are selected.
                  <itemizedlist>
                    <listitem>
                      <para>
                        <guiicon>
                          <inlinemediaobject>
                            <imageobject>
                              <imagedata fileref="images/stock-icons/gimp-gravity-west.svg" contentwidth="16px"/>
                            </imageobject>
                          </inlinemediaobject>
                        </guiicon>
                        Align the anchor points of the targets with the left
                        edge of the reference.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        <guiicon>
                          <inlinemediaobject>
                            <imageobject>
                              <imagedata fileref="images/stock-icons/gimp-hcenter.svg" contentwidth="16px"/>
                            </imageobject>
                          </inlinemediaobject>
                        </guiicon>
                        Align the anchor points of the targets with the
                        horizontal center of the reference.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        <guiicon>
                          <inlinemediaobject>
                            <imageobject>
                              <imagedata fileref="images/stock-icons/gimp-gravity-east.svg" contentwidth="16px"/>
                            </imageobject>
                          </inlinemediaobject>
                        </guiicon>
                        Align the anchor points of the targets with the right
                        edge of the reference.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        <guiicon>
                          <inlinemediaobject>
                            <imageobject>
                              <imagedata fileref="images/stock-icons/gimp-gravity-north.svg" contentwidth="16px"/>
                            </imageobject>
                          </inlinemediaobject>
                        </guiicon>
                        Align the anchor points of the targets with the top edge
                        of the reference.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        <guiicon>
                          <inlinemediaobject>
                            <imageobject>
                              <imagedata fileref="images/stock-icons/gimp-vcenter.svg" contentwidth="16px"/>
                            </imageobject>
                          </inlinemediaobject>
                        </guiicon>
                        Align the anchor points of the targets with the
                        vertical center of the reference.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        <guiicon>
                          <inlinemediaobject>
                            <imageobject>
                              <imagedata fileref="images/stock-icons/gimp-gravity-south.svg" contentwidth="16px"/>
                            </imageobject>
                          </inlinemediaobject>
                        </guiicon>
                        Align the anchor points of the targets with the bottom
                        edge of the reference.
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>Example 1</term>
              <!--
                Uses /src/images/tool-options/align-example.xcf
              -->
              <listitem>
                <figure>
                  <title>Example of aligning relative to a selection</title>
                  <mediaobject>
                    <imageobject>
                      <imagedata fileref="images/toolbox/align-ex-orig-example.png"
                        format="PNG"/>
                    </imageobject>
                    <caption>
                      <para>
                        An image with a transparent background layer, a small
                        red circle layer, which is selected, and a selection.
                        The selection is the reference object, as shown by the
                        squares in the corners.
                      </para>
                      <para>
                        We want the red circle placed in the center of the
                        selection.
                      </para>
                    </caption>
                  </mediaobject>
                  <mediaobject>
                    <imageobject>
                      <imagedata fileref="images/toolbox/align-ex1.png"
                        format="PNG"/>
                    </imageobject>
                    <caption>
                      <para>
                        We click
                        <guiicon>
                          <inlinemediaobject>
                            <imageobject>
                              <imagedata fileref="images/stock-icons/gimp-hcenter.svg" contentwidth="16px"/>
                            </imageobject>
                          </inlinemediaobject>
                        </guiicon>
                        to align the layer to the horizontal center of the
                        selection.
                      </para>
                    </caption>
                  </mediaobject>
                  <mediaobject>
                    <imageobject>
                      <imagedata fileref="images/toolbox/align-ex2.png"
                        format="PNG"/>
                    </imageobject>
                    <caption>
                      <para>
                        Then we click
                        <guiicon>
                          <inlinemediaobject>
                            <imageobject>
                              <imagedata fileref="images/stock-icons/gimp-vcenter.svg" contentwidth="16px"/>
                            </imageobject>
                          </inlinemediaobject>
                        </guiicon>
                        to align the layer to the vertical center of the
                        selection.
                      </para>
                    </caption>
                  </mediaobject>
                </figure>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Example 2</term>
              <listitem>
                <figure>
                  <title>Example of aligning relative to a guide</title>
                  <mediaobject>
                    <imageobject>
                      <imagedata fileref="images/toolbox/align-ex-guide-0.png"
                        format="PNG"/>
                    </imageobject>
                    <caption>
                      <para>
                        An image with a transparent background layer, three
                        small colored layers, which are selected, and a
                        vertical guide, which is set as reference object, as
                        shown by the squares at the top and bottom of the guide.
                      </para>
                    </caption>
                  </mediaobject>
                  <mediaobject>
                    <imageobject>
                      <imagedata fileref="images/toolbox/align-ex-guide-1.png"
                        format="PNG"/>
                    </imageobject>
                    <caption>
                      <para>
                        We want to align the left edges of the colored layers
                        with the guide. We set the left edge anchor point as
                        target location for alignment.
                      </para>
                    </caption>
                  </mediaobject>
                  <mediaobject>
                    <imageobject>
                      <imagedata fileref="images/toolbox/align-ex-guide-2.png"
                        format="PNG"/>
                    </imageobject>
                    <caption>
                      <para>
                        We click
                        <guiicon>
                          <inlinemediaobject>
                            <imageobject>
                              <imagedata fileref="images/stock-icons/gimp-gravity-west.svg" contentwidth="16px"/>
                            </imageobject>
                          </inlinemediaobject>
                        </guiicon>
                        to align the left side of the layers to the guide.
                      </para>
                    </caption>
                  </mediaobject>
                </figure>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Distribute</term>
        <listitem>
          <variablelist>
            <varlistentry>
              <term>Distribute buttons</term>
              <listitem>
                <para>
                  These buttons allow you to distribute the selected target
                  objects evenly on your image. Each button uses a different
                  way to do that distribution. You need a minimum of three
                  selected targets to enable these buttons.
                </para>
                <itemizedlist>
                  <listitem>
                    <para>
                      <guiicon>
                        <inlinemediaobject>
                          <imageobject>
                            <imagedata fileref="images/stock-icons/gimp-hfill.svg" contentwidth="16px"/>
                          </imageobject>
                        </inlinemediaobject>
                      </guiicon>
                      Distribute the targets horizontally, based on the
                      selected anchor point.
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      <guiicon>
                        <inlinemediaobject>
                          <imageobject>
                            <imagedata fileref="images/stock-icons/gimp-even-horizontal-gap-symbolic.svg" contentwidth="16px"/>
                          </imageobject>
                        </inlinemediaobject>
                      </guiicon>
                      Distribute the targets horizontally, with equal gaps
                      between them.
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      <guiicon>
                        <inlinemediaobject>
                          <imageobject>
                            <imagedata fileref="images/stock-icons/gimp-vfill.svg" contentwidth="16px"/>
                          </imageobject>
                        </inlinemediaobject>
                      </guiicon>
                      Distribute the targets vertically, based on the
                      selected anchor point.
                    </para>
                  </listitem>
                  <listitem>
                    <para>
                      <guiicon>
                        <inlinemediaobject>
                          <imageobject>
                            <imagedata fileref="images/stock-icons/gimp-even-vertical-gap-symbolic.svg" contentwidth="16px"/>
                          </imageobject>
                        </inlinemediaobject>
                      </guiicon>
                      Distribute the targets vertically, with equal gaps
                      between them.
                    </para>
                  </listitem>
                </itemizedlist>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Example 3</term>
              <listitem>
                <figure>
                  <title>Example of distributing three layers with equal gaps</title>
                  <mediaobject>
                    <imageobject>
                      <imagedata fileref="images/toolbox/align-ex-guide-0.png"
                        format="PNG"/>
                    </imageobject>
                    <caption>
                      <para>
                        We use the same image as in example 2.
                      </para>
                    </caption>
                  </mediaobject>
                  <mediaobject>
                    <imageobject>
                      <imagedata fileref="images/toolbox/align-ex-distribute-1.png"
                        format="PNG"/>
                    </imageobject>
                    <caption>
                      <para>
                        We want to distribute the colored layers with equal
                        gaps between them, both horizontally and vertically.
                      </para>
                      <para>
                        We click
                        <guiicon>
                          <inlinemediaobject>
                            <imageobject>
                              <imagedata fileref="images/stock-icons/gimp-even-horizontal-gap-symbolic.svg" contentwidth="16px"/>
                            </imageobject>
                          </inlinemediaobject>
                        </guiicon>
                        to distribute the layers horizontally, and then
                        <guiicon>
                          <inlinemediaobject>
                            <imageobject>
                              <imagedata fileref="images/stock-icons/gimp-even-vertical-gap-symbolic.svg" contentwidth="16px"/>
                            </imageobject>
                          </inlinemediaobject>
                        </guiicon>
                         to do the same vertically.
                      </para>
                    </caption>
                  </mediaobject>
                </figure>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3>
    <title>Combined Align and Distribute Example</title>
    <!--
      Uses /src/images/tool-options/align-distribute-example.xcf
    -->
    <figure>
      <title>Align and Distribute Example</title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/align-ex-distrib-1-example.png"
            format="PNG"/>
        </imageobject>
        <caption>
          <para>
            An image with four text layers and a background color layer. The
            text layers are all selected in the Layers dialog.
          </para>
          <para>
            We want the text layers to be in the vertical center of the image,
            with equal space between each.
          </para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/align-ex-distrib-2.png"
            format="PNG"/>
        </imageobject>
        <caption>
          <para>
            We click
            <guiicon>
              <inlinemediaobject>
                <imageobject>
                  <imagedata fileref="images/stock-icons/gimp-vcenter.svg" contentwidth="16px"/>
                </imageobject>
              </inlinemediaobject>
            </guiicon>
            to vertically align the text layers relative to the image.
          </para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/align-ex-distrib-3.png"
            format="PNG"/>
        </imageobject>
        <caption>
          <para>
            Then we click
            <guiicon>
              <inlinemediaobject>
                <imageobject>
                  <imagedata fileref="images/stock-icons/gimp-even-horizontal-gap-symbolic.svg" contentwidth="16px"/>
                </imageobject>
              </inlinemediaobject>
            </guiicon>
            to distribute the text, with equal gaps between them.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
