<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect2 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN" "http://www.docbook.org/xml/4.3/docbookx.dtd">
<!-- section history
  2008-01-17 j.h: updated to v2.4 and enhanced 'en;fr'
  2007-06-06 kost: added 'no'
  2007-04-15 Added Spanish translation by AntI
  2006-02-10 en;fr revised by j.h
  2005-12-06 replaced simplesect by sect3 by lexa
  2005-12-06 replaced imformalfigure by figure by lexa
  050807 de reviewed by axel.wernicke
-->
<sect2 id="gimp-tool-levels">
  <sect2info>
    <revhistory>
      <revision>
        <revnumber>$Revision$</revnumber>
        <date>2008-01-17</date>
        <authorinitials>j.h</authorinitials>
      </revision>
    </revhistory>
  </sect2info>
  <title>
    <phrase>Levels</phrase>
  </title>
  <indexterm>
    <primary>Tools</primary>
    <secondary>Levels</secondary>
  </indexterm>
  <indexterm>
    <primary>Color</primary>
    <secondary>Adjust level colors</secondary>
  </indexterm>
  <indexterm>
    <primary>Level Tool</primary>
  </indexterm>
  <indexterm>
    <primary>Values</primary>
  </indexterm>
  <indexterm>
    <primary>Gamma</primary>
  </indexterm>
  <indexterm>
    <primary>Black point</primary>
  </indexterm>
  <indexterm>
    <primary>White point</primary>
  </indexterm>
  <para>
    The Level tool provides features similar to the Histogram tool but can
    also change the intensity range of the active layer or selection in every
    channel. This tool is used to make an image lighter or darker, to change
    contrast or to correct a predominant color cast.
  </para>
  <sect3>
    <title>
      <phrase>Activate the Tool</phrase>
    </title>
    <para>
      You can get to the Level Tool in the image-menu through:
      <menuchoice><guimenu><accel>T</accel>ools</guimenu><guisubmenu><accel>C</accel>olor Tools</guisubmenu><guimenuitem><accel>L</accel>evels</guimenuitem></menuchoice>, or
      <menuchoice><guimenu>Colors</guimenu><guimenuitem>Levels</guimenuitem></menuchoice>,
    </para>
    <para>
      or by clicking the
      <guiicon><inlinemediaobject><imageobject><imagedata fileref="images/toolbox/stock-tool-levels-22.png"/></imageobject></inlinemediaobject></guiicon>
      icon in Toolbox if this tool has been installed there. For this, go to
        <link linkend="gimp-tools-dialog">Tools Dialog</link>.
    </para>
  </sect3>
  <sect3>
    <title>
      <phrase>Options</phrase>
    </title>
    <figure>
      <title>
        <phrase>Level tool options</phrase>
      </title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/tools-levels.png" format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
    <variablelist>
      <varlistentry>
        <term>Channel</term>
        <listitem>
          <para><!--Changed 2008-01-18-->
            You can select the specific channel which will be modified by the
            tool:
            <itemizedlist><listitem><para><guilabel>Value</guilabel> makes changes to the value of
                  all RGB channels in the image: the image becomes darker or
                  lighter.
                </para></listitem><listitem><para><guilabel>Red</guilabel>, <guilabel>Green</guilabel> and
                  <guilabel>Blue</guilabel> work on a particular color
                  channel: the image gets more or less color. Remember that
                  adding or removing a color result in removing or adding
                  the complementary color
                </para></listitem><listitem><para><guilabel>Alpha</guilabel> works on semi-transparent layers
                  or selections: here, dark means more transparency, and
                  white is fully opaque. Your image must have an Alpha
                  Channel, otherwise this option is disabled.
                </para></listitem><listitem><para><guilabel>Initialize channel</guilabel> cancels changes to
                  the selected channel.
                </para></listitem></itemizedlist>
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Input Levels</term>
        <listitem>
          <para>
            The main area is a graphic representation of the active layer or
            selection dark (Shadows), mid and light (Highlight)tones content
            (the Histogram). They are on abscissa from level 0 (black) to
            level 255 (white). Pixel number for a level is
            on ordinate axis. The curve surface represents all the pixels of
            the image for the selected channel. A well balanced image is an
            image with levels (tones) distributed all over the whole range.
            An image with a blue predominant color, for example, will produce
            a histogram shifted to the left in Green and Red channels,
            signified by green and red lacking on highlights.
          </para>
          <para>
            Level ranges can be modified in three ways:
          </para>
          <itemizedlist mark="opencircle">
            <listitem>
              <para>
                Three triangles as sliders: one black for dark tones
                (Shadows), one grey for midtones (Gamma), one white for light
                (Highlights) tones.
              </para>
              <para>
                The black slider determines the <emphasis>black point
                </emphasis>: all pixels with this value or less
                will be black (no color with a color channel selected /
                transparent with the Alpha channel selected).
              </para>
              <para>
                The white slider determines the <emphasis>white point
                </emphasis>: all pixels with this value or
                higher, will be white (fully colored with a color channel
                selected / fully opaque with the Alpha channel selected).
              </para>
              <para>
                The gray slider determines the <emphasis>mid point</emphasis>.
                Going to the left, to the black, makes the image lighter
                (more colored / more opaque) . Going to the right, to the
                white, makes the image darker (less colored / more
                transparent).
              </para>
            </listitem>
            <listitem>
              <para>
                Two eye-droppers: when you click them, the mouse pointer
                becomes an eye-dropper. Then clicking on the image determines
                the black or the white point according to the chosen
                eye-dropper. Use the left, dark one  to determine the
                black-point; use the right, white one to determine the white
                point.
              </para>
            </listitem>
            <listitem>
              <para>
                Three numeric text boxes to enter values directly.
              </para>
            </listitem>
          </itemizedlist>
          <para>
            Input Levels are used to lighten highlights (bright tones),
            darken shadows (dark tones), change the balance of bright and
            dark tones. Move sliders to the left to increase lightness
            (increase the chosen color / increase opacity). Move the sliders
            to the right to lessen lightness (lessen the chosen color /
            lessen opacity)).
          </para>
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/toolbox/levels-input-1.png" format="PNG"/>
            </imageobject>
            <caption>
              <para>
                A gray-scaled image. Three stripes: Shadows (64), Mid Tones
                (127), Highlights (192). The histogram shows three peaks,
                one for each of the three tones.
              </para>
            </caption>
          </mediaobject>
          <figure>
            <title>
              <phrase>Example for Input Levels</phrase>
            </title>
            <mediaobject>
              <imageobject>
                <imagedata fileref="images/toolbox/levels-input-2.png" format="PNG"/>
              </imageobject>
              <caption>
                <para>
                  The Value channel is selected.
                  The black slider (Shadows) has been moved up to the
                  Shadows peak. The 64 value became 0 and the Shadows
                  stripe became black (0). The Gamma (mid tones) slider is
                  automatically moved to the middle of the tone range. Mid
                  tones are made darker to 84 and Highlights to 171.
                </para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata fileref="images/toolbox/levels-input-3.png" format="PNG"/>
              </imageobject>
              <caption>
                <para>
                  The white slider (highlights) has been moved up to the
                  highlight peak. The 192 value became 255 and the highlight
                  stripe became white. The Gamma (mid tones) slider is
                  automatically moved to the middle of the tone range. Mid
                  tones are made lighter to 169 and Shadows to 84.
                </para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Output Levels</term>
        <listitem>
          <para>
            Output Levels allows manual selection of a constrained output
            level range. There are also numeric text boxes with arrow-heads
            located here that can be used to interactively change the Output
            Levels.
          </para>
          <para><!--TODO es;it;pl-->
            Output levels force the tone range to fit the new limits you have
            set.
          </para>
          <itemizedlist>
            <listitem>
              <para>
                Working with Value: values are compressed and look more
                alike; so contrast is reduced. Shadows are made lighter:
                new details can show up but contrast is less; a compromise
                is necessary. Highlights are made darker.
              </para>
            </listitem>
            <listitem>
              <para>
                Working with Color channels: if you the use the green
                channel for example and set the output levels between 100
                and 140, all pixels with some green, even a low value, will
                have their green channel value shifted between 100 and 140.
              </para>
            </listitem>
            <listitem>
              <para>
                Working with Alpha channel: all Alpha values will be
                shifted to the range you have set.
              </para>
            </listitem>
          </itemizedlist>
          <figure>
            <title>
              <phrase>Example for Output Levels</phrase>
            </title>
            <mediaobject>
              <imageobject>
                <imagedata fileref="images/toolbox/levels-output-1.png" format="PNG"/>
              </imageobject>
              <caption>
                <para><emphasis role="bold">Original image</emphasis>:
                  A RGB gradient from black (0;0;0) to white (255;255;255).
                  Output Levels has no histogram; here, we used
                  <menuchoice><guimenu>Dialogs</guimenu><guimenuitem>Histogram</guimenuitem></menuchoice>.
                </para>
              </caption>
            </mediaobject>
            <mediaobject>
              <imageobject>
                <imagedata fileref="images/toolbox/levels-output-2.png" format="PNG"/>
              </imageobject>
              <caption>
                <para>
                  Value channel selected.
                  The black slider has been moved to 63 and the white slider
                  to 189. The Histogram shows the compression of pixels. No
                  pixel is less than 63, and no pixel is more than 189. In
                  the image, Shadows are lighter and Highlights are darker:
                  contrast is reduced.
                </para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>All Channels</term>
        <listitem>
          <para><guilabel>Open</guilabel>: This button allows you to
            select a file holding level settings.
          </para>
          <para><guilabel>Save</guilabel>: Allows you to save any levels
            you have set to a file that can be loaded later.
          </para>
          <para><guilabel>Auto</guilabel>: Performs an automatic setting
            of the levels.
          </para>
          <para><!--TODO es;it;pl--><guilabel>Three eyedroppers</guilabel>: These three buttons
            respectively represent a white, a gray and a black eye-dropper.
            When you click one of these buttons, the mouse pointer takes the
            form of the eye-dropper it represents. Then, when clicking the
            image, the clicked pixel determines the <emphasis>white point
            </emphasis>, the <emphasis>black point</emphasis> or the
            <emphasis>mid point</emphasis> according to the eye-dropper you
            chose. Works on all channels, even if a particular channel is
            selected.
          </para>
          <figure>
            <title>
              <phrase>Example for Levels eye-droppers</phrase>
            </title>
            <mediaobject>
              <imageobject>
                <imagedata fileref="images/toolbox/levels-eyedrop.png" format="PNG"/>
              </imageobject>
              <caption>
                <para>
                  At the bottom, a gradient from black to white. Down, the
                  result after clicking with the white eye-dropper: all
                  pixels with a value higher than that of the clicked pixel
                  turned to white.
                </para>
              </caption>
            </mediaobject>
          </figure>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Preview</term>
        <listitem>
          <para>
            The Preview button makes all changes to the levels dynamically so
            that the new level settings can be viewed straight away.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
  <sect3>
    <title>
      <phrase>Tool Options dialog</phrase>
    </title>
    <variablelist>
      <para>
        <figure>
          <title>
            <phrase><quote>Levels</quote> toool options</phrase>
          </title>
          <mediaobject>
            <imageobject>
              <imagedata fileref="images/toolbox/tool-options-levels.png" format="PNG"/>
            </imageobject>
          </mediaobject>
        </figure>
      </para>
      <para>
        Although this tool is not present in Tool box, nevertheless it has a
        Tool Option Dialog under the Toolbox. These options are described here:
      </para>
      <varlistentry>
        <term>Histogram Scale</term>
        <listitem>
          <para>
            These two options have the same action as the logarithmic and
            Linear buttons in the Levels dialog.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Sample Average</term>
        <listitem>
          <para>
            This slider sets the <quote>radius</quote> of the color-picking
            area. This area appears as a more or less enlarged square when
            you maintain the click on a pixel.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>
  <sect3>
    <title>
      <phrase>Actual practice</phrase>
    </title>
    <figure>
      <title>
        <phrase>A very under-exposed image</phrase>
      </title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/filters/examples/colors-retinex1.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>Original image</para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/levels-ex1b.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            The histogram shows a predominance of Shadows and missing
            Highlights.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <figure>
      <title>
        <phrase>Setting the white point</phrase>
      </title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/levels-ex2a.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            The white slider has been moved to the start of well marked
            Highlights. The image lightens up.
          </para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/levels-ex2b.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            The resulting histogram (down) shows Highlights now, but Shadows
            are still predominant.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <figure>
      <title>
        <phrase>
          Setting the balance between Shadows and Highlights
        </phrase>
      </title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/levels-ex3a.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            The mid slider has been moved to the left. This results in
            reducing the proportion of Shadows and increasing the proportion
            of Highlights.
          </para>
        </caption>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/toolbox/levels-ex3b.png" format="PNG"/>
        </imageobject>
        <caption>
          <para>
            The resulting histogram (down) confirms the reduction of Shadows.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>
</sect2>
