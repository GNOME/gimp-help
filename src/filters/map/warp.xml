<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE sect2 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
                "http://www.docbook.org/xml/4.3/docbookx.dtd">

<!-- section history: 
  2005-11-05: created by julien hardelin 
-->
<!-- TODO: de  translation missing -->
<sect2 id='plug-in-warp' lang="en;fr;ru">
  <title> 
    <phrase lang="en">Warp</phrase>
    <phrase lang="fr">Décaler</phrase>
    <phrase lang="ru">Деформация</phrase>
  </title>

  <indexterm lang="en">
    <primary>Filters</primary>
    <secondary>Map</secondary>
  </indexterm>
  <indexterm lang="en"><primary>Warp</primary></indexterm>
  
  <indexterm lang="fr">
    <primary>Filtres</primary>
    <secondary>Carte</secondary>
  </indexterm>
  <indexterm lang="fr"><primary>Décaler</primary></indexterm>

  <indexterm lang="ru">
    <primary>Фильтры</primary>
    <secondary>Карта</secondary>
  </indexterm>
  <indexterm lang="ru"><primary>Деформация</primary></indexterm>
  
  <sect3>    
    <title>
      <phrase lang="en">Overview</phrase>
      <phrase lang="fr">Généralités</phrase>
      <phrase lang="ru">Общая информация</phrase>
    </title>

    <para lang="en">
      This filter is found in the image window menu under
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Map</guisubmenu>
        <guimenuitem><accel>W</accel>arp</guimenuitem>
      </menuchoice>.
      This filter has no Preview.
    </para>      
    <para lang="en">
      This filter displaces pixels of active layer or selection according to 
      grey levels of a <emphasis>Displacement map</emphasis>. Pixels are 
      displaced according to the gradient slope in the displacement map. 
      Pixels corresponding to solid areas are not displaced; the higher the 
      slope, the higher the displacement.
    </para>
          
    <para lang="fr">
      On accède à ce filtre par le menu d'image en suivant
      <menuchoice>
        <guimenu>Filtres</guimenu>
        <guisubmenu>Carte</guisubmenu>
        <guimenuitem>Déca<accel>l</accel>er</guimenuitem>
      </menuchoice>.
      Ce filtre n'a pas d'options.
    </para>
    <para lang="fr">
      Ce filtre déplace les pixels du calque actif ou d'une sélection en 
      fonction des niveaux de gris d'une <emphasis>Carte de 
      déplacement</emphasis>. Les pixels de l'image sont déplacés en 
      fonction de la pente du dégradé dans la carte de déplacement. Les 
      pixels correspondant à des plages unies ne sont pas déplacés; plus 
      importante est la pente, et plus le déplacement est important.
    </para>
          
    <para lang="ru">
      Этот фильтр находится в меню
      <menuchoice>
        <guimenu>Фильтры</guimenu>
        <guisubmenu>Карта</guisubmenu>
        <guimenuitem>Деформация</guimenuitem>
      </menuchoice>.
      У этого фильтра нет предварительного просмотра.
    </para>      
    <para lang="ru">
      Этот фильтр смещает точки активного слоя или выделения сокласно
      уровню серого в <emphasis>Карте смещения</emphasis>. Точки смещаются
      в зависимости от склона градиента. Точки, соответствующие сплошным
      областям на карте, не смещаются. Чем выше склон, тем сильнее смещение.
    </para>
          
    <figure>
      <title>
        <phrase lang="en">
          From left to right: original image, displace map, displaced image
        </phrase>
        <phrase lang="fr">
          De gauche à droite: image d'origine, carte de déplacement, 
          déplacement d'après la carte
        </phrase>
        <phrase lang="ru">
          Пример фильтра <quote>Деформация</quote> с картой смещения.
          Слева направо: Искомое изображение, карта смещения, смещённое
          изображение
        </phrase>
      </title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="../images/filters/examples/example-map-warp1.png"
                   format="PNG"/>
        </imageobject>
        <caption>
          <para lang="en">
            Solid areas of displacement map lead to no displacement. Abrupt 
            transitions give an important displacement. A linear gradient 
            gives a regular displacement. Displacement direction is 
            perpendicular to gradient direction (angle = 90°)
          </para>
          <para lang="fr">
            Les parties unies de la carte de déplacement n'entraînent aucun 
            déplacement. Les transitions brutales donnent un fort 
            déplacement. Un dégradé linéaire donne un déplacement régulier. 
            La direction du déplacement est perpendiculaire au sens du 
            dégradé (angle = 90°).    
          </para>
          <para lang="ru">
            Сплошные области карты смещения не приводят к смещению. Резкие
            переходы дают заметное смещение. Линейный градиент даёт 
            параллельное смещение. Направление смещения перпендикулярно
            направлению градиента (угол = 90°)
          </para>
        </caption>
      </mediaobject>
    </figure>  
    <figure>
      <title>
        <phrase lang="en">
          With a non-linear gradient
        </phrase>
        <phrase lang="fr">
          Avec un dégradé non-linéaire
        </phrase>
        <phrase lang="ru">
          Пример фильтра <quote>Деформация</quote> с нелинейным градиентом:
        </phrase>
      </title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="../images/filters/examples/example-map-warp2.png"
                   format="PNG"/>
        </imageobject>
        <caption>
          <para lang="en">
            A non-linear gradient leads to curls.
          </para>
          <para lang="fr">
            Un dégradé non-linéaire entraîne des ondulations.
          </para>
          <para lang="ru">
            Нелинейный градиент ведёт к завиткам.
          </para>
        </caption>
      </mediaobject>
    </figure>
    <figure>
      <title>
        <phrase lang="en">
          With a complex gradient:
        </phrase>
        <phrase lang="fr">
          Avec un dégradé complexe:
        </phrase>
        <phrase lang="ru">
          Пример фильтра <quote>Деформация</quote> cо сложным градиентом:
        </phrase>
      </title>
      <mediaobject>
        <imageobject>
          <imagedata fileref="../images/filters/examples/example-map-warp3.png"
                   format="PNG"/>
        </imageobject>
        <caption>
          <para lang="en">
            And a complex gradient, such as the 
            <link linkend='plug-in-solid-noise'>Solid Noise</link> filter can 
            create, gives a swirl effect.
          </para>
          <para lang="fr">
            Et un dégradé complexe, tel que peut le créer le filtre
            <link linkend='plug-in-solid-noise'>Brouillage uni</link>, donne 
            des effets de remous.
          </para>        
          <para lang="ru">
            Сложный градиент, например, произведённый фильтром
            <link linkend='plug-in-solid-noise'>Сплошной шум</link> даст
            эффект воронки.
          </para>
        </caption>
      </mediaobject>
    </figure>    
      
    <para lang="en">
      This filter offers the possibility of masking a part of the image to 
      protect it against filter action.
    </para>
    
    <para lang="fr">
      Ce filtre vous offre en outre la possibilité de masquer une partie de 
      l'image pour la protéger de l'action du filtre.
    </para>
    <para lang="fr">
      L'équivalent anglais de ce filtre est «Warp». 
    </para>     

    <para lang="ru">
      Этот фильтр позволяет заблокировать часть изображения от работы фильтра.
    </para>
    
  </sect3> 
  
  <sect3 lang="en;fr;ru">
    <title>
      <phrase lang="en;fr">Options</phrase>
      <phrase lang="ru">Параметры</phrase>
    </title>
    <figure>
      <title>
        <phrase lang="en">Warp filter options</phrase>
        <phrase lang="fr">Options du filtre Décaler</phrase>
        <phrase lang="ru">
          Параметры фильтра <quote>Деформация</quote>
        </phrase>
      </title>
      <mediaobject>
        <imageobject lang="en;ru">
          <imagedata fileref="../images/filters/options-map-warp.png"
                   format="PNG"/>
        </imageobject>
        <imageobject lang="fr">
          <imagedata fileref="../images/filters/fr/options-map-warp.png"
                   format="PNG"/>
        </imageobject>
      </mediaobject>
    </figure>
        
    <variablelist>
      <title>
        <phrase lang="en">Basic Options</phrase>
        <phrase lang="fr">Options de base</phrase>
        <phrase lang="ru">Основные параметры</phrase>
      </title>
      <varlistentry>
        <term lang="en">Step Size</term>
        <term lang="fr">Taille du pas</term>
        <term lang="ru">Размер шага</term>
        <listitem>
          <para lang="en">
            <quote>Step</quote> is displacement distance for every filter 
            iteration. A 10 value is necessary to get a one pixel 
            displacement. This value can be negative to invert 
            displacement direction.
          </para>
          <para lang="fr">
            Le «pas» représente, la distance de déplacement des pixels à 
            chaque itération du filtre. Il faut une valeur de 10 pour 
            obtenir un déplacement sur un pixel de distance. La valeur 
            peut être négative, ce qui inverse le sens du déplacement.
          </para>
          <para lang="ru">
            <quote>Шаг</quote> определяет размер смещения для каждого
            применения фильтра. Значение 10 смещает на одну точку.
            Отрицательные значения смещают в обратную сторону.
          </para>
        </listitem>
      </varlistentry> 
      <varlistentry>
        <term lang="en">Iterations</term>
        <term lang="fr">Itérations</term>
        <term lang="ru">Количество применений</term>
        <listitem>
          <para lang="en">
            <guilabel>Iteration</guilabel> is the number of repetitions of 
            effect when applying filter.
          </para>
          <para lang="fr">
            <guilabel>Itérations</guilabel> représente le nombre de 
            répétitions de l'effet lors de l'application du filtre. 
          </para>
          <para lang="ru">
            <guilabel>Количество применений</guilabel> определяет сколько
            раз сработает фильтр над изображением.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term lang="en">On Edges</term>
        <term lang="fr">Sur les côtés</term>
        <term lang="ru">На краях</term>
        <listitem>
          <para lang="en">
            Because of displacement, a part of pixels are driven over the 
            borders of layer or selection, and, on the opposite side, 
            pixels places are emptying. Four following options allow you 
            to fix this issue:
            <itemizedlist>
              <listitem>
                <para>
                  <guilabel>Warp</guilabel> (default): What goes out on 
                  one side is going into the opposite side. 
                </para>
              </listitem>
              <listitem>
                <para>
                  <guilabel>Smear</guilabel>: Emptying places are filled 
                  with a spreading of the neighbouring image line.
                </para>
              </listitem>
              <listitem>
                <para>
                  <guilabel>Black</guilabel>: Emptying places are filled 
                  with black color.
                </para>
              </listitem>
              <listitem>
                <para>
                  <guilabel>FG Color</guilabel>: Emptying places are filled 
                  with the Foreground color of the color area in Toolbox.
                </para>
              </listitem>
            </itemizedlist>
          </para>
            
          <para lang="fr">
            Du fait du décalage, une partie des pixels est rejetée 
            en-dehors des limites du calque ou de la sélection, et, à 
            l'opposé, certains emplacements de pixels se vident. Les 
            quatre options suivantes permettent de fixer comment régler 
            ce problème:
            <itemizedlist>
              <listitem>
                <para>
                  <guilabel>Enrouler</guilabel> (Par défaut): Ce qui sort 
                  d'un côté ressort de l'autre côté.
               </para>
              </listitem>
              <listitem>
                <para>
                  <guilabel>Étaler</guilabel>: Les emplacements libérés 
                  sont remplis par un étalement de la ligne d'image 
                  voisine.
                </para>
              </listitem>
              <listitem>
                <para>
                  <guilabel>Noir</guilabel>: Les emplacements libérés 
                  sont remplis par la couleur noire.
                </para>
              </listitem>
              <listitem>
                <para>
                  <guilabel>Couleur de premier-plan</guilabel>: Les 
                  emplacements libérés sont remplis par la couleur de 
                  premier-plan de la zone des couleurs de la Boîte à 
                  outils.
                </para>
              </listitem>             
            </itemizedlist>
          </para>
          <para lang="ru">
            Из-за смещения, часть точек уходит за края слоя или выделения и
            точки на противоположном краю остаются пустыми. Чтобы исправить
            это положение, можно сделать следующее:
            <itemizedlist>
              <listitem>
                <para>
                  <guilabel>Заворачивать</guilabel> (по усмотрению): Что
                  выходит за один край, приходит с противоположного.
                </para>
              </listitem>
              <listitem>
                <para>
                  <guilabel>Пятно</guilabel>: Пустующие области заполняются
                  размыванием соседней линии изображения.
                </para>
              </listitem>
              <listitem>
                <para>
                  <guilabel>Чёрный</guilabel>: Пустующие области заполняются
                  чёрным цветом.
                </para>
              </listitem>
              <listitem>
                <para>
                  <guilabel>Цвет переднего фона</guilabel>: Пустующие области
                  заполняются цветом переднего фона с панели инструментов.
                </para>
              </listitem>
            </itemizedlist>
          </para>
            
        </listitem>
      </varlistentry>
      <varlistentry>
        <term lang="en">Displacement Map</term>
        <term lang="fr">Carte de déplacement</term>
        <term lang="ru">Карта смещения</term>
        <listitem>
          <para lang="en">
            To be listed in this drop-down list, the displacement map, 
            which is a grey-scaled image, must be <emphasis>present on 
            your screen when you call filter and must have the same size 
            as the original image</emphasis>.
            be 
          </para>
          <para lang="fr">
            Pour figurer dans cette liste déroulante, la carte de 
            déplacement, qui est une image en niveaux de gris, doit être 
            <emphasis>présente sur votre écran quand vous appelez le 
            filtre et doit avoir la même taille que l'image source 
            </emphasis>.
          </para>
          <para lang="ru">
            В этом списке появятся те серые карты, которые были открыты на
            момент активации фильтра. Размер карт должен быть такой же, что и
            искомого изображения.
          </para>
        </listitem>
      </varlistentry>   
    </variablelist>
    
    <variablelist>
      <title>
        <phrase lang="en">Advanced Options</phrase>
        <phrase lang="fr">Options avancées</phrase>
        <phrase lang="ru">Дополнительные параметры</phrase>
      </title>
      <varlistentry>
        <term lang="en">Dither Size</term>
        <term lang="fr">Taille de tramage</term>
        <term lang="ru">Размер смешения</term>
        <listitem>
          <para lang="en">
            Once all pixels displaced, this option scatters them randomly, 
            giving grain to the image. The higher this value (0.00-1.00), 
            the thinner the grain.
          </para>
          <para lang="fr">
            Après que les pixels aient été décalés, cette option les 
            éparpille au hasard, donnant du grain à l'image. Plus la 
            valeur (de 0,00 à 1,00) est élevée et plus le grain est fin
          </para>
          <para lang="ru">
            Когда все точки смещены, этот параметр рассеивает их случайным
            образом, придавая зернистость изображению. Чем выше значение,
            тем мельче зернистость.
          </para>
            
          <figure>
            <title>
              <phrase lang="en">
                With a 3.00 dither size:
              </phrase>
              <phrase lang="fr">
                Avec une taille de tramage à 3,00:
              </phrase>
              <phrase lang="ru">
                Пример фильтра <quote>Деформация</quote> с размером смешения
                3.00:
              </phrase>
            </title>
            <mediaobject>
              <imageobject>
                <imagedata fileref="../images/filters/examples/example-map-warp4.png"
                   format="PNG"/>
              </imageobject>
            </mediaobject>
          </figure>    
        </listitem>
      </varlistentry>
        
      <varlistentry>
        <term lang="en">Rotation Angle</term>
        <term lang="fr">Angle de rotation</term>
        <term lang="ru">Угол поворота</term>
        <listitem>
          <para lang="en">
            This option sets displacement angle of pixels according to the 
            slope direction of gradient. Previous examples have been 
            created with a vertical gradient and a 90° angle: so,   
            pixels were displaced horizontally and nothing went out of the 
            image borders. Here is an example with a 10° angle and 6 
            iterations:
          </para>
          <para lang="fr">
            Cette option règle l'angle de déplacement des pixels par 
            rapport à la direction de la pente du dégradé. Les exemples 
            précédents ont été réalisés avec un dégradé de direction 
            verticale et un angle de 90°: les pixels se sont donc déplacés 
            horizontalement et rien n'est sorti du cadre de l'image. Voici 
            un exemple avec un angle de 10° et 6 itérations: 
          </para>
          <para lang="ru">
            Определяет угол смещения в точках согласно склону направления
            градиента. Предыдущие примеры были созданы с вертикальным
            градиентом и углом в 90°: точки были смещены горизонтально и
            ничто на вышло за края. Вот пример с углом в 10° и 6 повторениями:
          </para>
            
          <figure>
            <title>
              <phrase lang="en">
                With a 10° angle and 6 iterations:
              </phrase>
              <phrase lang="fr">
                Avec un angle de 10° et 6 itérations:
              </phrase>
              <phrase lang="ru">
                Пример фильтра <quote>Деформация</quote> с углом в 10° и 6
                повторений:
              </phrase>
            </title>
            <mediaobject>
              <imageobject>
                <imagedata fileref="../images/filters/examples/example-map-warp5.png"
                   format="PNG"/>
              </imageobject>
              <caption>
                <para lang="en">
                  Displacement is made according to a 10° angle against 
                  vertical. Pixels going out the lower border on every 
                  iteration are going into through the upper border 
                  (Wrap option checked), giving a dotted line.
                </para>
                <para lang="fr">
                  Le décalage se fait selon un angle de 10° par rapport à la 
                  verticale. Des pixels sortent par en bas à chaque 
                  itération et ressortent en haut, (l'option Enrouler est 
                  cochée), donnant l'aspect de pointillés.
                </para>
                <para lang="ru">
                  Смещение сделано под углом 10° от вертикали. Точки,
                  уходящие за нижний край, появляются сверху (при выборе
                  параметра <quote>заворачивать</quote>), давая пунктирную
                  линию.
                </para>
              </caption>
            </mediaobject>
          </figure>    
        </listitem>
      </varlistentry>        
                
      <varlistentry>
        <term lang="en">Magnitude map</term>
        <term lang="fr">Carte de force</term>
        <term lang="ru">Карта значений</term>
        <listitem>
          <para lang="en">
            In addition to displacement map, you can add a 
            <guilabel>Magnitude Map</guilabel>. This map is also a 
            grey-scaled image, with the same size as the source image and 
            which must be present on your screen when you call filter. 
            This map gives more or less strength to filter on some parts 
            of the image, according to the grey levels of this magnitude 
            map. Image areas corresponding to white parts of this map will 
            undergo all the strength of filter. Image areas corresponding 
            to black parts of the map will be spared by filter. 
            Intermediate grey levels will lessen filter action on 
            corresponding areas of the image. <guilabel>Use magnitude 
            map</guilabel> must be checked for that.
          </para>
          <para lang="fr">
            En plus de la carte de déplacement, vous pouvez ajouter une 
            <guilabel>Carte de force</guilabel> ou carte d'amplitude. 
            C'est aussi une carte en niveaux de gris, de la même taille 
            que l'image source et qui doit aussi être présente sur votre 
            écran si vous voulez qu'elle figure dans cette liste 
            déroulante. Elle permet de donner plus ou moins de force au 
            filtre selon les régions de l'image, en fonction des niveaux 
            de gris de cette carte de force. Les parties de l'image 
            correspondant aux zones noires de la carte de force seront 
            épargnées par le filtre. Les parties de l'image correspondant 
            aux zones blanches de la carte subiront toute la force du 
            filtre. Les niveaux de gris intermédiaires atténueront plus ou 
            moins l'action du filtre sur les zones correspondantes de 
            l'image. L'option <guilabel>Utiliser la carte de 
            force</guilabel> doit être cochée pour cela.
          </para>
          <para lang="ru">
            К карте смещения можно добавить <guilabel>карту значений</guilabel>.
            Для этого выберите <guilabel>Использовать карту значений</guilabel>.
            Эта карта также серая, того же размера, что и искомое изображение
            и должна быть открыта до активации фильтра. Эта карта даёт больше
            или меньше силы фильтру в разных областях изображения согласно
            уровням серого. В белых областях карты эффект фильтра максимален.
            В чёрных областях карты эффект фильтра сводится к нулю.
          </para>
          <figure>
            <title>
              <phrase lang="en">
                Magnitude Map example:
              </phrase>
              <phrase lang="fr">
                Exemple de carte de force
              </phrase>
              <phrase lang="ru">
                Пример фильтра <quote>Деформация</quote> с картой значений:
              </phrase>
            </title>
            <mediaobject>
              <imageobject>
                <imagedata fileref="../images/filters/examples/example-map-warp6.png"
                   format="PNG"/>
              </imageobject>
              <caption>
                <para lang="en">
                  From left to right: original image, displacement map, 
                  magnitude map, after applying <quote>Warp</quote> filter. 
                  You can see that the black areas of magnitude map prevent 
                  filter to take action.
                </para>
                <para lang="fr">
                  De gauche à droite: image d'origine, carte de déplacement, 
                  carte de force, après application du filtre «Décaler». On 
                  voit que les parties noires de la carte de force empêchent 
                  le filtre d'agir.
                </para>
                <para lang="ru">
                  Слева направо: искомое изображение, карта смещения, карта
                  значений до применения фильтра <quote>Заворачивать</quote>.
                  Чёрные области карты значений препятствуют работе фильтра.
                </para>
              </caption>
            </mediaobject>
          </figure>    
        </listitem>
      </varlistentry>
    </variablelist>

<!-- FIXME          
    <variablelist>
      <title>
        <phrase lang="en">More Advanced Options</phrase>
        <phrase lang="fr">Autres options</phrase>
        <phrase lang="ru">Дополнительные параметры</phrase>
      </title>
      <varlistentry>
        <term lang="en">Gradient Scale</term>.
        <term lang="fr">Échelle de dégradé</term>
        <term lang="ru">Масштаб градиента</term>.
        <listitem>
          <para lang="en">
            
          </para>
          <para lang="fr">
            
          </para>
          <para lang="ru">
            
          </para>
        </listitem>
      </varlistentry>
        
      <varlistentry>
        <term lang="en">Vector Magnitude</term>.
        <term lang="fr">Force du vecteur</term>
        <term lang="ru">Длина вектора</term>.
        <listitem>
          <para lang="en">
            
          </para>
          <para lang="fr">
            
          </para>
          <para lang="ru">
            
          </para>
        </listitem>
      </varlistentry>
        
      <varlistentry>
        <term lang="en;fr">Angle</term>.
        <term lang="ru">Угол</term>.
        <listitem>
          <para lang="en">
          
          </para>
          <para lang="fr">
          
          </para>
          <para lang="ru">
          
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
-->
  </sect3>
</sect2>  
