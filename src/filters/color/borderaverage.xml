<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE sect2 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
                "http://www.docbook.org/xml/4.3/docbookx.dtd">

<!-- section history:
 2007-04-15 ude: moved examples to <sect3>
 2007-04-03 KoSt: added 'no'
 2006-12-20 de adapted description by ude
 2006-11-01 Changes in the description of the action and Number of colors by j.h
 2005-12-07 replaced <simplesect> by <sect3> by lexa
 2005-08-30 de replaced informalfigure by axel.wernicke
 2005-08-24 de added by axel.wernicke
-->
<!--TODO: cs it ru translation partially missing -->
<sect2 id="plug-in-borderaverage" lang="en;cs;de;fr;it;ru">
  <sect2info lang="en;de;fr">
    <revhistory>
      <revision lang="en">
        <revnumber>$Revision$</revnumber>
        <date>2006-11-01</date>
        <authorinitials>j.h</authorinitials>
      </revision>
      <revision lang="de">
        <revnumber>$Revision$</revnumber>
        <date>2006-12-20</date>
        <authorinitials>ude</authorinitials>
      </revision>
      <revision lang="fr">
        <revnumber>$Revision$</revnumber>
        <date>2006-11-01</date>
        <authorinitials>j.h</authorinitials>
      </revision>
    </revhistory>
  </sect2info>

  <title>
    <phrase lang="en">Border Average</phrase>
    <phrase lang="cs">Průměr okraje</phrase>
    <phrase lang="de">Randmittelwert</phrase>
    <phrase lang="fr">Moyenne du bord</phrase>
    <phrase lang="it">Media del bordo</phrase>
    <phrase lang="no">Kantgjennomsnitt</phrase>
    <phrase lang="ru">Средний цвет рамки</phrase>
  </title>

  <indexterm lang="en">
    <primary>Filters</primary>
    <secondary>Colors</secondary>
    <tertiary>Border Average</tertiary>
  </indexterm>
  <indexterm lang="en"><primary>Border Average</primary></indexterm>

  <indexterm lang="cs">
    <primary>Filtry</primary>
    <secondary>Barvy</secondary>
    <tertiary>Průměr okraje</tertiary>
  </indexterm>

  <indexterm lang="de">
    <primary>Filter</primary>
    <secondary>Statistik</secondary>
  </indexterm>
  <indexterm lang="de"><primary>Randmittelwert</primary></indexterm>

  <indexterm lang="fr">
    <primary>Filtres</primary>
    <secondary>Couleurs</secondary>
    <tertiary>Moyenne du bord</tertiary>
  </indexterm>
  <indexterm lang="fr"><primary>Moyenne du bord</primary></indexterm>

  <indexterm lang="it">
    <primary>Filtri</primary>
    <secondary>Colore</secondary>
  </indexterm>
  <indexterm lang="it"><primary>Media del bordo</primary></indexterm>

  <indexterm lang="no">
    <primary>Filter</primary>
    <secondary>Fargar</secondary>
    <tertiary>Kantgjennomsnitt</tertiary>
  </indexterm>
  <indexterm lang="no"><primary>Kantgjennomsnitt</primary></indexterm>

  <indexterm lang="ru">
    <primary>Фильтр</primary>
    <secondary>Цвет</secondary>
  </indexterm>
  <indexterm lang="ru"><primary>Средний цвет рамки</primary></indexterm>

  <mediaobject lang="cs;ru">
    <imageobject>
      <imagedata fileref="../images/filters/filters-color-borderaverage.png"
        format="PNG" />
    </imageobject>
  </mediaobject>
  <mediaobject lang="it">
    <imageobject>
      <imagedata
                fileref="../images/filters/it/filters-color-borderaverage.png"
                format="PNG"/>
    </imageobject>
  </mediaobject>

  <sect3>
    <title>
      <phrase lang="en">Overview</phrase>
      <phrase lang="cs">Přehled</phrase>
      <phrase lang="de">Wirkungsweise</phrase>
      <phrase lang="fr">Généralités</phrase>
      <phrase lang="it">Panoramica</phrase>
      <phrase lang="no">Oversyn</phrase>
      <phrase lang="ru">Общая информация</phrase>
    </title>

    <para lang="en">
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Colors</guisubmenu>
        <guimenuitem><accel>B</accel>order Average</guimenuitem>
      </menuchoice>.
    </para>

    <para lang="en">
      This plug-in calculates the most often used color in a specified border
      of the the active layer or selection, allowing a specified range to not
      be exact. The calculated color becomes the foreground color in the
      Toolbox. This filter is interesting when you have to find a Web page
      color background that differs as little as possible from your image
      border. The action of this filter is not registered in Undo History
      and can't be deleted with Ctrl+Z.
    </para>

    <para lang="cs">
      Tento filtr lze vyvolat z nabídky okna obrázku volbou
      <menuchoice>
        <guimenu>Filtry</guimenu>
        <guisubmenu>Barvy</guisubmenu>
        <guimenuitem>Průměr okraje</guimenuitem>
      </menuchoice>.
    </para>
    <para lang="cs">
      Tento nástroj vypočte průměrnou barvu okraje aktivní vrstvy nebo výběru.
      To je užitečné v případě, kdy je třeba zjistit například vhodnou barvu
      pozadí webové stránky, která se co nejméně liší  od okraje obrázku.
    </para>

    <para lang="de">
      Dieses Filter berechnet die Durchschnittsfarbe in einem Rand der aktiven
      Ebene oder einer Auswahl. Die berechnete Farbe wird zur aktiven
      Vordergrundfarbe. Dieses Filter kann sehr hilfreich sein, wenn Sie zum
      Beispiel ein Bild vor einen farbigen Hintergrund bringen möchten, der
      möglichst wenig von der Farbe des Bildrandes abweicht. Die Anwendung
      dieses Filters wird nicht im Journal registriert und kann daher nicht
      mit Strg-Z rückgängig gemacht werden.
    </para>

    <para lang="fr">
      On accède à ce filtre par le menu d'image en suivant
      <menuchoice>
        <guimenu>Filtres</guimenu>
        <guisubmenu>Couleurs</guisubmenu>
        <guimenuitem>Moyenne du <accel>b</accel>ord</guimenuitem>
      </menuchoice>.
    </para>
    <para lang="fr">
      Cet outil calcule la couleur la plus utilisée dans une bordure
      entourant le calque actif ou la sélection. La couleur calculée devient
      la couleur de premier-plan dans la Boîte à outils. Ce filtre  est
      intéressant quand vous devez trouver la couleur de fond d'une page Web
      différant aussi peu que possible du bord de votre image. L'action de ce
      filtre n'est pas enregistrée dans l'historique des actions et n'est pas
      annulée par Ctrl+Z
    </para>

    <para lang="it">
      Questo filtro si trova nel menu immagine:
      <menuchoice>
        <guimenu><accel>C</accel>olori</guimenu>
        <guisubmenu>I<accel>n</accel>formazioni</guisubmenu>
        <guimenuitem>Media del <accel>b</accel>ordo</guimenuitem>
      </menuchoice>.
    </para>
    <para lang="it">
      Questo filtro calcola il colore medio in un bordo attorno al livello
      corrente o alla selezione. Il colore così calcolato diventa il colore di
      primo piano nella barra degli strumenti. Questo filtro è utile quando si
      deve trovare un colore di sfondo per una pagina web che differisca il
      meno possibile dal bordo della propria immagine. L'azione di questo
      filtro non viene memorizzata nella cronologia degli annullamenti e non
      può essere annullata con Ctrl+Z.
    </para>

    <para lang="no">
      Du har tilgang til filteret frå biletmenyen via
      <menuchoice>
        <guimenu>Filter</guimenu>
        <guisubmenu>Fargar</guisubmenu>
        <guimenuitem>Kantgjennomsnitt</guimenuitem>
      </menuchoice>
    </para>
    <para lang="no">
      Dette filteret finn ut kva for farge som er den mest brukte rundt
      kantane av biletet og legg denne fargen som forgrunnsfarge i
      verktøyskrinet. Dette filteret kan vere interessant når du
      har bruk for å finne ein bakgrunnsfarge som avvik minst mogleg
      frå biletfargen, t.d. for ei nettside. Bruken av filteret blir ikkje
      registrert i angreloggen og kan heller ikkje angrast på andre måtar.
    </para>

    <para lang="ru">
      Этот фильтр находится в меню
      <menuchoice>
        <guimenu>Фильтры</guimenu>
        <guisubmenu>Цвета</guisubmenu>
        <guimenuitem><accel>С</accel>редний цвет рамки</guimenuitem>
      </menuchoice>.
    </para>
    <para lang="ru">
      Этот фильтр вычисляет средний цвет рамки активного слоя или
      выделения. Полученный таким образом цвет становится цветом переднего
      плана в панели инструментов. В частности, этот фильтр помогает находить
      цвет фона веб страницы, который отличается от цвета границы изображения
      на наименьшую величину.
      Этот фильт не создаёт запись в истории отмены, и результат его наботы
      нельзя отменить с помощью <keycap function="control">Ctrl</keycap>+Z.
    </para>
  </sect3>


  <sect3 lang="de">
    <title>
      <phrase lang="de">Filteraufruf</phrase>
    </title>
    <para lang="de">
      Dieses Filter lässt sich über das Menü
      <menuchoice>
        <guimenu><accel>F</accel>ilter</guimenu>
        <guisubmenu><accel>F</accel>arben</guisubmenu>
        <guimenuitem><accel>R</accel>andmittelwert</guimenuitem>
      </menuchoice>
      im Bildfenster aufrufen.
    </para>
  </sect3>


  <sect3>
    <title>
      <phrase lang="en">Options</phrase>
      <phrase lang="cs">Volby</phrase>
      <phrase lang="de">Eigenschaften</phrase>
      <phrase lang="fr">Options</phrase>
      <phrase lang="it">Opzioni</phrase>
      <phrase lang="no">Innstillingar</phrase>
      <phrase lang="ru">Параметры</phrase>
    </title>

    <figure lang="en;de;fr;no">
      <title>
        <phrase lang="en">
          Options of the <quote>Border Average Filter</quote>
        </phrase>
        <phrase lang="de">
          Eigenschaften für das Filter <quote>Randmittelwert</quote>
        </phrase>
        <phrase lang="fr">
          Options du filtre <quote>Moyenne du bord</quote>
        </phrase>
        <phrase lang="no">
          Innstillingane for filteret <quote>Kantgjennomsnitt</quote>
        </phrase>
      </title>

      <mediaobject>
        <imageobject lang="en">
          <imagedata
            fileref="../images/filters/filters-color-borderaverage.png"
            format="PNG" />
        </imageobject>
        <imageobject lang="de">
          <imagedata
            fileref="../images/filters/de/options-color-border-average.png"
            format="PNG" />
        </imageobject>
        <imageobject lang="fr">
          <imagedata
            fileref="../images/filters/fr/filters-color-borderaverage.png"
            format="PNG" />
        </imageobject>
        <imageobject lang="no">
          <imagedata
            fileref="../images/filters/no/options-color-border-average.png"
            format="PNG" />
        </imageobject>
      </mediaobject>
    </figure>

    <variablelist>
      <varlistentry>
        <term lang="en">Border Size</term>
        <term lang="cs">Velikost okraje</term>
        <term lang="de">Randgröße</term>
        <term lang="fr">Taille du bord</term>
        <term lang="it">Dimensione bordo</term>
        <term lang="no">Kantbreidde</term>
        <term lang="ru">Размер рамки</term>

        <listitem>
          <para lang="en">
            You can set there the border <guilabel>Thickness</guilabel> in
            pixels.
          </para>
          <para lang="cs">
            <guilabel>Tloušťka</guilabel> umožňuje nastavit šířku uvažovaného
            okraje v pixelech.
          </para>
          <para lang="de">
            Mit dieser Eigenschaft können Sie die <guilabel>Dicke</guilabel>
            des Randes festlegen, der zur Berechnung der Durchschnittsfarbe
            benutzt wird.
          </para>
          <para lang="fr">
            Vous pouvez régler là l'<guilabel>Épaisseur</guilabel> de la
            bordure en pixels.
          </para>
          <para lang="it">
            Qui si può impostare lo <guilabel>Spessore</guilabel> del bordo in
            pixel.
          </para>
          <para lang="no">
            Du bestemmer her <guilabel>Breidde</guilabel> på ramma i pikslar
            eller andre måleeiningar etter val.
          </para>
          <para lang="ru">
            Определяет <guilabel>Толщину</guilabel> рамки. Единицы измерения
            можно выбрать.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term lang="en">Number of Colors</term>
        <term lang="cs">Počet barev</term>
        <term lang="de">Anzahl der Farben</term>
        <term lang="fr">Nombre de couleurs</term>
        <term lang="it">Numero di colori</term>
        <term lang="no">Talet på fargar</term>
        <term lang="ru">Количество цветов</term>

        <listitem>
          <para lang="en">
            You can set there the <guilabel>Bucket Size</guilabel>, i.e a
            number of color levels added to, or subtracted from, every RGB
            channel (1 - 256), making the calculated color tending to gray.
          </para>
          <para lang="cs">
            <guilabel>Velikost vědra</guilabel> nastavuje počet barev
            uvažovaných při výpočtu průměrné barvy (1 - 256).
          </para>
          <para lang="de">
            Hier können Sie die <guilabel>Eimergröße</guilabel> festlegen,
            d.h. die Anzahl an Farbniveaus, die zu jedem RGB-Kanal (1-256)
            addiert beziehungsweise davon subtrahiert werden, so dass die berechnete
            Farbe zu Grau tendiert.
          </para>
          <para lang="fr">
            Vous pouvez régler ici la <guilabel>Taille du pot de
              peinture</guilabel>, c-à-d le nombre de niveaux de couleurs
            ajoutés ou retranchés de chacun des canaux RVB (1 - 256), faisant
            tendre la couleur vers le gris.
          </para>
          <para lang="it">
            Qui si può impostare la <guilabel>Dimensione del secchiello</guilabel>
            , cioè il numero dei colori che devono essere usati per il calcolo
            del colore medio (1 - 256).
          </para>
          <para lang="no">
            Dette litt merkelege namnet <guilabel>Bøttestorleik</guilabel>
            refererer måten filteret arbeider, og bestemmer kor mange fargenivå
            som skal trekkast frå eller leggast til kvar RGB-kanal. Nivåa går i
            digitale sprang frå 1 til 256. Dess høgare tal dess meir tenderer
            fargen mot grå.
          </para>
          <para lang="ru">
            <guilabel>Количество цветов</guilabel>: Определяет сколько цветов
            будет использовано для вычисления среднего (1 - 256).
          </para>

        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

<!-- This explanation is valid only for this example : I couldn't find
     the algorithm by testing several examples...:-( j.h

  <sect3 lang="en;de;fr;no">
    <title>
      <phrase lang="en">
        Examples illustrating the <quote>Border Average</quote> border
      </phrase>
      <phrase lang="de">
        Beispiele zur Illustration des <quote>Randmittels</quote>
      </phrase>
      <phrase lang="fr">
        Exemples illustrant le filtre <quote>Moyenne du bord</quote>
      </phrase>
      <phrase lang="no">Eksempel på bruk av filteret</phrase>
    </title>

    <figure>
      <title>
        <phrase lang="en">Original image</phrase>
        <phrase lang="de">Originalbild</phrase>
        <phrase lang="fr">Image d'origine</phrase>
        <phrase lang="no">Originalbiletet</phrase>
      </title>

      <mediaobject>
        <imageobject>
          <imagedata fileref="../images/filters/average-color-ex1.png"
            format="PNG" />
        </imageobject>

        <caption>
          <para lang="en">
            Original image: colors are pure Red (255;0;0), pure Green
            (0;255;0) and pure Blue (0;0;255).
          </para>
          <para lang="de">
            Originalbild: die Farben sind reines Rot (255;0;0), Grün
            (0;255;0) und Blau (0;0;255).
          </para>
          <para lang="fr">
            Image d'origine: les couleurs sont Rouge pur (255;0;0), Vert
            pur (0;255;0) et Bleu pur (0;0;255).
          </para>
          <para lang="no">
            Fargane er: raud (255;0;0), grøn (0;255;0) og blå (0;0;255).
          </para>
        </caption>
      </mediaobject>
    </figure>

    <figure>
      <title>
        <phrase lang="en">
          <quote>Number of Colors</quote> is set to 4:
        </phrase>
        <phrase lang="de">
          <quote>Anzahl der Farben</quote> auf 4 gesetzt:
        </phrase>
        <phrase lang="fr">
          Le <quote>Nombre de couleurs</quote> est fixé à 4:
        </phrase>
        <phrase lang="no">
          <quote>Talet på fargar</quote> er sett til 4:
        </phrase>
      </title>

      <mediaobject>
        <imageobject lang="en">
          <imagedata fileref="../images/filters/average-color-ex2.png"
            format="PNG" />
        </imageobject>
        <imageobject lang="de">
          <imagedata
            fileref="../images/filters/de/average-color-ex2.png"
            format="PNG" />
        </imageobject>
        <imageobject lang="fr">
          <imagedata
            fileref="../images/filters/fr/average-color-ex2.png"
            format="PNG" />
        </imageobject>
        <imageobject lang="no">
          <imagedata
            fileref="../images/filters/no/average-color-ex2.png"
            format="PNG" />
        </imageobject>

        <caption>
          <para lang="en">
            The green color has been choosed by the filter because it is
            the most frequent on the image border. The Number of Colors
            set to 4 has added 2 levels to the other both channels. 2 levels
            are added to the Green channel also and, as the result is
            above 255, the excess is subtracted from 256:
            (255 + 2 = 257 ; excss is 257 - 255 = 2 ; 256 - 2 = 254).
            The resulting color became the foreground color of the Toolbox.
          </para>
          <para lang="de">
            Die Farbe Grün wurde für das Filter gewählt, weil sie am
            häufigsten am Bildrand vorkommt. Da
            <quote>Anzahl der Farben</quote>
            auf 4 gesetzt ist, wird ein Wert von 4 auf die beiden
            anderen Kanäle verteilt (also jeweils 2 addiert) und der
            gleiche Wert (wieder 2) vom grünen Kanal abgezogen. Die
            resultierende Farbe wird im Werkzeugfenster zur
            Vordergrundfarbe.
          </para>
          <para lang="fr">
            La couleur verte a été choisie par le filtre car c'est la
            plus représentée sur le bord de l'image. L'option Nombre de
            Couleurs fixée à 4 a ajouté 2 niveaux sur les deux autres canaux.
            2 niveaux sont également ajoutés au canal Vert et comme le
            résultat dépasse 255, l'excès est retranché de 256
            (255 + 2 = 257 ; l'excès est de 257 - 255 = 2 ; 256 - 2 = 254).
            La couleur résultante est devenue la couleur de premier-plan de
            la Boîte à Outils.
          </para>
          <para lang="no">
            Filteret har vald å ta utgangspunkt i grønt sidan det er denne
            fargen det er mest av i ramma. <quote>Talet på
            fargar</quote> (sett til 4) blir delt på dei to andre kanalane
            slik at det blir lagt til 2 til kvar av kanalane raud og blå.
            Den same verdien, altså 2, blir også trekt i frå grønkanalen.
            Difor blir den endelege fargen sett saman av 2 deler raudt
            (256 + 2 = 2), 254 deler grønt (256 - 2 = 254) og 2 deler
            blått (256 + 2 = 2). (Matematikken er ikkje feil. At 256 +
            2 = 2 kjem av at operasjonen eigentleg føregår i 8 bits
            digitalkode men her omtalt i desimaltal). Den endelege fargen
            blir lagt inn i verktøyskrinet som forgrunnsfarge.
          </para>
        </caption>
      </mediaobject>
    </figure>

    <figure>
      <title>
        <phrase lang="en">
          <quote>Number of Colors</quote> is set to 128:
        </phrase>
        <phrase lang="de">
          <quote>Anzahl der Farben</quote> auf 128 gesetzt:
        </phrase>
        <phrase lang="fr">
          <quote>Nombre de couleurs</quote> est fixé à 128:
        </phrase>
        <phrase lang="no">
          <quote>Talet på fargar</quote> sett til 128:
        </phrase>
      </title>

      <mediaobject>
        <imageobject lang="en">
          <imagedata fileref="../images/filters/average-color-ex3.png"
            format="PNG" />
        </imageobject>
        <imageobject lang="de">
          <imagedata
            fileref="../images/filters/de/average-color-ex3.png"
            format="PNG" />
        </imageobject>
        <imageobject lang="fr">
          <imagedata
            fileref="../images/filters/fr/average-color-ex3.png"
            format="PNG" />
        </imageobject>
        <imageobject lang="no">
          <imagedata
            fileref="../images/filters/no/average-color-ex3.png"
            format="PNG" />
        </imageobject>

        <caption>
          <para lang="en">
            Result on the Foreground color of the Toolbox and values of
            this color. The calculation for the green channel is:
            255 + 128/2 = 329 ; excess is 329 - 255 = 64 ; the Green channel
            value is 256 -64 = 192.
          </para>
          <para lang="de">
            Ergebnis als Vordergrundfarbe im Werkzeugfenster und die
            entsprechenden Werte dieser Farbe.
          </para>
          <para lang="fr">
            Résultat sur la couleur de premier-plan de la Boîte à Outils
            et valeurs de cette couleur. Le calcul pour le canal vert est :
            255 + 128/2 = 329 ; l'excès est 329 - 255 = 64 ; la valeur du
            canal vert est 256 -64 = 192.
          </para>
          <para lang="no">
            Resultatet slik det kjem fram i verktøyskrinet og verdiane
            for denne fargen.
          </para>
        </caption>
      </mediaobject>
    </figure>
  </sect3>
-->
</sect2>
