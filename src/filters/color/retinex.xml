<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect2 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
                "http://www.docbook.org/xml/4.3/docbookx.dtd">

<!-- section history:
  2006-12-23 ude: added de translation
  2005-11-26: created by julien hardelin. I wrote this text to give some
  explanation about this filter, but I didn't understand options...
  If you do, please write them.
-->
<sect2 id="plug-in-retinex" lang="en;de;fr;it;ru">
  <sect2info lang="en;de;fr" role="cvs">
    <revhistory>
      <revision lang="en">
        <revnumber>$Revision$</revnumber>
        <date>2006-11-12</date>
        <authorinitials>j.h</authorinitials>
      </revision>
      <revision lang="de">
        <revnumber>$Revision$</revnumber>
        <date>2006-11-04</date>
        <authorinitials>lexa</authorinitials>
      </revision>
      <revision lang="fr">
        <revnumber>$Revision$</revnumber>
        <date>2006-11-12</date>
        <authorinitials>j.h</authorinitials>
      </revision>
    </revhistory>
  </sect2info>

  <title>
    <phrase lang="en">Retinex</phrase>
    <phrase lang="de">Retinex</phrase>
    <phrase lang="fr">Normalisation Retinex</phrase>
    <phrase lang="it">Retinex</phrase>
    <phrase lang="ru">Ретинекс</phrase>
  </title>

  <indexterm lang="en">
    <primary>Filters</primary>
    <secondary>Map</secondary><!-- FIXME: en: Colors!? -->
  </indexterm>
  <indexterm lang="en"><primary>Retinex</primary></indexterm>

  <indexterm lang="de">
    <primary>Filter</primary>
    <secondary>Farben</secondary>
  </indexterm>
  <indexterm lang="de"><primary>Retinex</primary></indexterm>

  <indexterm lang="fr">
    <primary>Filtres</primary>
    <secondary>Carte</secondary><!-- FIXME: fr: Couleurs !? -->
  </indexterm>
  <indexterm lang="fr"><primary>Normalisation Retinex</primary></indexterm>

  <indexterm lang="it">
    <primary>Filtri</primary>
    <secondary>Colore</secondary>
  </indexterm>
  <indexterm lang="it"><primary>Retinex</primary></indexterm>

  <indexterm lang="ru">
    <primary>Фильтры</primary>
    <secondary>Цвета</secondary>
  </indexterm>
  <indexterm lang="ru"><primary>Ретинекс</primary></indexterm>

  <sect3>
    <title>
      <phrase lang="en">Overview</phrase>
      <phrase lang="de">Wirkungsweise</phrase>
      <phrase lang="fr">Généralités</phrase>
      <phrase lang="it">Panoramica</phrase>
      <phrase lang="ru">Общая информация</phrase>
    </title>

    <figure>
      <title>
        <phrase lang="en"><quote>Retinex</quote> example</phrase>
        <phrase lang="de"><quote>Retinex</quote>-Beispiel</phrase>
        <phrase lang="fr">
          Exemple de <quote>Normalisation Retinex</quote>
        </phrase>
        <phrase lang="it">
          Esempio di applicazione del filtro <quote>Retinex</quote>
        </phrase>
        <phrase lang="ru">Пример фильтра <quote>Ретинекс</quote></phrase>
      </title>

      <mediaobject>
        <imageobject>
          <imagedata fileref="../images/filters/examples/colors-retinex1.png"
            format="PNG" />
        </imageobject>
      </mediaobject>
      <mediaobject>
        <imageobject>
          <imagedata fileref="../images/filters/examples/colors-retinex2.png"
            format="PNG" />
        </imageobject>

        <caption>
          <para lang="en">Note new details in the upper right corner.</para>
          <para lang="de">
            Beachten Sie die neuen Details in der oberen rechten Ecke.
          </para>
          <para lang="fr">
            Noter l'apparition de nouveaux détails dans le coin en haut à
            droite.
          </para>
          <para lang="it">
            Si noti la comparsa di nuovi dettagli nell'angolo in alto a
            destra.
          </para>
          <para lang="ru">Заметьте новые детали в верхнем правом углу.</para>
        </caption>
      </mediaobject>
    </figure>

    <para lang="en">
      Retinex improves visual rendering of an image when lighting conditions
      are not good. While our eye can see colors correctly when light is low,
      cameras and video cams can't manage this well. The MSRCR (MultiScale
      Retinex with Color Restoration) algorithm, which is at the root of the
      Retinex filter, is inspired by the eye biological mecanisms to adapt
      <!-- FIXME: en:  shouldn't it read "mechanisms"? -->
      itself to these conditions. Retinex stands for Retina + cortex.
    </para>
    <para lang="en">
      Besides digital photography, Retinex algorithm is used to make the
      information in astronomical photos visible and detect, in medicine,
      poorly visible structures in X-rays or scanners.
    </para>

    <para lang="de">
      Retinex verbessert die visuelle Darstellung eines Bildes mit schlechten
      Lichtbedingungen. Während unser Auge Farben auch bei weniger Licht
      korrekt erkennen kann, haben Foto- und Videokameras damit Probleme. Der
      MSRCR-Algorithmus (<foreignphrase>MultiScale Retinex with Color
      Restoration</foreignphrase>), der die Grundlage des Retinexfilters
      bildet, wurde durch die biologischen Mechanismen des Auges inspiriert,
      sich an diese Verhältnisse anzupassen. <quote>Retinex</quote> steht
      für <quote>Retina</quote> (Netzhaut) + <quote>Kortex</quote>
      (Hirnrinde).
    </para>
    <para lang="de">
      Außer in der digitalen Fotografie wird der Retinex-Algorithmus auch in
      der Astronomie benutzt, um Informationen in Fotos sichtbar zu machen,
      und in der Medizin, um kaum sichtbare Strukturen auf Bildern von
      Röntgengeräten oder Scannern zu erkennen.
    </para>

    <para lang="fr">
      Retinex améliore le rendu visuel d'une image lorsque les conditions
      d'éclairage ne sont pas satisfaisantes. Alors que l'œil est capable de
      voir correctement les couleurs dans des conditions de faible éclairage
      ou d'ambiance colorée, les appareils photo et les caméras vidéo
      réussissent mal dans ces conditions. C'est en s'inspirant des mécanismes
      biologiques de l'œil pour s'adapter à ces conditions que l'algorithme
      MSRCR (MultiScale Retinex with Color Restoration), qui est à la base du
      greffon Normalisation Retinex, parvient à rétablir des couleurs
      satisfaisantes. Retinex est la contraction de Rétine+cortex.
    </para>
    <para lang="fr">
      Outre la photographie numérique, l'algorithme Retinex est utilisé en
      astronomie pour rendre visible l'information contenu dans les
      photographies astronomiques, en médecine pour détecter des structures
      peu visibles dans les radiographies et les tomodensitométries.
    </para>

    <para lang="it">
      "Retinex" migliora la resa visiva di un'immagine quando le condizioni di
      illuminazione non sono buone. Mentre il nostro occhio può vedere i
      colori correttamente in condizioni di scarsa illuminazione, le macchine
      fotografiche e le videocamere hanno qualche difficoltà. L'algoritmo
      MSRCR (MultiScale Retinex with Color Restoration - Retinex MultiScala
      con Restauro del Colore) che è alla base del filtro "Retinex" si rifà al
      funzionamento dell'occhio per adattarsi a queste condizioni. "Retinex" è
      una contrazione dei termini retina e cortex.
    </para>
    <para lang="it">
      Oltre che in fotografia digitale l'algoritmo Retinex è usato per rendere
      visibili informazioni nelle foto astronomiche e rivelare, in medicina,
      strutture debolmente visibili in lastre o scansioni a raggi X.
    </para>

    <para lang="ru">
      Алгоритм Ретинекс улучшает изображение, полученное при плохом освещении.
      В то время как глаз различает цвета при плохом освещении, камерам,
      фотоаппаратам и сканерам это не под силу. Этот алгоритм MSRCR
      (Многомасштабный Ретинекс с восстановлением цвета - MultiScale Retinex
      with Color Restoration) имитирует биологические механизмы глаза, который
      приспосабливается к этим условиям.
    </para>
    <para lang="ru">
      Кроме цифровой обработки фотографий, алгоритм Ретинекс используется для
      обнаружения информации в фотографиях по астрономии и плохо различающихся
      деталей на снимках Рентгена и сканеров.
    </para>
  </sect3>


  <sect3>
    <title>
      <phrase lang="en">Activate the filter</phrase>
      <phrase lang="cs">Aktivace filtru</phrase>
      <phrase lang="de">Filteraufruf</phrase>
      <phrase lang="es">Activar el filtro</phrase>
      <phrase lang="fr">Ouverture du filtre</phrase>
      <phrase lang="it">Attivazione del filtro</phrase>
      <phrase lang="ru">Активация фильтра</phrase>
      <phrase lang="zh_CN">使用这个滤镜</phrase>
    </title>

    <para lang="en">
      You can find this filter through
      <menuchoice>
        <guimenu>Filters</guimenu>
        <guisubmenu>Colors</guisubmenu>
        <guimenuitem><accel>R</accel>etinex</guimenuitem>
      </menuchoice>.
    </para>
    <para lang="de">
      Sie finden dieses Filter im Bildfenster unter
      <menuchoice>
        <guimenu>Filter</guimenu>
        <guisubmenu>Farben</guisubmenu>
        <guimenuitem><accel>R</accel>etinex</guimenuitem>
      </menuchoice>.
    </para>
    <para lang="fr">
      On accède à ce filtre par le menu d'image en suivant:
      <menuchoice>
        <guimenu>Filtres</guimenu>
        <guisubmenu>Couleurs</guisubmenu>
        <guimenuitem>Normalisation <accel>R</accel>etinex</guimenuitem>
      </menuchoice>.
    </para>
    <para lang="it">
      Questo filtro si trova nel menu immagine:
      <menuchoice>
        <guimenu><accel>C</accel>olori</guimenu>
        <guisubmenu><accel>R</accel>etinex</guisubmenu>
      </menuchoice>.
    </para>
    <para lang="ru">
      Этот фильтр находится в меню
      <menuchoice>
        <guimenu>Фильтры</guimenu>
        <guisubmenu>Цвета</guisubmenu>
        <guimenuitem><accel>Р</accel>етинекс</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>


  <sect3>
    <title>
      <phrase lang="en;fr">Options</phrase>
      <phrase lang="de">Eigenschaften</phrase>
      <phrase lang="it">Opzioni</phrase>
      <phrase lang="ru">Параметры</phrase>
    </title>

    <figure>
      <title>
        <phrase lang="en"><quote>Retinex</quote> filter options</phrase>
        <phrase lang="de"><quote>Retinex</quote>-Filteroptions</phrase>
        <phrase lang="fr">Options du filtre «Normalisation Retinex»</phrase>
        <phrase lang="it">Opzioni del filtro <quote>Retinex</quote></phrase>
        <phrase lang="ru">Параметры фильтра <quote>Ретинекс</quote></phrase>
      </title>

      <mediaobject>
        <imageobject lang="en;ru">
          <imagedata fileref="../images/filters/options-colors-retinex.png"
            format="PNG" />
        </imageobject>
        <imageobject lang="de">
          <imagedata fileref="../images/filters/de/options-colors-retinex.png"
            format="PNG" />
        </imageobject>
        <imageobject lang="fr">
          <imagedata fileref="../images/filters/fr/options-colors-retinex.png"
            format="PNG" />
        </imageobject>
        <imageobject lang="it">
          <imagedata fileref="../images/filters/it/options-colors-retinex.png"
            format="PNG" />
        </imageobject>
      </mediaobject>
    </figure>

    <para lang="en">
      These options call for notions that only mathematicians can understand.
      In actual practice, user has to grope about for the best setting.
    </para>
    <para lang="de">
      Um diese Optionen verstehen zu können, benötigt man genauere Kenntnisse
      des Algorithmus und gute mathematische Kenntnisse. Für die Praxis heißt
      das, dass der Benutzer ein wenig herumprobieren muss, um die beste
      Einstellung zu finden.
    </para>
    <para lang="fr">
      Ces options font appel à des notions que seuls les mathématiciens
      peuvent comprendre. En pratique, l'utilisateur doit tâtonner pour
      trouver le meilleur réglage.
    </para>
    <para lang="it">
      Queste opzioni richiedono una conoscenza matematica di base. Si
      consiglia l'utente occasionale di sperimentare per ottenere l'effetto
      migliore.
    </para>
    <para lang="ru">
      Эти параметры понятны только математикам. На практике, обычные
      пользователи должны просто поискать нужные значения.
    </para>

    <variablelist>
      <varlistentry>
        <term>
          <phrase lang="en">Level</phrase>
          <phrase lang="de">Grad</phrase>
          <phrase lang="fr">Répartition</phrase>
          <phrase lang="it">Livello</phrase>
          <phrase lang="ru">Уровень</phrase>
        </term>

        <listitem>
          <para lang="en">
            Here is what the plug-in author writes on his site
            (www-prima.inrialpes.fr/pelisson/MSRCR.php): <quote>To
            characterize color variations and the lightor, we make a
            difference between (gaussian) filters responses at different
            scales. These parameters allow to specify how to allocate scale
            values between min scale (sigma 2.0) and max (sigma equal to the
            image size)</quote>...
          </para>

          <para lang="de">
            Der Plugin-Autor schreibt auf seiner Webseite
            (www-prima.inrialpes.fr/pelisson/MSRCR.php) dazu folgendes:
            <!-- TODO: de:  Wer spricht Französisch?
            Bitte einmal überprüfen, der nachfolgende Text ist mehr
            geraten als übersetzt ... -->
            <quote>
              Um Farbveränderungen und die herrschende Beleuchtung zu
              charakterisieren, vergleichen wir die Intensitäten in den
              Reaktionen der (Gaußschen) Filter bei verschiedenen Maßstäben.
              Diese Parameter erlauben es, die Verteilung zwischen dem Minimum
              (Sigma 2,0) und dem Maximum (Sigma gleich Bildgröße) zu
              spezifizieren.
            </quote>
          </para>

          <para lang="fr">
            Voici ce que dit l'auteur du greffon sur son site
            (www-prima.inrialpes.fr/pelisson/MSRCR.php): <quote>Pour
            caractériser les variations de couleurs et l'illuminant on
            effectue une différence d'intensité entre les réponses des
            filtres (gaussien) à différentes échelles. Ces paramètres
            permetttent de spécifier comment sont réparties les valeurs
            d'échelle entre l'échelle min (sigma 2.0) et max (sigma égal à
            la taille de l'image)</quote>...
          </para>

          <para lang="it">
            L'autore del filtro scrive sul suo sito
            (www-prima.inrialpes.fr/pelisson/MSRCR.php) quanto segue:
            <quote>
              Per caratterizzare le variazioni di colore e l'illuminante,
              distinguiamo tra risposte del filtro (gaussiane) a scale
              diverse. Questo parametro permette di impostare come allocare i
              valori della scala tra la minima (sigma pari a 2) e la massima
              (sigma pari al valore della dimensione dell'immagine)"
            </quote>
          </para>

          <para lang="ru">
            Вот что автор фильтра написал по поводу уровней
            (www-prima.inrialpes.fr/pelisson/MSRCR.php):
            <quote>
              Чтобы охарактеризовать градации цвета и освещения, мы берём
              Гауссову разницу с изображения при разный масштабах. Эти
              параметры указывают как распределить значения масштаба от
              минимального (сигма 2,0) и максимального (сигма равна размеру
              изображения)
            </quote>
          </para>

          <!-- FIXME: en de fr it ru content missing -->
          <itemizedlist>
            <listitem>
              <para lang="en">
                <guilabel>Uniform</guilabel>:  FIXME
              </para>
              <para lang="de">
                <guilabel>Gleichmäßig</guilabel>: [zu ergänzen]
              </para>
              <para lang="fr">
                <guilabel>Uniforme</guilabel>:  À RÉDIGER
              </para>
              <para lang="it">
                <guilabel>Uniforme</guilabel>:  DA COMPLETARE
              </para>
              <para lang="ru">
                <guilabel><accel>О</accel>бщий для всех</guilabel>:  FIXME
              </para>
            </listitem>

            <listitem>
              <para lang="en">
                <guilabel>Low</guilabel>: FIXME
              </para>
              <para lang="de">
                <guilabel>Niedrig</guilabel>: [zu ergänzen]
              </para>
              <para lang="fr">
                <guilabel>Faible</guilabel>: À RÉDIGER
              </para>
              <para lang="it">
                <guilabel>Basso</guilabel>: DA COMPLETARE
              </para>
              <para lang="ru">
                <guilabel><accel>Н</accel>изкий</guilabel>: FIXME
              </para>
            </listitem>

            <listitem>
              <para lang="en">
                <guilabel>High</guilabel>: FIXME
              </para>
              <para lang="de">
                <guilabel>Hoch</guilabel>: [zu ergänzen]
              </para>
              <para lang="fr">
                <guilabel>Hauteur</guilabel>: À RÉDIGER
              </para>
              <para lang="it">
                <guilabel>Alto</guilabel>: DA COMPLETARE
              </para>
              <para lang="ru">
                <guilabel><accel>В</accel>ысокий</guilabel>: FIXME
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <phrase lang="en">Scale</phrase>
          <phrase lang="de">Skalierung</phrase>
          <phrase lang="fr">Echelle du filtre</phrase>
          <phrase lang="it">Scala</phrase>
          <phrase lang="ru">Масштаб</phrase>
        </term>

        <!-- FIXME: en de fr it ru content missing -->
        <listitem>
          <para lang="en">FIXME</para>
          <para lang="de">Es liegt uns leider keine Beschreibung vor...</para>
          <para lang="fr">À RÉDIGER</para>
          <para lang="it">DA COMPLETARE</para>
          <para lang="ru">FIXME</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <phrase lang="en">Scale division</phrase>
          <phrase lang="de">Teilung</phrase>
          <phrase lang="fr">Nombre de coeff.</phrase>
          <phrase lang="it">Divisione scala</phrase>
          <phrase lang="ru">Деление</phrase>
        </term>

        <!-- FIXME: en de fr it ru content missing -->
        <listitem>
          <para lang="en">FIXME</para>
          <para lang="de">Es liegt uns leider keine Beschreibung vor...</para>
          <para lang="fr">À RÉDIGER</para>
          <para lang="it">DA COMPLETARE</para>
          <para lang="ru">FIXME</para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>
          <phrase lang="en">Dynamic</phrase>
          <phrase lang="de">Dynamik</phrase>
          <phrase lang="fr">Dynamique</phrase>
          <phrase lang="it">Dinamica</phrase>
          <phrase lang="ru">Динамика</phrase>
        </term>

        <listitem>
          <para lang="en">
            As the MSR algorithm tends to make image lighter, this slider
            allows you to set color saturation.
          </para>
          <para lang="de">
            Da der MSR-Algorithmus dazu neigt, Bilder heller zu machen, können
            Sie mit diesem Schieberegler die Farbsättigung festlegen.
          </para>
          <para lang="fr">
            Comme l'algorithme MSR a tendance à éclaircir l'image, ce curseur
            vous permettra de faire varier la saturation des couleurs.
          </para>
          <para lang="it">
            Poichè l'algoritmo MSR tende a rendere l'immagine più chiara
            questo cursore permette di impostare la saturazione dei colori.
          </para>
          <para lang="ru">
            Поскольку алгоритм MSR делает изображение светлее, этот параметр
            позволяет определить насыщенность цвета.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>

  </sect3>
</sect2>
