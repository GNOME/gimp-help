<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE sect1 PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.docbook.org/xml/4.5/docbookx.dtd">
<!-- section history:
  2008-04-03 Mr.Dust : added 'ko'
  2007-05-14 j.h added "Make a solid BG transparent"
  2007-04-04 alex falappa: fixes in italian language
  2006-09-06 added norwegian translation by KoSt
  2006-07-23 manuelq: added spanish translation
  2006-05-02 Dust: added Korean translation
  2006-03-31 j.h: changed "making a selection transparent"
  2006-01-13 lexa: added translation for de an made file docbook compliant
  2005-11-28 lexa: replaced informalfigures by figures
  050905: Added Making a selection semi-transparente
-->
<sect1 id="gimp-concepts-selection">
  <sect1info role="cvs">
    <revhistory>
      <revision>
        <revnumber>$Revision$</revnumber>
        <date>2007-07-15</date>
        <authorinitials>romanofski</authorinitials>
      </revision>
      
      
      
      
      
    </revhistory>
  </sect1info>

  <title>
    
    
    <phrase>The Selection</phrase>
    
    
    
    
    
    
    
    
  </title>

  <indexterm significance="normal">
    <primary>Selections</primary>
    <secondary>About</secondary>
  </indexterm>
  <indexterm significance="normal">
    <primary>Selections</primary>
    <secondary>Making selection transparent</secondary>
  </indexterm>
  <indexterm significance="normal">
    <primary>Transparency</primary>
    <secondary>Making a selection transparent</secondary>
  </indexterm>

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  

  
  
  <para>
    Often when you operate on an image, you only want part of it to be
    affected. In GIMP, you make this happen by <emphasis>selecting</emphasis>
    that part. Each image has a <emphasis>selection</emphasis>
    associated with it. Most, but not all, GIMP operations act only on the
    selected portions of the image.
  </para>
  
  
  
  
  
  
  
  

  <figure float="0">
    <title>
      
      
      <phrase>How would you isolate the tree?</phrase>
      
      
      
      
      
      
      
      
    </title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="../images/using/fog-tree-example.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>

  
  
  <para>
    There are many, many situations where creating just the right selection is
    the key to getting the result you want, and often it is not very easy to
    do. For example, in the above image, suppose I want to cut the tree out
    from its background, and paste it into a different image. In order to do
    this, I need to create a selection that contains the tree and nothing but
    the tree. It is difficult because the tree has a very complex shape, and
    in several spots is hard to distinguish from the objects behind it.
  </para>
  
  
  
  
  
  
  
  

  <figure float="0">
    <title>
      
      
      <phrase>Selection shown as usual with dashed line</phrase>
      
      
      
      
      
      
      
      
    </title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="../images/using/select-outline.png" format="PNG"/>
      </imageobject>
      
    </mediaobject>
  </figure>

  
  
  <para>
    Now here is a very important point, and it is crucial to understand this.
    Ordinarily when you create a selection, you see it as a dashed line
    enclosing a portion of the image. The idea you could get from this is that
    the selection is a sort of container, with the selected parts of the image
    inside, and the unselected parts outside. This concept of the selection is
    okay for many purposes, but it is not really correct.
  </para>
  
  
  
  
  
  

  
  

  
  
  <para>
    Actually the selection is implemented as a <emphasis>channel</emphasis>.
    In terms of its internal structure, it is identical to the red, green,
    blue, and alpha channels of an image. Thus, the selection has a value
    defined at each pixel of the image, ranging between 0 (unselected) and 255
    (fully selected). The advantage of this approach is that it allows some
    pixels to be <emphasis>partially selected</emphasis>,
    by giving them intermediate values between 0 and 255. As you will see,
    there are many situations where it is desirable to have smooth transitions
    between selected and unselected regions.
  </para>
  
  
  
  
  
  

  
  


  
  
  <para>
    What, then, is the dashed line that appears when you create a selection?
  </para>
  
  
  
  
  
  

  
  

  
  
  <para>
    It is a <emphasis>contour line</emphasis>, dividing areas that are more
    than half selected from areas that are less than half selected.
  </para>
  
  
  

  
  
  

  
  

  <figure float="0">
    <title>
      
      
      <phrase>Same selection in QuickMask mode</phrase>
      
      
      
      
      
      
      
      
    </title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="../images/using/select-outline-qmask.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>

  
  
  <para>
    You should always bear in mind, when looking at the dashed line that
    represents the selection, that it only tells you part of the story. If you
    want to see the selection in complete detail, the easiest way is to click
    the QuickMask button in the lower left corner of the image window. This
    causes the selection to be shown as a translucent overlay atop the image.
    Selected areas are unaffected; unselected areas are reddened. The more
    completely selected an area is, the less red it appears.
  </para>
  
  
  
  
  
  
  
  

  
  
  <para>
    QuickMask mode, and its uses, are described in detail below. Meanwhile, if
    you are following this discussion by trying things out in GIMP, you should
    know that many operations work differently in QuickMask mode, so go ahead
    and toggle it off again for now (by clicking the QuickMask button once
    more).
  </para>
  
  
  
  
  
  
  
  

  <figure float="0">
    <title>
      
      
      <phrase>
        Same selection in QuickMask mode after feathering
      </phrase>
      
      
      
      
      
      
      
      
    </title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="../images/using/select-outline-qmask-feather.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>

  <sect2>
    <title>
      
      
      <phrase>Feathering</phrase>
      
      
      
      
      
      
      
      
    </title>

    
    
    <para>
      With the default settings, the basic selection tools, such as the
      Rectangle Select tool, create sharp selections. Pixels inside the dashed
      line are fully selected, and pixels outside completely unselected. You
      can verify this by toggling QuickMask: you see a clear rectangle with
      sharp edges, surrounded by uniform red. In the Tool Options, however, is
      a checkbox called <quote>Feather edges</quote>. If you enable this, the
      tool will instead create graduated selections. The feather radius, which
      you can adjust, determines the distance over which the transition
      occurs.
    </para>
    
    
    
    
    
    
    
    

    
    
    <para>
      If you are following along, try this out with the Rectangle Select tool,
      and then toggle QuickMask. You will now see that the clear rectangle has
      a fuzzy edge.
    </para>
    
    
    
    
    
    
    
    

    
    
    <para>
      Feathering is particularly useful when you are cutting and pasting, in
      helping the pasted object to blend smoothly and unobtrusively with its
      surroundings.
    </para>
    
    
    
    
    
    
    
    

    

    

    <para>
      Actually, it is possible to feather a selection at any time, even if it
      was originally created as a sharp selection. You can do this from the
      image menu, by choosing
      <menuchoice moreinfo="none">
        <guimenu moreinfo="none">Select</guimenu>
        <guimenuitem moreinfo="none">Feather</guimenuitem>
      </menuchoice>.
      This brings up a dialog that allows you to set the feather radius. You
      can do the opposite--sharpen a graduated selection into an
      all-or-nothing selection--by choosing
      <menuchoice moreinfo="none">
        <guimenu moreinfo="none">Select</guimenu>
        <guimenuitem moreinfo="none">Sharpen</guimenuitem>
      </menuchoice>.
    </para>

    

    

    

    

    

    

    

    

    <note>
      
      
      <para>
        For technically oriented readers: feathering works by applying a
        Gaussian blur to the selection channel, with the specified blurring
        radius.
      </para>
      
      
      
      
      
      
      
      
    </note>
  </sect2>

  <sect2>
    <title>
      
      <phrase>Making a Selection Partially Transparent</phrase>
      
      
      
      
      
      
      
    </title>

    <!-- <indexterm lang="en">
      <primary>Transparency</primary>
      <secondary>Make a solid background transparent</secondary>
    </indexterm> -->
    <!-- <indexterm lang="fr">
      <primary>Transparence</primary>
      <secondary>Rendre transparent un fond uni</secondary>
    </indexterm> -->

    <!-- moved it here since some browsers (konqueror!) cannot handle
      indexterms within list items -->
    
    
    <!--indexterm lang="ru">
      <primary>Прозрачность</primary>
      <secondary>Сделать сплошной фон прозрачным</secondary>
    </indexterm-->

    <para>
      You can set layer opacity, but you cannot do that directly for a
      selection. It is quite useful to make the image of a glass
      transparent. You can achieve this by using these methods:
    </para>
    
    
    
    
    
    
    
    

    <itemizedlist>
      <listitem>
        <para>
          For simple selections, use the Eraser tool with the wanted opacity.
        </para>
        
        
        
        
        
        
        
        
      </listitem>

      <listitem>
        <para>  <!--Changed 060331-->
          For complex selections: use the command
          <menuchoice moreinfo="none">
            <guimenu moreinfo="none">Selection</guimenu>
            <guimenuitem moreinfo="none">Floating</guimenuitem>
          </menuchoice>
          to create a floating selection. This creates a new layer called
          <quote>Floating Selection</quote>.

          Activate it and use the opacity slider to get the wanted opacity.
          Then anchor the selection: outside the selection, the mouse pointer
          comes with an anchor icon. When you click, the floating selection
          disappears from the Layer Dialog and the selection is at the right
          place and partially transparent (anchoring works this way only if a
          selection tool is activated : you can also use the command in the
          context menu that you get by right clicking on the selected layer
          in the layer dialog).
        </para>
        <para>
          And, if you use this function frequently:
          <keycombo action="press" moreinfo="none">
            <keycap moreinfo="none">Ctrl</keycap><keycap moreinfo="none">C</keycap>
          </keycombo> to copy the selection,
          <keycombo action="press" moreinfo="none">
            <keycap moreinfo="none">Ctrl</keycap><keycap moreinfo="none">V</keycap>
          </keycombo> to paste it, creating so a floating selection,
          adapt the opacity then make Layer/New Layer that pastes the floating
          selection into the new layer. You can also create a shortcut for the
          New Layer command to use keys only.
        </para>

        
        

        
        

        
        

        
        

        
        

        
        
        
        

        
        
      </listitem>

      <listitem>
        <para>
          Another way:
          <menuchoice moreinfo="none">
            <guimenu moreinfo="none">Layer</guimenu>
            <guisubmenu moreinfo="none">Mask</guisubmenu>
            <guimenuitem moreinfo="none">Layer mask</guimenuitem>
          </menuchoice>
          to add a layer mask to the layer with the
          selection, initializing it with the selection. Then use a brush with
          the wanted opacity to paint the selection with black, i-e paint it
          with transparency. Then Layer/Mask/Apply Layer Mask. See
          <xref linkend="gimp-layer-mask"/>.
        </para>
        
        
        
        
        
        
        
        
      </listitem>

      <listitem>
        <para>
          If you want to <emphasis>make transparent the solid
          background of an image</emphasis>, add an Alpha channel and select
          the background by using the Magic Wand. Then, with the Color Picker
          tool, select the background color which becomes the foreground
          color in Toolbox. Use Fill tool with this color on the selection,
          in the <quote>Color Erase</quote> mode. This method erases pixels
          which have this color; other pixels are partially erased and their
          color is changed.
        </para>
        <para>
          The simplest method is the
          <menuchoice moreinfo="none">
            <guimenu moreinfo="none">Edit</guimenu>
            <guimenuitem moreinfo="none">Erase</guimenuitem>
          </menuchoice>
          command, which gives complete transparency and doesn't allow to
          enjoy the Opacity setting of the Fill tool.
        </para>

        
        

        
        

        
        
        
        
        

        
        

      </listitem>
    </itemizedlist>
  </sect2>
</sect1>
