<?xml version="1.0" encoding="UTF-8" ?>

<sect1 id='gimp-palette-dialog' lang="en">
  <title lang='en'>Palettes</title>

  <indexterm>
    <primary lang='en'>Dialog</primary>
    <secondary lang='en'>Palettes</secondary>
  </indexterm>

  <sect2>
    <title lang='en'>Dialog</title>

    <informalfigure>
      <mediaobject lang="en">
	<imageobject>
	  <imagedata fileref='../images/dialogs/dialogs-palettes.png'
	  format="PNG"/> 
	</imageobject>

	<caption>
	  <para lang='en'>
	    The Palettes dialog
	  </para>
	</caption>
      </mediaobject>
    </informalfigure>

    <para lang='en'>
      A <emphasis>palette</emphasis> is a set of discrete colors, in no
      particular order.  See the <link 
      linkend='gimp-palettes'>Palettes</link> section for basic
      information on palettes and how they can be created and used.
    </para>

    <para lang='en'>
      The Palettes dialog is used to select a palette, by clicking on
      it in a list or grid view.  A few dozen more or
      less randomly chosen palettes are supplied with GIMP, and you can
      easily add new palettes of your own.  The Palettes dialog also
      give you access to several operations for creating new palettes or
      manipulating the ones that already exist.
    </para>

    <note lang='en'>
       The Palettes dialog is not the same thing as the <link
       linkend='gimp-indexed-palette-dialog'>Index Palette
       dialog</link>, which is used to manipulate the colormaps of
       indexed images.
     </note>

    <para lang='en'>
      The Palettes dialog is a dockable dialog; see the section on <link
      linkend='gimp-docks'>Dialogs and Docking</link> for help on
      manipulating it.  It can be activated in several ways:
    </para>

    <itemizedlist>
      <listitem lang='en'>
	<para>    
	  From the Toolbox menu:
	  <menuchoice>
	    <guimenu>File</guimenu>
	    <guisubmenu>Dialogs</guisubmenu>
	    <guimenuitem>Pal<accel>e</accel>ttes</guimenuitem>
	  </menuchoice>.
	</para>
      </listitem>

      <listitem lang='en'>      
	<para>    
	  From an image menu:
	  <menuchoice>
	    <guimenu>Dialogs</guimenu>
	    <guimenuitem>Pal<accel>e</accel>ttes</guimenuitem>
	  </menuchoice>.
	</para>
      </listitem>

      <listitem lang='en'>      
	<para>    
	  From the Tab menu in any dockable dialog:
	  <menuchoice>
	    <guimenu>Add Tab</guimenu>
	    <guimenuitem>Pal<accel>e</accel>ttes</guimenuitem>
	  </menuchoice>.
	</para>
      </listitem>
    </itemizedlist>

    <simplesect>
      <title lang="en">Grid/List modes</title>

      <informalfigure>
	<mediaobject lang='en'>
	  <imageobject>
	    <imagedata fileref='../images/dialogs/dialogs-palettes-grid.png'
	      type='PNG' />
	  </imageobject>
	</mediaobject>
	<caption>
	  <para lang='en'>
	    The Palettes dialog (Grid View)
	  </para>
	</caption>
      </informalfigure>

      <para lang='en'>
	In the Tab menu, you can choose between <guimenuitem>View as
	Grid</guimenuitem> and <guimenuitem>View as List</guimenuitem>.
	In Grid mode, the palettes are laid out in a spectacular
	rectangular array, making it easy to see many at once and find
	the one you are looking for.  In List mode (the default), the
	palettes are lined up in a list, with the names beside them.  
      </para>
    </simplesect>

    <simplesect>
      <title lang="en">Using the Palettes dialog</title>

      <para lang='en'>
	Clicking on a palette in the dialog makes it GIMP's active
	palette.  This does not really have any significance, though.
	Double-clicking on a palette brings up the <link
	linkend='gimp-palette-editor-dialog'>Palette Editor</link>, which
	allows you to set GIMP's foreground or background colors by
	clicking on colors in the palette display.
      </para>

      <para lang='en'>
	Double-clicking on a palette <emphasis>name</emphasis> (in List
	View mode) lets you to edit the name.  Note that you are only
	allowed to change the names of palettes that you have added
	yourself, not those that are supplied with GIMP.  If you edit a
	name that you are not allowed to change, it will revert back to
	its previous value as soon as you hit return or move the pointer
	focus elsewhere.
      </para>

      <para lang='en'>
	Right-clicking in the palette display area brings up the
	Palettes Menu, described in the next section.  At the bottom of
	the dialog are a set of buttons, whose function all duplicate
	those of entries in the Palettes Menu:
      </para>

      <itemizedlist lang='en'>
	<listitem>
	  <formalpara>
	    <title>Edit Palette</title>
	    This button brings up the <link
	    linkend='gimp-palette-editor-dialog'>Palette Editor</link>.
	  </formalpara>
	</listitem>
	<listitem>
	  <formalpara>
	    <title>New Palette</title>
	    See <link linkend='gimp-palette-new'>New Palette</link>.
	  </formalpara>
	</listitem>
	<listitem>
	  <formalpara>
	    <title>Duplicate Palette</title>
	    See <link linkend='gimp-palette-duplicate'>Duplicate
	    Palette</link>.
	  </formalpara>
	</listitem>
	<listitem>
	  <formalpara>
	    <title>Delete Palette</title>
	    See <link linkend='gimp-palette-delete'>Delete Palette</link>.
	  </formalpara>
	</listitem>
	<listitem>
	  <formalpara>
	    <title>Refresh Palettes</title>
	    See <link linkend='gimp-palette-refresh'>Refresh Palettes</link>.
	  </formalpara>
	</listitem>
      </itemizedlist>
    </simplesect>
  </sect2>

  <sect2 id='gimp-palettes-menu'>
    <title lang='en'>Palettes Menu</title>

    <informalfigure>
      <mediaobject lang='en'>
	<imageobject>
	  <imagedata fileref='../images/dialogs/dialogs-palettes-menu.png'
	    type='PNG' />
	</imageobject>
      </mediaobject>
      <caption>
	<para lang='en'>
	  The Palettes Menu
	</para>
      </caption>
    </informalfigure>

    <para lang='en'>
      The Palettes Menu can be accessed by right-clicking in the
      Palettes dialog, or by choosing the top item from the dialog Tab
      menu.   
    </para>

    <simplesect id='gimp-palette-edit'>
      <title lang='en'>Edit Palette</title>

      <para lang='en'>
	"Edit Palette" is an alternative way of activating the <link
	linkend='gimp-palette-editor-dialog'>Palette Editor</link>:  it can
	also be activated by double-clicking on a palette in the
	Palettes dialog, or by pressing the "Edit Palette" button at the
	bottom of the dialog.
      </para>
    </simplesect>


    <simplesect id='gimp-palette-new'>
      <title lang='en'>New Palette</title>

      <para lang='en'>
	"New Palette" creates a new, untitled palette, initially
	containing no color entries, and pops up the Palette Editor so
	that you can add colors to the palette.  The result will
	automatically be saved in your personal
	<filename>palettes</filename> folder when you quit GIMP, so it
	will be available from the Palettes dialog in future sessions.
      </para>
    </simplesect>


    <simplesect id='gimp-palette-import'>
      <title lang='en'>Import Palette</title>

      <informalfigure>
	<mediaobject lang='en'>
	  <imageobject>
	    <imagedata fileref='../images/dialogs/dialogs-palette-import.png'
	      type='PNG' />
	  </imageobject>
	</mediaobject>
	<caption>
	  <para lang='en'>
	    The Import Palette dialog
	  </para>
	</caption>
      </informalfigure>

      <para lang='en'>
	"Import Palette" allows you to create a new palette from the
	colors in a gradient or image.  Choosing it brings up the
	"Import Palette" dialog, which gives you the following options: 
      </para>

      <itemizedlist lang='en'>
	<listitem>
	  <formalpara>
	    <title>Select Source</title>
	    You can import a palette either from any of GIMP's gradients
	    (choosing one from the adjoining menu), or from any of the
	    currently open images (chosen from the adjoining menu).  In
	    GIMP 2.2, you can also import a RIFF palette file (with
	    extension <filename>.pal</filename>), of the type used by
	    several Microsoft Windows applications.
	  </formalpara>
	</listitem>
	<listitem>
	  <formalpara>
	    <title>Palette name</title>
	    You can give a name to the new palette here.  If the name
	    you choose is already used by an existing palette, a unique
	    name will be formed by appending a number (e. g., "#1").
	  </formalpara>
	</listitem>
	<listitem>
	  <formalpara>
	    <title>Number of colors</title>
	    Here you specify the number of colors in the palette.  The
	    default is 256, chosen for three reasons:  (1) every
	    gradient contains 256 distinct colors; (2) GIF files can use
	    a maximum of 256 colors; (3) GIMP indexed images can contain
	    a maximum of 256 distinct colors.  You can use any number
	    you like here, though:  GIMP will try to create a palette by
	    spacing the specified number of colors even across the color
	    range of the gradient or image.
	  </formalpara>
	</listitem>
	<listitem>
	  <formalpara>
	    <title>Columns</title>
	    Here you specify the number of columns for the palette.
	    This only affects the way the palette is displayed, and has
	    no effect on the way the palette is used.
	  </formalpara>
	</listitem>
	<listitem>
	  <formalpara>
	    <title>Interval</title>
	    XXX I have no idea what this is.
	  </formalpara>
	</listitem>
      </itemizedlist>

      <para lang='en'>
	The imported will be added to the Palettes dialog, and
	automatically saved in your personal
	<filename>palettes</filename> folder when you quit GIMP, so it
	will be available in future sessions.
      </para>
	
    </simplesect>


    <simplesect id='gimp-palette-duplicate'>
      <title lang='en'>Duplicate Palette</title>

      <para lang='en'>
	"Duplicate Palette" creates a new palette by copying the palette
	that is currently selected, and brings up a Palette Editor so
	that you can alter the palette.  The result will
	automatically be saved in your personal
	<filename>palettes</filename> folder when you quit GIMP, so it
	will be available from the Palettes dialog in future sessions.
      </para>
    </simplesect>


    <simplesect id='gimp-palette-merge'>
      <title lang='en'>Merge Palettes</title>

      <para lang='en'>
	Currently this operation is not implemented, and the menu entry
	will always be insensitive.
      </para>
    </simplesect>


    <simplesect id='gimp-palette-delete'>
      <title lang='en'>Delete Palette</title>

      <para lang='en'>
	"Delete Palette" removes the palette from the Palettes dialog,
	and deletes the disk file in which it is stored.  Before it
	acts, it asks you confirm that you really want to do these
	things.  Note that you cannot remove any of the palettes that
	are supplied with GIMP, only palettes you have added yourself.
      </para>
    </simplesect>


    <simplesect id='gimp-palette-refresh'>
      <title lang='en'>Refresh Palettes</title>

      <para lang='en'>
	"Refresh Palettes" rescans all of the folders in your palette
	search path, and adds any newly discovered palettes to the list
	in the Palettes dialog.  This may be useful if you obtain
	palette files from some external source, copy them into one of
	your palettes folders, and want to make them available during
	the current session.
      </para>
    </simplesect>



  </sect2>



  <sect2 id='gimp-palette-editor-dialog'>
    <title lang='en'>Palette Editor</title>

    <informalfigure>
      <mediaobject lang='en'>
	<imageobject>
	  <imagedata fileref='../images/dialogs/dialogs-palette-editor.png'
	    type='PNG' />
	</imageobject>
      </mediaobject>
      <caption>
	<para lang='en'>
	  The Palette Editor
	</para>
      </caption>
    </informalfigure>

    <para lang='en'>
      The Palette Editor is used mainly for two purposes:  first, for
      setting GIMP's foreground or background colors (as shown in the
      Color Area of the Toolbox) to selected colors from the palette;
      second, for modifying the palette.  You can activate the Palette
      Editor for any palette in the Palettes dialog, but you can only
      modify palettes that you have created yourself, not the palettes
      that are supplied when you install GIMP.  (You can, however,
      duplicate any palette and then edit the newly created copy.)  If
      you modify a palette, the results of your work will automatically
      be saved when you exit from GIMP.
    </para>

    <para lang='en'>
      The Palette Editor is only accessible from the Palettes dialog:
      you can activate it by double-clicking on a palette, or by
      pressing the "Edit Palette" button at the bottom, or by choosing
      "Edit Palette" from the Palettes Menu.
    </para>

    <para lang='en'>
      The Palette Editor is a dockable dialog; see the section on <link
      linkend='gimp-docks'>Dialogs and Docking</link> for help on
      manipulating it.  It can be activated in several ways:
    </para>

    <simplesect>
      <title lang='en'>Using the Palette Editor</title>

      <para lang='en'>
	If you click on a color box in the palette display, GIMP's
	foreground color will be set to the selected color:  you can see
	this in the Color Area of the Toolbox.  If you hold down the
	Ctrl key while clicking, GIMP's background color will be set to
	the selected color.
      </para>

      <para lang='en'>
	Double-clicking on a color not only sets the foreground, it also
	brings up a color editor that allows you to modify the selected
	palette entry.  (This only happens if the palette is one you are
	allowed to modify:  that is, one you have added to GIMP
	yourself.) 
      </para>

      <para lang='en'>
	Right-clicking in the palette display area brings up the Palette
	Editor menu.  It's functions are mainly the same as
	those of the buttons at the bottom of the dialog.
      </para>

      <para lang='en'>
	Below the palette display area, at the left, appears a text
	entry area that shows the name of the selected color (or
	"Unnamed" if it does not have one).  This information has no
	functional significance, and is present only to serve you as a
	memory aid.
      </para>

      <para lang='en'>
	To the right of the name entry is a spinbutton that allows you
	to set the number of columns used to display the palette.  This
	only affects the display, not how the palette works.  If the
	value is set to 0, a default will be used.
      </para>

      <para lang='en'>
	At the bottom of the dialog are a set of buttons, which mostly
	match the entries in the Palette Editor menu, accessible by
	right-clicking in the palette display area.  Here are the
	buttons: 
      </para>

      <itemizedlist lang='en'>
	<listitem>
	  <formalpara>
	    <title>Save</title>
	    This button causes the palette to be saved in your personal
	    <filename>palettes</filename> folder.  It would be saved
	    automatically when GIMP exits in any case, but you might
	    want to use this button if you are concerned that GIMP might
	    crash in the meantime.
	  </formalpara>
	</listitem>
	<listitem>
	  <formalpara>
	    <title>Revert</title>
	    This operation has not yet been implemented.
	  </formalpara>
	</listitem>
	<listitem>
	  <formalpara>
	    <title>Edit Color</title>
	    Pops up a color editor allowing you to alter the color.  If
	    the palette is one you aren't allowed to alter, this button
	    will be insensitive.
	  </formalpara>
	</listitem>
	<listitem>
	  <formalpara>
	    <title>New Color from FG</title>
	    Adds a new entry to the palette, with color taken from
	    GIMP's foreground color, as shown in the Color Area of the
	    Toolbox.  If you hold down the Ctrl key when pressing this
	    button, the new color will be taken from GIMP's background
	    instead. If the palette is one you aren't allowed to alter,
	    this button will be insensitive.
	  </formalpara>
	</listitem>
	<listitem>
	  <formalpara>
	    <title>Delete Color</title>
	    Removes the selected color entry from the palette.  If
	    the palette is one you aren't allowed to alter, this button
	    will be insensitive.
	  </formalpara>
	</listitem>
	<listitem>
	  <formalpara>
	    <title>Zoom Out</title>
	    Expands the palette display vertically.
	  </formalpara>
	</listitem>
	<listitem>
	  <formalpara>
	    <title>Zoom In</title>
	    Shrinks the palette display vertically.
	  </formalpara>
	</listitem>
	<listitem>
	  <formalpara>
	    <title>Zoom All</title>
	    Fits the vertical scale of the palette display to the size
	    of the display area.
	  </formalpara>
	</listitem>
      </itemizedlist>
    </simplesect>

  </sect2>

  <sect2 id='gimp-palette-editor-menu'>
    <title lang='en'>Palette Editor Menu</title>

    <informalfigure>
      <mediaobject lang='en'>
	<imageobject>
	  <imagedata fileref='../images/dialogs/dialogs-palette-editor-menu.png'
	    type='PNG' />
	</imageobject>
      </mediaobject>
      <caption>
	<para lang='en'>
	  The Palette Editor Menu
	</para>
      </caption>
    </informalfigure>

    <para lang='en'>
      The Palette Editor Menu can be accessed by right-clicking on the
      palette display in the Palette Editor, or by choosing the top
      entry from the dialog Tab menu.  The operations in it can also
      be executed using the buttons at the bottom of the Palette
      Editor dialog.
    </para>

    <simplesect id='gimp-palette-editor-edit'>
      <title lang='en'>Edit Color</title>

      <para lang='en'>
	"Edit Color" brings up a color editor that allows you to modify
	the color of the selected palette entry.  If the palette is one
	that you are not allowed to edit (that is, one supplied by GIMP
	when it is installed), then the menu entry will be insensitive.
      </para>
    </simplesect>

    <simplesect id='gimp-palette-editor-new'>
      <title lang='en'>New Color from FG; New Color from BG</title>

      <para lang='en'>
	These commands each create a new palette entry, using either
	GIMP's current foreground color (as shown in the Color Area of
	the Toolbox), or the current background color.
      </para>
    </simplesect>

    <simplesect id='gimp-palette-editor-delete'>
      <title lang='en'>Delete Color</title>

      <para lang='en'>
	"Delete Color" removes the selected color entry from the
	palette.  If the palette is one that you are not allowed to
	edit, then the menu entry will be insensitive. 
      </para>
    </simplesect>

    <simplesect id='gimp-palette-editor-zoom-out'>
      <title lang='en'>Zoom Out</title>

      <para lang='en'>
	"Zoom Out" reduces the vertical scale of the entries in the
	palette display.
      </para>
    </simplesect>

    <simplesect id='gimp-palette-editor-zoom-in'>
      <title lang='en'>Zoom In</title>

      <para lang='en'>
	"Zoom In" increases the vertical scale of the entries in the
	palette display.
      </para>
    </simplesect>

    <simplesect id='gimp-palette-editor-zoom-all'>
      <title lang='en'>Zoom All</title>

      <para lang='en'>
	"Zoom All" adjusts the vertical size of the entries in the
	palette display so that the entire palette fits into the display
	area. 
      </para>
    </simplesect>
  </sect2>
</sect1>
