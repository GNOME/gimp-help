<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect2 PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
                       "http://www.docbook.org/xml/4.3/docbookx.dtd">
<!-- section history:
  2012-03-09 j.h: update to v2.8
  2008-12-13 j.h: updated en;fr to v2.6
  2007-09-30 j.h: updated to v2.4. Lock-Alpha channel example added
  2006-12-27 lexa: applied patch from ude to enhance de content
-->
<sect2 xmlns:xi="http://www.w3.org/2001/XInclude" id="gimp-layer-dialog">
  <title>Layers Dialog</title>

  <indexterm>
    <primary>Dialogs</primary>
    <secondary>Layers</secondary>
  </indexterm>
  <indexterm>
    <primary>Layer</primary>
    <secondary>Dialog</secondary>
  </indexterm>

  <figure>
    <title>Layers Dialog</title>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/dialogs/layer-dialog.png" format="PNG"/>
      </imageobject>
    </mediaobject>
  </figure>
  <para>
    The <quote>Layers</quote> dialog is the main interface to edit, modify
    and manage your layers.
  </para>

  <sect3 id="gimp-layer-dialog-activate">
    <title>Activating the Dialog</title>
    <para>
      This dialog is a dockable dialog; see the
      section <xref linkend="gimp-concepts-docks"/> for help on manipulating
      it.
    </para>
    <para>
      You can access it:
    </para>
    <itemizedlist>
      <listitem>
        <para>
          from the main menu:
          <menuchoice>
            <guimenu>Windows</guimenu>
            <guisubmenu>Dockable Dialogs</guisubmenu>
            <guimenuitem>Layers</guimenuitem>
          </menuchoice>;
        </para>
      </listitem>
      <listitem>
        <para>
          from the Tab menu in any dockable dialog by clicking the
          <link linkend="tab-menus">tab menu button</link>
          <guiicon>
            <inlinemediaobject>
              <imageobject>
                <imagedata
                  fileref="images/stock-icons/gimp-menu-left.svg" contentwidth="16px"/>
              </imageobject>
            </inlinemediaobject>
          </guiicon> and selecting
          <menuchoice>
            <guimenu>Add Tab</guimenu>
            <guimenuitem>Layers</guimenuitem>
          </menuchoice>,
        </para>
      </listitem>
      <listitem>
        <para>
          from the (default) shortcut:
          <keycombo><keycap>Ctrl</keycap><keycap>L</keycap></keycombo>.
        </para>
      </listitem>
    </itemizedlist>

    <para>
      In the <guimenu>Windows</guimenu> menu, there is a list of
      <link linkend="gimp-dockable-menu">detached windows</link> which exists
      only if at least one dialog remains open. In this case, you can raise
      the <quote>Layers</quote> dialog from the main menu:
      <menuchoice>
        <guimenu>Windows</guimenu>
        <guimenuitem>Layers</guimenuitem>
      </menuchoice>.
    </para>
  </sect3>

  <sect3 id="gimp-layer-dialog-using">
    <title>Using the Layers Dialog</title>
    <variablelist>
      <varlistentry>
        <term>Overview</term>
        <listitem>
          <para>
            Every layer appears in the dialog in the form of a thumbnail. When
            an image has multiple layers as components, they appear as a list.
            The upper layer in the list is the first one visible, and the
            lowest layer the last visible, the background. Above the list one
            can find characteristics related individually to each layer. Under
            the list one can find management buttons for the layer list. A
            right-click on a layer thumbnail opens the Layer
            <link linkend="gimp-layer-menu">context menu</link>.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Selecting multiple layers</term>
        <listitem>
          <para>
            <acronym>GIMP</acronym> allows you to select multiple layers and
            perform actions on them. You can e.g. move them to a different
            location in the layer stack, scale them, etc.
            Selecting multiple layers is done by using the mouse and
            <keycap>Shift</keycap> key, for adding a range of layers, or
            <keycap>Ctrl</keycap> key, for adding or removing the clicked
            layer.
          </para>
          <para>
            Be aware that certain actions can only be done on a single layer.
            If you try to use such an action, e.g. using the paintbrush,
            a warning message will show up telling you that you can't do that
            and that you have to select a single layer.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Layer list header</term>
        <listitem>
          <para>
            Directly above the layer list is the header bar. On the left are
            three icons that show which column is used for visibility, lock,
            and layer effects. In the middle a text label will tell you how
            many layers are currently selected if it is more than one.
            On the right you see a search icon. Clicking in this part opens a
            search dialog where you can search for layers.
          </para>
          <variablelist>
            <varlistentry id="gimp-layer-search">
              <term>
                <guiicon>
                  <inlinemediaobject>
                    <imageobject>
                      <imagedata
                        fileref="images/stock-icons/gimp-tool-zoom.svg" contentwidth="16px"/>
                    </imageobject>
                  </inlinemediaobject>
                </guiicon>
                <phrase>Search layers and Saved searches</phrase>
              </term>
              <listitem>
                <para>
                  Searching layers can be useful if you have a lot of layers
                  in your project.
                  As soon as you start typing in the search bar, it will start
                  finding layers that match your search and select them.
                  Multiple layers will be selected if they all match.
                </para>
                <para>
                  Below the search bar you will see a plus icon. Clicking this
                  allows you to add the current search as a new named set.
                  This search, and previously defined ones, will show up below
                  the search bar.
                  Clicking one of these saved searches will select all the
                  layers matching the search term.
                  Each saved search has a close icon in the right corner,
                  which can be used to remove that saved search.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry id="gimp-layer-attributes">
        <term>Layer attributes</term>
        <listitem>
          <anchor id="gimp-layer-visible" xreflabel="Visible layer"/>
          <anchor id="gimp-layer-linked" xreflabel="Linked layers"/>
          <para>
            Every layer is shown in the list with its own attributes:
          </para>
          <variablelist>
            <varlistentry>
              <term>
                <guiicon>
                  <inlinemediaobject>
                    <imageobject>
                      <imagedata
                        fileref="images/stock-icons/gimp-visible.svg" contentwidth="16px"/>
                    </imageobject>
                  </inlinemediaobject>
                </guiicon>
                <phrase>Layer visibility</phrase>
              </term>
              <listitem>
                <para>
                  Clicking this icon toggles whether the layer is visible or not.
                  (<keycap>Shift</keycap>-clicking on the icon causes all
                  <emphasis>other same-level</emphasis> layers to be shown or hidden
                  alternatively. <keycap>Alt</keycap>-clicking on the icon causes
                  all other <emphasis>selected</emphasis> layers on the same level
                  to be shown or hidden alternatively.)
                </para>
              </listitem>
            </varlistentry>
            <varlistentry id="gimp-layer-dialog-lock-alpha-button">
              <term>
                <guiicon>
                  <inlinemediaobject>
                    <imageobject>
                      <imagedata fileref="images/stock-icons/gimp-lock.svg" contentwidth="16px"/>
                    </imageobject>
                  </inlinemediaobject>
                </guiicon>
                <phrase>Lock</phrase>
              </term>
              <listitem>
                <indexterm>
                  <primary>Lock alpha channel</primary>
                </indexterm>
                <indexterm>
                  <primary>Transparency</primary>
                  <secondary>Keep Layer Transparency</secondary>
                </indexterm>
                <indexterm>
                  <primary>Transparency</primary>
                  <secondary>Lock Alpha channel</secondary>
                </indexterm>
                <indexterm>
                  <primary>Lock pixels</primary>
                </indexterm>
                <para>
                  Clicking on the empty checkbox in the lock column of a layer
                  opens a menu with the following options.
                  (<keycap>Shift</keycap>-clicking on an icon causes all
                  <emphasis>other same-level</emphasis> layers to be locked or
                  unlocked alternatively. <keycap>Alt</keycap>-clicking on an
                  icon causes all other <emphasis>selected</emphasis> layers on
                  the same level to be locked or unlocked alternatively.)
                </para>
                <variablelist>
                  <varlistentry id="gimp-layer-lock-pixels">
                    <term>
                      <guiicon>
                        <inlinemediaobject>
                          <imageobject>
                            <imagedata
                              fileref="images/stock-icons/gimp-lock-content.svg" contentwidth="16px"/>
                          </imageobject>
                        </inlinemediaobject>
                      </guiicon>
                    <phrase>Lock pixels</phrase>
                    </term>
                    <listitem>
                      <para>
                        When this toggle button is enabled, you cannot use any
                        brush-based tool (Paintbrush, Pencil, Eraser etc.), the
                        Airbrush or the Ink tool on the currently selected layer.
                        This allows you to protect them from unwanted changes.
                      </para>
                    </listitem>
                  </varlistentry>
                  <varlistentry id="gimp-layer-lock-position">
                    <term>
                      <guiicon>
                        <inlinemediaobject>
                          <imageobject>
                            <imagedata
                              fileref="images/stock-icons/gimp-lock-position.svg" contentwidth="16px"/>
                          </imageobject>
                        </inlinemediaobject>
                      </guiicon>
                    <phrase>Lock position and size</phrase>
                    </term>
                    <listitem>
                      <para>
                        This toggle button enables or disables protection of
                        layers from moving them around or transforming them. When
                        this is enabled, then you cannot use any transform
                        tool (Rotate, Shear, Perspective and others) or move it.
                      </para>
                    </listitem>
                  </varlistentry>
                  <varlistentry id="gimp-layer-lock-visibility">
                    <term>
                      <guiicon>
                        <inlinemediaobject>
                          <imageobject>
                            <imagedata
                              fileref="images/stock-icons/gimp-lock-visibility.svg" contentwidth="16px"/>
                          </imageobject>
                        </inlinemediaobject>
                      </guiicon>
                    <phrase>Lock visibility</phrase>
                    </term>
                    <listitem>
                      <para>
                        This toggle button controls the <quote>Lock</quote>
                        setting for the visibility of the layer. If this is
                        enabled, the layer visibility cannot be changed until
                        you disable the lock.
                      </para>
                    </listitem>
                  </varlistentry>
                  <varlistentry id="gimp-layer-lock-alpha">
                    <term>
                      <guiicon>
                        <inlinemediaobject>
                          <imageobject>
                            <imagedata
                              fileref="images/stock-icons/gimp-lock-alpha.svg" contentwidth="16px"/>
                          </imageobject>
                        </inlinemediaobject>
                      </guiicon>
                    <phrase>Lock alpha channel</phrase>
                    </term>
                    <listitem>
                      <para>
                        This toggle button controls the <quote>Lock</quote>
                        setting for the transparency of the layer. If this is
                        enabled, the alpha channel for the layer is
                        locked, and no manipulation has any effect on it. In
                        particular, nothing that you do to a transparent part of
                        the layer will have any effect.
                      </para>
                    </listitem>
                  </varlistentry>
                </variablelist>
                <figure>
                  <title>Example for Locking Alpha Channel</title>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                        fileref="images/dialogs/examples/layer-lock-1.png"/>
                    </imageobject>
                    <caption>
                      <para>
                        The active layer has three horizontal, opaque, green
                        stripes on a transparent background. We paint a
                        vertical red stripe. <quote>Lock</quote> unchecked:
                        Opaque and transparent areas of the active layer are
                        painted with red.
                      </para>
                    </caption>
                  </mediaobject>
                  <mediaobject>
                    <imageobject>
                      <imagedata format="PNG"
                        fileref="images/dialogs/examples/layer-lock-2.png"/>
                    </imageobject>
                    <caption>
                      <para><quote>Lock</quote> checked: Only opaque
                        areas of the active layer are painted with red.
                        Transparent areas are preserved.
                      </para>
                    </caption>
                  </mediaobject>
                </figure>
                <tip>
                  <para>
                    If a layer name in the Layers dialog is in bold, then this
                    layer has no Alpha channel.
                  </para>
                </tip>
              </listitem>
            </varlistentry>
            <varlistentry id="gimp-layer-effects">
              <term>
                <guiicon>
                  <inlinemediaobject>
                    <imageobject>
                      <imagedata
                        fileref="images/stock-icons/gimp-effects.svg" contentwidth="16px"/>
                    </imageobject>
                  </inlinemediaobject>
                </guiicon>
                <phrase>Layer Effects</phrase>
              </term>
              <listitem>
                <para>
                  When this icon is visible, there are Layer Effects present
                  for this layer. Clicking it will open a dialog where you
                  will see a list of all effects added to this layer. For
                  each effect you can change the visibility, the order of the
                  effects, merge all effects with the layer, or remove them.
                </para>
                <para>
                  Layer Effects are filters that change the layer
                  non-destructively, that is, they can be added, removed or
                  changed without changing the layer itself. They instead
                  add effects on top of the layer.
                </para>
                <para>
                  A lot of the <acronym>GEGL</acronym> filters in the Colors
                  and Filters menu can be used this way. The layer effects
                  dialog consists of the following parts:
                </para>
                <variablelist>
                  <varlistentry>
                    <term>
                      Layer Effects List
                    </term>
                    <listitem>
                      <para>
                        At the top there is a list of all layer effects that
                        have been added to this layer. Note that the effects
                        are applied on top of the layer starting with the
                        effect at the bottom of the list.
                      </para>
                      <para>
                        To the left of each effect you can see an eye icon;
                        which can be clicked to hide or show that specific
                        effect. Next to that is the Filter effect icon.
                      </para>
                    </listitem>
                  </varlistentry>
                  <varlistentry>
                    <term>
                      Buttons
                    </term>
                    <listitem>
                      <para>
                        The button bar at the bottom offers the following
                        functionality:
                      </para>
                      <variablelist>
                        <varlistentry>
                          <term>
                            <guiicon>
                              <inlinemediaobject>
                                <imageobject>
                                  <imagedata
                                    fileref="images/stock-icons/gimp-visible.svg" contentwidth="16px"/>
                                </imageobject>
                              </inlinemediaobject>
                            </guiicon>
                          <phrase>Layer Effects Visibility</phrase>
                          </term>
                          <listitem>
                            <para>
                              This toggle button controls the <quote>visibility</quote>
                              setting for all the effects of the layer. By default
                              all effects are visible. Clicking this hides the
                              effects, allowing you to see the actual pixel
                              contents of the layer.
                            </para>
                          </listitem>
                        </varlistentry>
                        <varlistentry>
                          <term>
                            <guiicon>
                              <inlinemediaobject>
                                <imageobject>
                                  <imagedata
                                    fileref="images/stock-icons/gtk-edit.svg" contentwidth="16px"/>
                                </imageobject>
                              </inlinemediaobject>
                            </guiicon>
                          <phrase>Edit the selected filter</phrase>
                          </term>
                          <listitem>
                            <para>
                              This button allows you to open the dialog of the
                              selected layer effect to make changes to its
                              settings. Alternatively you can also double click
                              on the layer effect in the list to open the dialog.
                            </para>
                          </listitem>
                        </varlistentry>
                        <varlistentry>
                          <term>
                            <guiicon>
                              <inlinemediaobject>
                                <imageobject>
                                  <imagedata fileref="images/stock-icons/go-up.svg" contentwidth="16px"/>
                                </imageobject>
                              </inlinemediaobject>
                            </guiicon>
                          <phrase>Raise layer effect</phrase>
                          </term>
                          <listitem>
                            <para>
                              Here you can move the layer effect up in the list.
                            </para>
                          </listitem>
                        </varlistentry>
                        <varlistentry>
                          <term>
                            <guiicon>
                              <inlinemediaobject>
                                <imageobject>
                                  <imagedata fileref="images/stock-icons/go-down.svg" contentwidth="16px"/>
                                </imageobject>
                              </inlinemediaobject>
                            </guiicon>
                          <phrase>Lower layer effect</phrase>
                          </term>
                          <listitem>
                            <para>
                              Here you can move the layer effect down in the list.
                            </para>
                          </listitem>
                        </varlistentry>
                        <varlistentry>
                          <term>
                            <guiicon>
                              <inlinemediaobject>
                                <imageobject>
                                  <imagedata fileref="images/stock-icons/gimp-merge-down.svg" contentwidth="16px"/>
                                </imageobject>
                              </inlinemediaobject>
                            </guiicon>
                          <phrase>Merge all active filters</phrase>
                          </term>
                          <listitem>
                            <para>
                              This button lets you merge all active (visible)
                              layer effects with the contents of the layer. This
                              removes the layer effects from the layer after the
                              effects have been applied to the layer.
                            </para>
                          </listitem>
                        </varlistentry>
                        <varlistentry>
                          <term>
                            <guiicon>
                              <inlinemediaobject>
                                <imageobject>
                                  <imagedata fileref="images/stock-icons/edit-delete.svg" contentwidth="16px"/>
                                </imageobject>
                              </inlinemediaobject>
                            </guiicon>
                          <phrase>Remove the selected filter</phrase>
                          </term>
                          <listitem>
                            <para>
                              This button removes the selected layer effect.
                            </para>
                          </listitem>
                        </varlistentry>
                      </variablelist>
                    </listitem>
                  </varlistentry>
                </variablelist>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Layer thumbnail</term>
              <listitem>
                <para>
                  The layer content is represented by a thumbnail. Maintaining
                  left-click for a second on this thumbnail makes it larger.
                  The border color of the layer depends on whether the layer is
                  active or inactive.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>Layer name</term>
              <listitem>
                <para>
                  You can change the name of the layer by double-clicking on
                  it. You can also use the
                  <link linkend="gimp-layer-dialog-context-menu">Edit Layer Attributes</link>
                  dialog in the context menu that you get by right-clicking on
                  the layer.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
          <note>
            <para>
              When working on an animation, the name of the layer can be used
              to specify certain parameters. For more details see
              <link linkend="gimp-exporting-animations">exporting animations</link>.
            </para>
          </note>
        </listitem>
      </varlistentry>
      <varlistentry id="gimp-layer-characteristics">
        <term>Layers characteristics</term>
        <listitem>
          <para>
            Above the layer list, it is possible to specify some properties
            for the selected layers. The selected layers are highlighted.
            The properties are:
          </para>
          <variablelist>
            <varlistentry id="gimp-layer-dialog-paint-mode-menu">
              <term>Mode</term>
              <listitem id="gimp-layer-mode">
                <para>
                  The layer mode determines how the layer interacts with the
                  other layers. From the combo box you can access all the
                  modes provided by GIMP. The layer modes are fully detailed
                  in <xref linkend="gimp-concepts-layer-modes"/>.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry id="gimp-layer-dialog-opacity-scale">
              <term>Opacity</term>
              <listitem id="gimp-layer-opacity">
                <indexterm>
                  <primary>Transparency</primary>
                  <secondary>Layer opacity</secondary>
                </indexterm>
                <indexterm>
                  <primary>Opacity</primary>
                  <secondary>Layers dialog</secondary>
                </indexterm>
                <para>
                  By moving the slider you give more or less opacity to the
                  layer. With a 0 opacity value, the layer is transparent and
                  completely invisible. Don't confuse this with a Layer Mask,
                  which sets the transparency pixel by pixel.
                </para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Layer management</term>
        <listitem>
          <para>
            Under the layer list a set of buttons allows you to perform some
            basic operations on the layer list.
          </para>
          <variablelist>
            <varlistentry id="gimp-layer-dialog-new">
              <term>
                <guiicon>
                  <inlinemediaobject>
                    <imageobject>
                      <imagedata
                        fileref="images/stock-icons/document-new.svg" contentwidth="16px"/>
                    </imageobject>
                  </inlinemediaobject>
                </guiicon>
                <phrase>Create new layer</phrase>
              </term>
              <listitem>
                <para>
                  Here you can create a new layer. A dialog is opened, which
                  is described in
                    <link linkend="gimp-layer-new">New Layer</link>.
                </para>
                <para>
                  Press the <keycap>Shift</keycap> key to open a new layer with
                  last used values.
                </para>
              </listitem>
            </varlistentry>

            <varlistentry id="gimp-layer-new-group">
              <term>
                <guiicon>
                  <inlinemediaobject>
                    <imageobject>
                      <imagedata fileref="images/stock-icons/folder-new.svg" contentwidth="16px"/>
                    </imageobject>
                  </inlinemediaobject>
                </guiicon>
                <phrase>Create new layer group</phrase>
              </term>
              <listitem>
                <para>
                  Here you can create a new layer group. A new layer is
                  created, where you can put layers down.
                </para>
                <para>
                  Layer groups are described in
                  <link linkend="gimp-layer-groups">Layer groups</link>.
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>
                <guiicon>
                  <inlinemediaobject>
                    <imageobject>
                      <imagedata fileref="images/stock-icons/go-up.svg" contentwidth="16px"/>
                    </imageobject>
                  </inlinemediaobject>
                </guiicon>
                <phrase>Raise layer</phrase>
              </term>
              <listitem>
                <para>
                  Here you can move the layer up a level in the list. Press
                  the <keycap>Shift</keycap>
                  key to move the layer to the top of the list.
                </para>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>
                <guiicon>
                  <inlinemediaobject>
                    <imageobject>
                      <imagedata fileref="images/stock-icons/go-down.svg" contentwidth="16px"/>
                    </imageobject>
                  </inlinemediaobject>
                </guiicon>
                <phrase>Lower layer</phrase>
              </term>
              <listitem>
                <para>
                  Here you can move the layer down a level in the list. Press
                  the <keycap>Shift</keycap>
                  key to move the layer to the bottom of the list.
                </para>
                <tip>
                  <para>
                    To move a layer at the bottom of the list, it may first be
                    necessary to add a transparency channel (also called Alpha
                    channel) to the Background layer. To do this, right click
                    on the Background layer and select
                    <guilabel>Add Alpha channel</guilabel> from the menu.
                  </para>
                </tip>
              </listitem>
            </varlistentry>

            <varlistentry>
              <term>
                <guiicon>
                  <inlinemediaobject>
                    <imageobject>
                      <imagedata
                        fileref="images/stock-icons/gimp-duplicate.svg" contentwidth="16px"/>
                    </imageobject>
                  </inlinemediaobject>
                </guiicon>
                <phrase>Duplicate layers</phrase>
              </term>
              <listitem>
                <para>
                  Here you can create a copy of the selected layers. Name of new
                  layer is suffixed with "copy".
                </para>
              </listitem>
            </varlistentry>

            <varlistentry id="gimp-layers-merge">
              <term>
                <guiicon>
                  <inlinemediaobject>
                    <imageobject>
                      <imagedata
                        fileref="images/stock-icons/gimp-merge-down.svg" contentwidth="16px"/>
                    </imageobject>
                  </inlinemediaobject>
                </guiicon>
                <phrase>Merge layers</phrase>
                <guiicon>
                  <inlinemediaobject>
                    <imageobject>
                      <imagedata fileref="images/stock-icons/gimp-anchor.svg" contentwidth="16px"/>
                    </imageobject>
                  </inlinemediaobject>
                </guiicon>
                <phrase>Anchor layer</phrase>
              </term>
              <listitem>
                <para>
                  The <guibutton>Anchor layer</guibutton> button is only
                  visible when a floating selection is present. It anchors the
                  floating selection to the previous active layer.
                </para>
                <para>
                  When there is no floating selection, the
                  <guibutton>Merge layers</guibutton> icon
                  <guiicon>
                    <inlinemediaobject>
                      <imageobject>
                        <imagedata
                      fileref="images/stock-icons/gimp-merge-down.svg" contentwidth="16px"/>
                      </imageobject>
                    </inlinemediaobject>
                  </guiicon>
                  is shown, with several possibilities:
                  <itemizedlist>
                    <listitem>
                      <para>
                        Merge these layers with the first visible layer below it.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Pressing <keycap>Shift</keycap>: merge the layer group's
                        layers into one normal layer.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Pressing <keycap>Ctrl</keycap>: merge all visible layers
                        into one layer.
                      </para>
                    </listitem>
                    <listitem>
                      <para>
                        Pressing
                <keycombo><keycap>Shift</keycap><keycap>Ctrl</keycap></keycombo>:
                        merge all visible layers with last used values.
                      </para>
                    </listitem>
                  </itemizedlist>
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <guiicon>
                  <inlinemediaobject>
                    <imageobject>
                      <imagedata
                        fileref="images/stock-icons/gimp-layer-mask.svg" contentwidth="16px"/>
                    </imageobject>
                  </inlinemediaobject>
                </guiicon>
                <phrase>Add masks to layers</phrase>
              </term>
              <listitem>
                <!-- TODO FIXME Expand explanation of Add masks to layers -->
                <para>
                  Add masks to selected layers.
                </para>
              </listitem>
            </varlistentry>
            <varlistentry>
              <term>
                <guiicon>
                  <inlinemediaobject>
                    <imageobject>
                      <imagedata
                        fileref="images/stock-icons/edit-delete.svg" contentwidth="16px"/>
                    </imageobject>
                  </inlinemediaobject>
                </guiicon>
                <phrase>Delete layers</phrase>
              </term>
              <listitem>
                <para>Here you can delete the selected layers.</para>
              </listitem>
            </varlistentry>
          </variablelist>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>More layer functions</term>
        <listitem>
          <para>
            Other functions about <emphasis>layer size</emphasis> are
            available in the
            <link linkend="gimp-layer-dialog-context-menu">Layer context
            menu</link> you get by right clicking on the Layers dialog. You can
            find them also in the <guimenuitem>Layer</guimenuitem> submenu of
            the main menu.
          </para>
          <para>
            You will find <link linkend="gimp-image-merge-layers">
            <emphasis>merging layers functions</emphasis></link>
            in the Image main menu.
          </para>
        </listitem>
      </varlistentry>

      <varlistentry>
        <term>Clicking-and-dragging layers</term>
        <listitem>
          <para>
            Click and hold on layer thumbnail or layer name: the thumbnail
            enlarges and you can move it by dragging the mouse. Selecting
            and moving multiple layers is also possible.
          </para>
          <itemizedlist>
            <listitem>
              <para>
                So you can place this layer or layers
                <emphasis>somewhere else in the layer list</emphasis>.
              </para>
            </listitem>
            <listitem>
              <para>
                You can also
                <emphasis>drop the layer into the Toolbox</emphasis>:
                a new image is created that contains this layer only.
                This does not work with multiple selected layers.
              </para>
            </listitem>
            <listitem>
              <para>
                Finally, you can
                <emphasis>drop the layer into another image</emphasis>:
                this layer will be added to the layer list, above existing
                layers.
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <sect3 id="gimp-layer-dialog-context-menu">
    <title>The Layers dialog context menu</title>
      <para>
      By right-clicking in the Layers dialog, or by opening the
      <guimenuitem>Layers Menu</guimenuitem> from the tab menu, a context
      menu for the Layers dialog will open.
    </para>
    <para>
      Most of the commands in this menu have already been documented above,
      or elsewhere:
    </para>
    <variablelist>
      <varlistentry id="gimp-layer-edit">
        <term>Edit Layer Attributes…</term>
        <listitem>
          <para>
            Except for <guilabel>Width</guilabel>, <guilabel>Height</guilabel>,
            and <guilabel>Fill with</guilabel>, this dialog is the same as the
            <link linkend="gimp-new-layer-dialog">New Layer Dialog</link>.
            For information about the layer attributes we therefore refer to
            the documentation for that dialog.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Blend Space submenu</term>
        <listitem>
          <para>
            See <link linkend="gimp-layer-blend-space">Blend space</link> in the
            New Layer dialog.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Composite Space submenu</term>
        <listitem>
          <para>
            See <link linkend="gimp-layer-composite-space">Composite
            space</link> in the New Layer dialog.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Composite Mode submenu</term>
        <listitem>
          <para>
            See <link linkend="gimp-layer-composite-mode">Composite
            mode</link> in the New Layer dialog.
            </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Color Tags submenu</term>
        <listitem>
          <para>
            See the <link linkend="gimp-layer-color-tag">Color tag</link>
            documentation in the New Layer dialog.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>New Layer…</term>
        <term>New Layer Group</term>
        <term>Duplicate Layers</term>
        <term>Merge Down</term>
        <term>Anchor Layer</term>
        <term>Delete Layers</term>
        <listitem>
          <para>
            These commands are explained above, see layer characteristics.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>New from Visible</term>
        <listitem>
          <para>
            See the <link linkend="gimp-layer-new-from-visible">New from
            Visible</link> menu command documentation.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Layer Boundary Size…</term>
        <listitem>
          <para>
            See the <link linkend="gimp-layer-resize">Layer Boundary
            Size…</link> menu command documentation.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Layers to Image Size</term>
        <listitem>
          <para>
            See the <link linkend="gimp-layer-resize-to-image">Layers to Image
            Size</link> menu command documentation.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Scale Layer…</term>
        <listitem>
          <para>
            See the <link linkend="gimp-layer-scale">Scale Layer…</link> menu
            command documentation.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Add Layer Masks…</term>
        <term>Apply Layer Masks</term>
        <term>Delete Layer Masks</term>
        <term>Show Layer Masks</term>
        <term>Edit Layer Mask</term>
        <term>Disable Layer Masks</term>
        <term>Masks to Selection</term>
        <listitem>
          <para>
            See the <link linkend="gimp-layer-mask-menu">Layer Mask
            submenu</link> documentation for these commands.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Add Alpha Channel</term>
        <term>Remove Alpha Channel</term>
        <listitem>
          <para>
            Only one of these will be enabled. If the current layer does not
            have an alpha channel, you will be able to add one. If it does,
            you can remove the alpha channel.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Alpha to Selection</term>
        <listitem>
          <para>
            See the
            <link linkend="gimp-layer-alpha-selection-replace">Alpha to Selection</link>
            menu command documentation.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Merge Visible Layers</term>
        <listitem>
          <para>
            This command merges all visible layers into one layer.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Flatten Image</term>
        <listitem>
          <para>
            This command merges all layers into one layer and removes
            transparency.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </sect3>

  <xi:include href="layer-mask.xml"/>
</sect2>
