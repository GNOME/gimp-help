<?xml version='1.0' encoding='utf-8'?>

<sect1 id='gimp-layer-dialog'>
  <title lang="en">Layers dialog</title>
  <title lang="de"></title>
  <title lang="fr">Dialogue des calques</title>

  <indexterm lang="en">
    <primary>Dialog</primary>
    <secondary>Layer</secondary>
    <tertiary>Managing layers</tertiary>
  </indexterm>
  <indexterm lang="de">
    <primary></primary>
    <secondary></secondary>
    <tertiary></tertiary>
  </indexterm>
  <indexterm lang="fr">
    <primary>Dialogue</primary>
    <secondary>Calque</secondary>
    <tertiary>Gestion des calques</tertiary>
  </indexterm>

  <mediaobject lang="en">
    <imageobject>
      <imagedata fileref='../images/dialogs/dialogs-layer.png' format='png'/>
    </imageobject>
  </mediaobject>
  <mediaobject lang="de">
    <imageobject>
      <imagedata fileref='../images/dialogs/dialogs-layer.png' format='png'/>
    </imageobject>
  </mediaobject>
  <mediaobject lang="fr">
    <imageobject>
      <imagedata fileref='../images/dialogs/fr/dialogs-layer.png' format='png'/>
    </imageobject>
  </mediaobject>

  <para lang="en">
    The Layer dialog is the main interface to edit, modify and manage your layers.
    You can think of layers as a stack of slides or clothes on your body.
    Using layers, you can construct an image of several conceptual parts which can
    be manipulated without affecting any other part of the image. Layers are stacked
    on top of each other. The bottom layer is the background of the image and the
    components in the foreground of the image come above it.
  </para>
  <para lang="de">
  </para>
  <para lang="fr">
    Le dialogue des calques est l'endroit privilégié pour éditer,
    modifier et gérer vos calques. Vous pouvez vous représenter les
    calques comme une pile de feuilles transparentes qui composent votre image.
    En utilisant des calques, vous pouvez construire une image constituée de plusieurs 
    niveaux de conception, chacun pouvant être manipulé sans affecter les autres niveaux. 
    Les calques sont empilés les uns au dessus des autres. Le calque du bas constitue le 
    fond de l'image, puis viennent au-dessus les différents composants du premier plan.
  </para>

  <para lang="en">
    Representation of an image with layers:
  </para>
  <para lang="de">
  </para>
  <para lang="fr">
    Représentation d'une image avec les calques :
  </para>
  
  <para>  
    <imageobject>
      <imagedata fileref='../images/dialogs/layers_overview.png' format='png'/>
    </imageobject>
  </para>

  <para lang="en">
    The final image:
  </para>
  <para lang="de">
  </para>
  <para lang="fr">  
    Résultat visible :
  </para>

  <para>  
    <imageobject>
      <imagedata fileref='../images/dialogs/layers_example.png' format='png'/>
    </imageobject>  
  </para>
 
  <simplesect>
    <title lang="en">Dialog call</title>
    <title lang="de"></title>
    <title lang="fr">Lancement du dialogue</title>

    <para lang="en">
      The Layer dialog can be called in many ways :
      <itemizedlist>
        <listitem>      
          from the toolbox-menu:
          <accel>F</accel>ile/<accel>D</accel>ialog/<accel>L</accel>ayers
        </listitem>
        <listitem>
          from the image-menu:
          <accel>D</accel>ialog/<accel>L</accel>ayers
        </listitem>
        <listitem>
          from an other dialog-menu:
          <accel>A</accel>dd Tab/<accel>L</accel>ayers
        </listitem>
        <listitem>
          from the (default) shortcut :
          <keycap>Ctrl L</keycap>.
        </listitem>
      </itemizedlist>
    </para>
    <para lang="de">
      <itemizedlist>
        <listitem>      
        </listitem>
        <listitem>
        </listitem>
        <listitem>
        </listitem>
        <listitem>
        </listitem>
      </itemizedlist>    
    </para>
    <para lang="fr">
      Le dialogue des calques peut être appelé de plusieurs façons :
      <itemizedlist>
        <listitem>
          <para>
            depuis le menu de la boîte à outils :
            <accel>F</accel>ichier/<accel>D</accel>ialogues/<accel>C</accel>alques
          </para>
        </listitem>
        <listitem>
          <para>
            depuis le menu de la fenêtre d'image :
            <accel>D</accel>ialogues/<accel>C</accel>alques
          </para>
        </listitem>
        <listitem>
          <para>
            depuis le menu d'un autre dialogue :
            A<accel>j</accel>outer un onglet/<accel>C</accel>alques
          </para>
        </listitem>
        <listitem>
          <para>
            depuis le raccourci clavier par défaut :
            <keycap>Ctrl L</keycap>.
          </para>
        </listitem>
      </itemizedlist>
    </para>
  </simplesect> <!-- end Dialog call -->

  <simplesect>
    <variablelist>
      <title lang="en">Using</title>
      <title lang="de"></title>
      <title lang="fr">Usage</title>
      <varlistentry>
        <term lang="en">Overview</term>
        <term lang="de">Übersicht</term>
        <term lang="fr">Généralités</term>
        <listitem lang ="en">
          <para>
            Every layer appears in the dialog in form of a thumbnail. When an image has
            many layers as components then it appears like a list. The upper layer in
            the list is the first one visible and the lowest layer the last visible, the
            background. Above the list one can find characteristics related individually
            to each layer. Under the list one can find managements buttons for the layer
            list. A right-click in a layer thumbnail opens the layer menu (see Menu chapter).
          </para>
        </listitem>
        <listitem lang ="de">
        </listitem>
        <listitem lang ="fr">
          <para>
            Chaque calque apparait dans le dialogue sous la forme d'une vignette. Lorsqu'une
            image est constituée de plusieurs calques, ils apparaissent sous la forme
            d'une liste. Le calque le plus haut dans la liste est le premier visible et le
            plus bas est le dernier visible, l'arrière-plan. Au-dessus de la liste
            figure des caractéristiques associées individuellement à chaque calque. En bas 
            de la liste figure des boutons de gestions de la liste des calques. En 
            cliquant-droit sur la vignette d'un calque on fait apparaitre le menu des 
            calques (voir au chapitre Menu).
          </para>
        </listitem>
      </varlistentry> <!-- end Overview -->
      <varlistentry>
        <term lang="en">Layer attributs</term>
        <term lang="de"></term>
        <term lang="fr">Attributs d'un calque</term>
        <listitem lang ="en">
          <para>
            Every layer is shown in the list with its own attributs. The main attribut is
            the name of the layer itself, you can edit it by a double-click on the name
            or the thumbnail of the layer. In front of the thumbnail there is an icon 
            showing an eye
            <guiicon>
              <inlinegraphic fileref='../images/dialogs/dialogs-icon-eye.png'></inlinegraphic>
            </guiicon>
            by clicking on it you define whether the layer is visible or not. An other icon
            showing a chain
            <guiicon>
              <inlinegraphic fileref='../images/dialogs/dialogs-icon-vchain.png'></inlinegraphic>
            </guiicon>
            enables to group layers for operations on multiples layers (for example with
            the Move tool).
          </para>
          <tip>
            In case of an animation layer GIF or MNG the name of the layer can be used
            to specify some parameters : Layer_name (delay in ms) (combination mode), 
            for example Frame-1 (100 ms) (replace).
            The <guilabel>delay</guilabel> set the time during the layer is visible in
            the animation. The combination mode set if you combine with the previous layer
            or replace it : the two modes are (combine) or (replace).
          </tip> 
        </listitem>
        <listitem lang ="de">
        </listitem>
        <listitem lang ="fr">
          <para>
            Chaque calque apparait dans la liste accompagné de ses attributs. Le principal
            attribut est bien entendu le nom dudit calque, on peut facilement l'éditer
            en double-cliquant sur le nom ou la vignette du calque. Devant la vignette il y a
            une icone en forme d'oeil
            <guiicon>
              <inlinegraphic fileref='../images/dialogs/dialogs-icon-eye.png'></inlinegraphic>
            </guiicon>
            , en cliquant dessus on définit si le calque est visible ou non. Une autre
            icone en forme de chaîne
            <guiicon>
              <inlinegraphic fileref='../images/dialogs/dialogs-icon-vchain.png'></inlinegraphic>
            </guiicon>
            permet de grouper des calques pour effectuer une opération
            simultanément sur plusieurs calques (par exemple avec l'outil Déplacer).
          </para>
          <tip>
            Dans le cas d'un calque d'animation GIF ou MNG le nom du calque est utilisé
            pour spécifier certains paramètres : Nom_du_Calque (délai en ms) 
            (mode_de_combinaison), par exemple Frame_1 (100ms) (replace).
            Le <guilabel>délai</guilabel> détermine la durée pendant laquelle chaque 
            calque est visible dans l'animation. Le mode de combinaison spécifie si vous 
            voulez combiner avec le précédent calque ou le remplacer : les deux modes sont 
            (combine) ou (replace).
          </tip>
        </listitem>
      </varlistentry> <!-- end Attributs -->
      <varlistentry>
        <term lang="en">Layers characteristics</term>
        <term lang="de"></term>
        <term lang="fr">Caractéristiques des calques</term>
        <listitem lang ="en">
           <para>
            Above the layer list it's possible to specify some characteristics related
            to the activ layer. The activ layer is the one highlighted in blue. The
            characteristics are : Layer mode, Keep transparent and Opacity.
          </para>  
          <itemizedlist>
            <listitem>
              <para>
                <guilabel>Layer modes</guilabel>:
                The layer modes adjusts how the layer interact with the other layers.
                From the combo box you can access to all the mode provided by Gimp.
                The layer modes are full detailled in the
                <link linkend='glossary-layermodes'>Glossary</link>.
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Keep transparent</guilabel>:
                If you check this option the transparent areas of the layer will
                be keeped, this even if you have checked the 
                <guilabel>Fill transparent areas</guilabel> option for the Bucket
                fill tool.
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Opacity</guilabel>:
                By moving the slider you give less or more opacity to the layer. With
                a 0 opacity value the layer is transparent and full invisible.
                Don't mistake with the Layer mask (see chapter Layer mask) 
                that sets the transparency pixel by pixel.
              </para>
            </listitem>
          </itemizedlist>       
        </listitem>
        <listitem lang ="de">
        </listitem>
        <listitem lang ="fr">
          <para>
            Au dessus de la liste des calques il est possible de spécifier différentes
            caractéristiques associées au calque actif. Le calque actif est celui qui
            est surligné en bleu dans la liste. Ces caractéristiques sont :
            le Mode de fusion, Garder transparent et l'Opacité.
          </para>  
          <itemizedlist>
            <listitem>
              <para>
                <guilabel>Modes de fusion</guilabel> :
                Les modes de fusion définissent comment le calque interagit avec les autres
                calques. Vous pouvez accéder à l'ensemble des modes proposés
                par Gimp depuis le menu déroulant. Les Modes des calques sont décrits
                en détail dans le
                <link linkend='glossary-layermodes'>Glossaire</link>.
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Garder transparent</guilabel> :
                Avec cette option cochée les zones transparentes du calque seront
                conservées, ceci quand bien même vous auriez coché
                l'option <guilabel>Remplir les zones transparentes</guilabel> de l'outil
                Remplissage.
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Opacité</guilabel> :
                En agissant sur le curseur pour régler l'opacité vous rendez
                le calque plus ou moins opaque. Avec un valeur d'opacité de 0 vous
                obtenez un calque transparent totalement invisible. Attention à de ne
                pas confondre avec le Masque de calque (voir au chapitre Masque de calque)
                qui permet de gérer la transparence pixel par pixel.
              </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry> <!-- end Characterisitics -->

      <varlistentry>
        <term lang="en">Layer management</term>
        <term lang="de"></term>
        <term lang="fr">Gestion des calques</term>
        <listitem lang ="en">
          <para>
            Under the layer list a set of buttons allows you to perform some basis operations
            on the layer list.
          </para>  
          <itemizedlist>
             <listitem>
               <para>
                 <imageobject>
                   <imagedata fileref='../images/dialogs/dialogs-icon-edit.png' format='png'/>
                 </imageobject>                   
                 <guilabel>Edit layer attributs</guilabel>:
                 You can change here the name of the active layer in the list.
               </para>
             </listitem>
             <listitem>
               <para>
                 <imageobject>
                   <imagedata fileref='../images/dialogs/dialogs-icon-new.png' format='png'/>
                 </imageobject>                   
                 <guilabel>New layer</guilabel>:
                 You can create here a new layer. A dialog is opened where you have
                 to fill the <guilabel>Layer name</guilabel>, perhaps change default 
                 <guilabel>Height</guilabel> and <guilabel>Width</guilabel>
                 choose the
                 <guilabel>Layer fill type</guilabel> which will be the new layer background.
               </para>
             </listitem>
             <listitem>
               <para>
                 <imageobject>
                   <imagedata fileref='../images/dialogs/dialogs-icon-raise.png' format='png'/>
                 </imageobject>                   
                 <guilabel>Raise layer</guilabel>:
                 You can here put the layer up a level in the list. Press the
                 <keycap>Shift</keycap> key to move the layer to the top of
                 the list.
               </para>
             </listitem>
             <listitem>
               <para>
                 <imageobject>
                   <imagedata fileref='../images/dialogs/dialogs-icon-lower.png' format='png'/>
                 </imageobject>                   
                 <guilabel>Lower layer</guilabel>:
                 You can here put the layer down a level in the list. Press the
                 <keycap>Shift</keycap> key to move the layer to the bottom of
                 the list.
                 <tip>
                   To move a layer at the bottom of the list, first give a 
                   transparency channel to the Backgrpund layer (also called Alpha channel).
                   Right click on the Background layer and select 
                   <guilabel>Add Alpha channel</guilabel> in the menu.
                 </tip>
               </para>
             </listitem>
             <listitem>
               <para>
                 <imageobject>
                   <imagedata fileref='../images/dialogs/dialogs-icon-duplicate.png' format='png'/>
                 </imageobject>                   
                 <guilabel>Duplicate layer</guilabel>:
                 You can create here a copy of the active layer. Name of new
                 layer is suffixed with a number.
               </para>
             </listitem>
             <listitem>
               <para>
                 <imageobject>
                   <imagedata fileref='../images/dialogs/dialogs-icon-anchor.png' format='png'/>
                 </imageobject>                   
                 <guilabel>Anchor layer</guilabel>:
                 When the active layer is a temporary layer (also called floating
                 selection) shown by this icon
                 <guiicon>
                   <inlinegraphic fileref='../images/dialogs/dialogs-icon-floating.png'></inlinegraphic>
                 </guiicon>,
                 this button anchors it in the previous active layer.
               </para>
             </listitem>
             <listitem>
               <para>
                 <imageobject>
                   <imagedata fileref='../images/dialogs/dialogs-icon-delete.png' format='png'/>
                 </imageobject>                   
                 <guilabel>Delete layer</guilabel> :
                 You can here delete the active layer.
               </para>
             </listitem>
          </itemizedlist>
        </listitem>
        <listitem lang ="de">
        </listitem>
        <listitem lang ="fr">
          <para>
            En dessous de la liste des calques une série de boutons permet d'effectuer
            quelques opérations sur la liste des calques.
          </para>  
          <itemizedlist>
             <listitem>
               <para>
                 <imageobject>
                   <imagedata fileref='../images/dialogs/dialogs-icon-edit.png' format='png'/>
                 </imageobject>                   
                 <guilabel>Éditer les attributs</guilabel> :
                 Permet de changer le nom du calque actif dans la liste.
               </para>
             </listitem>
             <listitem>
               <para>
                 <imageobject>
                   <imagedata fileref='../images/dialogs/dialogs-icon-new.png' format='png'/>
                 </imageobject>                   
                 <guilabel>Nouveau calque</guilabel> :
                 Permet de créer un nouveau calque. Un dialoque vous est proposé,
                 vous devez indiquer le <guilabel>Nom du calque</guilabel>, 
                 éventuellement changer la <guilabel>Hauteur</guilabel> et la
                 <guilabel>Largeur</guilabel> qui sont mises par défaut à la
                 taille de l'image, et choisir le <guilabel>Type de remplissage</guilabel>
                 qui sera le départ pour le contenu du nouveau calque.  
               </para>
             </listitem>
             <listitem>
               <para>
                 <imageobject>
                   <imagedata fileref='../images/dialogs/dialogs-icon-raise.png' format='png'/>
                 </imageobject>                   
                 <guilabel>Monter le calque</guilabel> :
                 Permet de monter le calque actif d'un rang dans la liste. Appuyez
                 sur <keycap>Maj</keycap> pour monter le calque tout en haut de
                 la liste. 
               </para>
             </listitem>
             <listitem>
               <para>
                 <imageobject>
                   <imagedata fileref='../images/dialogs/dialogs-icon-lower.png' format='png'/>
                 </imageobject>                   
                 <guilabel>Descendre le calque</guilabel> :
                 Permet de descendre le calque actif d'un rang dans la liste. Appuyez
                 sur <keycap>Maj</keycap> pour descendre le calque tout en bas de
                 la liste. 
                 <tip>
                   Pour descendre un calque tout en bas de la liste, il faut doter 
                   le calque d'Arrière-plan d'un canal de transparence (dit canal Alpha).
                   Cliquez-droit sur le calque d'Arrière-plan et choisissez
                   <guilabel>Ajouter un canal alpha</guilabel> dans le menu.
                 </tip>
               </para>
             </listitem>
             <listitem>
               <para>
                 <imageobject>
                   <imagedata fileref='../images/dialogs/dialogs-icon-duplicate.png' format='png'/>
                 </imageobject>                   
                 <guilabel>Dupliquer le calque</guilabel> :
                 Permet de créer une copie du calque actif. Le nom du nouveau
                 calque est suffixé par un chiffre.
               </para>
             </listitem>
             <listitem>
               <para>
                 <imageobject>
                   <imagedata fileref='../images/dialogs/dialogs-icon-anchor.png' format='png'/>
                 </imageobject>                   
                 <guilabel>Ancrer le calque</guilabel> :
                 Lorsque le calque actif est un calque temporaire (aussi appelé une 
                 sélection flottante) signalé par l'icone 
                 <guiicon>
                   <inlinegraphic fileref='../images/dialogs/dialogs-icon-floating.png'></inlinegraphic>
                 </guiicon>,
                 ce bouton permet de l'ancrer dans le calque précédemment actif.
               </para>
             </listitem>
             <listitem>
               <para>
                 <imageobject>
                   <imagedata fileref='../images/dialogs/dialogs-icon-delete.png' format='png'/>
                 </imageobject>                   
                 <guilabel>Supprimer le calque</guilabel> :
                 Permet de supprimer le calque actif.
               </para>
             </listitem>
          </itemizedlist>
        </listitem>
      </varlistentry>  <!-- end Managing -->

    </variablelist>
  </simplesect> <!-- end Using -->
    
  <simplesect>
    <variablelist>
      <title lang="en">Menu</title>
      <title lang="de"></title>
      <title lang="fr">Menu</title>
      
      <mediaobject lang="en">
        <imageobject>
          <imagedata fileref='../images/dialogs/dialogs-layer-menu.png' format='png'/>
        </imageobject>
      </mediaobject>
      <mediaobject lang="de">
        <imageobject>
          <imagedata fileref='../images/dialogs/dialogs-layer-menu.png' format='png'/>
        </imageobject>
      </mediaobject>
      <mediaobject lang="fr">
        <imageobject>
          <imagedata fileref='../images/dialogs/fr/dialogs-layer-menu.png' format='png'/>
        </imageobject>
      </mediaobject>
     
      <varlistentry>
        <listitem lang ="en">
          <para>
            You can get the layer context menu by right clicking on  
            layer thumbnail. This menu gives a lot of actions already
            available through dialog buttons : resizing layer, managing
            layer transparency and also merge functions for layers.
          </para>
          <para>
            <itemizedlist>
              <listitem>
                <para>
                  <guilabel>Edit layers attributes</guilabel>:
                  you can change here the name of the layer.
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>New layer</guilabel>:
                  you can create here a new layer (see Layer management).
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Raise layer</guilabel>:
                  you can put here the layer up a level in the list (see Layer 
                  management).
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Layer to top</guilabel>:
                  you can move here the layer to top of the list (see Layer 
                  management).
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Lower layer</guilabel>:
                  you can put here the layer down a level in the list (see Layer 
                  management). 
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Layer to bottom</guilabel>:
                  you can move here the layer to bottom of the list (see Layer 
                  management).
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Duplicate layer</guilabel>:
                  you can create here a copy of the layer (see Layer management).
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Anchor layer</guilabel>:
                  you can anchor here un temporary layer (a floating selection)
                  in the previous active layer (see Layer management).
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Merge down</guilabel>:
                  the layer is merged with the layer juste below in the list.
                  It's removed and the new active layer is the lowest one in
                  the list.
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Delete layer</guilabel>:
                  you can delete here the active layer.
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Layer boundary size</guilabel>:
                  A layer has not always the same size as image canvas.
                  It can be smaller then you use less memory or bigger then some 
                  some parts are hidden.
                  A dialog appears where you can set some parameters for the 
                  layer size. Those parameters are <guilabel>Width</guilabel> and
                  <guilabel>Height</guilabel> or also <guilabel>Ratio X Y</guilabel>.
                  The layer ratio is retained if the icon behind ratio values
                  is a chain. When you click on this icon the chain is broken
                  and the original ratio is no longer retained. You can use a menu to
                  select the units for the new layer boundary size.
                  <guilabel>Offset</guilabel> locate the upper left corner of the layer
                  in the image's canvas. You can change the X and Y offsets by dragging
                  the mouse in the interactive image in the dialog. The old layer size
                  is designed with a blurred border and the new layer size with a hard
                  border. Adjust the last pixels with the arrow-head buttons or 
                  indicate them manually.
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Layer to image size</guilabel>:
                  you can change here the layer boundary to fit the canvas
                  boundary.
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Scale layer</guilabel>:
                  you can resize here the layer and its content.
                  A dialog appears where you can set some parameters for the 
                  layer size. Those parameters are <guilabel>Width</guilabel> and
                  <guilabel>Height</guilabel> or also <guilabel>Ratio X Y</guilabel>.
                  The layer ratio is retained if the icon behind the ratio values
                  is a chain. When you click on this icon the chain is broken
                  and the original ratio is no longer retained. You can use a menu to
                  select the units for the new layer boundary size.
                  The <guilabel>Interpolation</guilabel> menu let you choose how the
                  new layer pixels will be recalculated. When you resize the layer content
                  either pixels are added or are removed and a recalculation is necessary. 
                  When the new size is smaller the layer is cutted. When the
                  new size is bigger a transparent area (or the background color if
                  the layer has no Alpha channel) is added around the previous content of
                  the layer.
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Add layer mask</guilabel>:
                  you can add here un transparency mask to the layer. See the chapter
                  Layer mask for more informations.
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Apply layer mask</guilabel>:
                  you can merge here the mask with its layer. The transparency 
                  set by the mask is definitively applied to the layer Alpha
                  channel. The mask is removed.
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Delete layer mask</guilabel>:
                  you can delete here the mask without modifying the layer
                  it is attached to.
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Masque vers sélection</guilabel>:
                  you can transform here the layer mask to selection. The 
                  white areas are selected and the black areas are not.
                  Graytone areas will result in feathered ones in selection
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Add Alpha channel</guilabel>:
                  you can add here to the layer the ability to have transparency.
                  Without Alpha channel a layer can not have transparency or layer
                  mask.
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Alpha to selection</guilabel>:
                  you can transform here the Alpha channel in selection. The 
                  transparent areas are selected when the opaque areas are not.
                  The middle-transparent areas will result in feathered ones in selection
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Merge visible layers</guilabel>:
                  You can merge here the visible layers, those who have an eye-icon
                  in the list.
                  A dialog appears. The <guilabel>Expand as necessary</guilabel>
                  option keeps the pixels for layers with size bigger than the
                  canvas.
                  The <guilabel>Clipped to image</guilabel> option resizes the final
                  layer size egual to the image canvas size.
                  The <guilabel>Clipped to bottom layer</guilabel> option keeps only
                  the pixels in the boundary of the lowest layer in the list.
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Flatten image</guilabel>:
                  you can merge here all the layers into one single layer.
                </para>  
              </listitem>          
            </itemizedlist>
          </para>
        </listitem>
        <listitem lang ="de">
        </listitem>
        <listitem lang ="fr">
          <para>
            Le menu contextuel des calques est accessible via un clic-droit sur
            la vignette d'un calque. Ce menu offre une bonne partie des actions
            déjà accessibles par les boutons du dialogue, des possibilités de
            redimensionnement du calque, une gestion de la transparence et aussi
            de fusion de l'ensemble des calques.
          </para>
          <para>
            <itemizedlist>
              <listitem>
                <para>
                  <guilabel>Éditer les attributs du calque</guilabel> :
                  permet de changer le nom du calque.
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Nouveau calque</guilabel> :
                  permet de créer un nouveau calque (voir Gestion des calques).
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Remonter le calque</guilabel> :
                  permet de monter le calque d'un rang dans la liste (voir Gestion 
                  des calques).
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Calque tout en haut</guilabel> :
                  permet de monter le calque au sommet de la liste (voir Gestion 
                  des calques).
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Descendre le calque</guilabel> :
                  permet de descendre le calque d'un rang dans la liste (voir Gestion 
                  des calques).
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Calque tout en bas</guilabel> :
                  permet de descendre le calque en bas de la liste (voir Gestion 
                  des calques).
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Dupliquer le calque</guilabel> :
                  permet de copier le calque  (voir Gestion des calques).
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Ancrer le calque</guilabel> :
                  permet de d'ancrer un calque temporaire (une sélection flottante)
                  dans le calque précédemment actif (voir Gestion des calques).
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Fusionner vers le bas</guilabel> :
                  le calque est fusionné avec le calque situé juste en-dessous
                  dans la liste. Il est supprimé et le nouveau calque actif
                  est celui qui est le plus bas dans la liste.
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Supprimer le calque</guilabel> :
                  permet de supprimer le calque.
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Taille des bords du calque</guilabel> :
                  Rappellons qu'un calque n'a pas forcément la même taille que le 
                  canevas de l'image. Il peut être plus petit ce qui économise de la 
                  mémoire ou plus grand mais dans ce dernier cas il ne sera pas 
                  entièrement visible.
                  Un dialogue s'ouvre, il permet de fixer quelques paramètres pour
                  la taille du calque. On peut indiquer la <guilabel>Largeur</guilabel>
                  et la <guilabel>Hauteur</guilabel> ou bien encore un 
                  <guilabel>Facteur d'échelle</guilabel>. Le ratio du calque est conservé
                  tant que l'icone derrière le facteur d'échelle représente une chaine.
                  Il suffit de cliquer sur l'icone pour arrêter de conserver le ratio,
                  l'icone se transforme alors en une chaine brisée. Le menu déroulant 
                  permet de choisir l'unité utilisée pour mesurer les nouveaux bords 
                  du calque.
                  Le <guilabel>Décalage</guilabel> permet de positionner les coin
                  supérieur gauche du calque par rapport au canevas de l'image. On peut
                  ajuster les décalages X et Y en utilisant la souris dans l'image interactive
                  proposée par le dialogue. L'ancienne taille du calque est représentée 
                  par un rectangle à bords ombrés alors que la nouvelle taille du calque 
                  est représentée par un rectangle à bords durs. Faites les derniers 
                  ajustements grâce aux boutons indiquant une flêche ou bien entrez-les 
                  manuellement.
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Calque aux dimensions de l'image</guilabel> :
                  permet de ramener les contours du calque à la même position que
                  le canevas de l'image.
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Étirer le calque</guilabel> :
                  permet de redimensionner le calque et son contenu. 
                  Un dialogue s'ouvre, il permet de fixer quelques paramètres pour
                  la taille du calque. On peut indiquer la <guilabel>Largeur</guilabel>
                  et la <guilabel>Hauteur</guilabel> ou bien encore un 
                  <guilabel>Facteur d'échelle</guilabel>. Le ratio du calque est conservé
                  tant que l'icone derrière le facteur d'échelle représente une chaine.
                  Il suffit de cliquer sur l'icone pour arrêter de conserver le ratio,
                  l'icone se transforme alors en une chaine brisée. Le menu déroulant 
                  permet de choisir l'unité utilisée pour mesurer la nouvelle taille 
                  du calque et de son contenu.
                  Le menu <guilabel>Type d'interpolation</guilabel> permet de choisir
                  comment les nouveaux pixels du calque seront recalculés, en effet
                  lorsqu'on redimensionne le contenu d'un calque soit des pixels sont
                  ajoutés, soit des pixels sont enlevés et il faut les recalculer.
                  Lors d'un rétrécissement le calque sera rogné. Lors d'un agrandissement 
                  une zone transparente (ou la couleur d'arrière-plan si le calque n'a
                  pas de canal Alpha) sera ajoutée autour du contenu précédent du calque, 
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Ajouter un masque de calque</guilabel> :
                  permet d'ajouter un masque de transparence au calque. Voir au
                  chapitre Masque de calque pour plus de détails.
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Appliquer le masque de calque</guilabel> :
                  permet de fusionner le masque avec son calque. La transparence
                  définie par le masque est définitivement appliquée au canal
                  Alpha du calque. Le masque disparait.
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Effacer le masque de calque</guilabel> :
                  permet d'effacer le masque sans modifier le calque auquel il est
                  associé.
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Masque vers sélection</guilabel> :
                  permet de transformer un masque de calque en sélection. Les zones
                  blanches sont sélectionnées alors que les zones noires ne le sont
                  pas. Les zones en tons de gris constituent l'équivalent d'un
                  adoucissement de la sélection.
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Ajouter un canal Alpha</guilabel> :
                  permet de doter un calque de la capacité à recevoir de la transparence.
                  Sans canal Alpha un calque ne peut pas avoir de transparence ni de masque
                  de calque.
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Alpha vers sélection</guilabel> :
                  permet de transformer le canal Alpha du calque en sélection. Les zones
                  transparents sont sélectionnées alors que les zones opaques ne le sont
                  pas. Les zones semi-transparentes constituent l'équivalent d'un
                  adoucissement de la sélection.
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Fusionner les calques visibles</guilabel> :
                  permet de fusionner les calques visibles, ceux qui sont marqués
                  par l'icone en forme d'oeil.
                  Un dialogue s'ouvre. L'option <guilabel>Étendu autant que nécessaire</guilabel>
                  permet de conserver des données dans des calques de
                  taille supérieures à celle du canevas. L'option <guilabel>Rogné à
                  la taille de l'image</guilabel> permet de retailler la taille du
                  calque final à celle du canevas l'image, l'option <guilabel>Rogné à la
                  taille du calque le plus bas</guilabel> permet de ne conserver que
                  les données contenues dans les limites du calque le plus bas. 
                </para>  
              </listitem>
              <listitem>
                <para>
                  <guilabel>Aplatir l'image</guilabel> :
                  permet de fusionner l'ensemble des calques dans un calque unique.
                </para>  
              </listitem>          
            </itemizedlist>
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
  </simplesect> <!-- end Menu -->

  <simplesect>
    <para lang="en">
      Continue to <link linkend="dialogs-layer-masks">Layer masks</link>
    </para>
    <para lang="fr">
      Continuer par <link linkend="dialogs-layer-masks">Les masques de calque</link>
    </para>
  </simplesect>

  <!--page separation-->

  <sect2 id="gimp-layer-mask">
    <title lang="en">Layer masks</title>
    <title lang="de" />
    <title lang="fr">Masques de calque</title>    
    <variablelist>
      <varlistentry>
        <listitem lang ="en">
          <para>
            A transparency mask can be added to each layer, it's called Layer mask.
            A layer mask has the same size and same pixel number as the layer
            to which it is attached. Every pixel of the mask can then be coupled
            with a pixel at the same location in the layer. The mask is a set of
            pixels in graytone on a value scale from 0 to 255. The pixels with a value
            0 are black and give a full transparency to the coupled pixel in the layer.
            The pixels with a value 255 are white and give a full opacity to the
            coupled pixel in the layer.
          </para>
          <para>
            To create a layer mask start with a right click on the layer to call
            the context menu and select
            <guilabel>Add layer mask</guilabel> in the menu. If the menu item is
            grayed first select <guilabel>Add Alpha channel</guilabel> in the same menu.
            A dialog appears where you can initialize the content of the mask:
            <itemizedlist>
              <listitem>
                <para><guilabel>White</guilabel>: the mask has no effect,
                all layer pixels are full visible.
                </para>
              </listitem>
              <listitem>
                <para><guilabel>Black</guilabel>: the mask gives a full transparency
                to the layer which becomes invisible.
                </para>
              </listitem>
              <listitem>
                <para><guilabel>Layer's Alpha channel</guilabel>: the mask is 
                initialized according to the content of layer Alpha channel. 
                If the layer still contains transparency it's copied in the mask.
                </para>
              </listitem>
              <listitem>
                <para><guilabel>Selection</guilabel> : the mask is initialized
                according to pixel values found in the selection.
                </para>
              </listitem>
              <listitem>
                <para><guilabel>Grayscale copy of layer</guilabel>: the mask is
                initialized according to pixel values of the layer.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            When the mask is created it appears as a thumbnail right to the
            layer thumbnail. By clicking alternatively on the layer and
            mask thumbnail you can enable one or other. The active item is
            highlighted by a white border (which is not well visible around
            a white mask). To view mask content instead of its
            effect in image window, press <keycap>Ctrl Alt</keycap> and
            then on mask thumbnail. To return to normal view redo
            last operation.
          </para>
          <caution>
            The layer mask acts like a transparency mask on a particular layer.
            Since you have many layers it becomes different from the image 
            Alpha channel which represents transparency applied to the whole
            image.
          </caution>
        </listitem>
        <listitem lang ="de">
        </listitem>
        <listitem lang="fr">
          <para>
            Chaque calque peut être doté d'un masque de transparence, appelé masque
            de calque. Un masque de calque à la même taille et le même nombre de 
            pixels que le calque auquel il est associé, chaque pixel du masque peut
            donc être associé à un pixel situé à la même position dans le calque.
            Le masque est composé uniquement de pixels en tons de gris qui s'étalent
            sur une échelle de valeur de 0 à 255. Les pixels à O sont noirs et ils 
            donnent une transparence totale au pixel associé dans le calque. Les
            pixels à 255 sont blanc et ils donnent une opacité totale au pixel
            associé dans le calque.
          </para>
          <para>
            Pour créer un masque, commencez par cliquer-droit sur un calque pour
            faire apparaitre le menu contextuel et choisissez 
            <guilabel>Ajouter un masque de calque</guilabel> dans le menu. Si
            l'entrée du menu est grisée il faut commencer par choisir
            <guilabel>Ajouter un canal Alpha</guilabel> dans ce même menu.
            Un dialogue apparait, il permet d'initialiser le contenu du masque :
            <itemizedlist>
              <listitem>
                <para><guilabel>Blanc</guilabel> : le masque n'a aucun effet,
                tous les pixels du calque sont pleinenent visibles.
                </para>
              </listitem>
              <listitem>
                <para><guilabel>Noir</guilabel> : le masque donne une transparence
                totale au calque qui devient invisible.
                </para>
              </listitem>
              <listitem>
                <para><guilabel>Canal Alpha</guilabel> : le masque est initialisé
                en fonction du contenu du canal Alpha du calque. 
                Si le calque contient déjà de la transparence, elle est recopiée dans
                le masque.
                </para>
              </listitem>
              <listitem>
                <para><guilabel>Sélection</guilabel> : le masque est initialisé
                en fonction de la valeur des pixels contenus dans la sélection.
                </para>
              </listitem>
              <listitem>
                <para><guilabel>Copie du calque en niveau de gris</guilabel>
                : le masque est initialisé en fonction de la valeur des pixels 
                contenus dans le calque.
                </para>
              </listitem>
            </itemizedlist>
          </para>
          <para>
            Une fois que le masque est créé il est représenté par une vignette
            à droite de la vignette du calque. En cliquant alternativement
            sur la vignette du calque puis du masque vous rendez actif soit
            l'un, soit l'autre. L'élément actif est indiqué par un contour
            blanc (qui ne se voit pas franchement autour d'un calque ou d'un
            masque remplit de blanc). Pour afficher le contenu du masque
            plutôt que son effet dans la fenêtre d'image appuyez sur
            <keycap>Ctrl Alt</keycap> puis sur la vignette du masque.
            Pour revenir à la vision normale, recommencez l'opération
            précédente.
          </para>
          <caution>
            Le masque de calque agit comme un masque de transparence
            sur un calque particulier. Dès lors que vous avez plusieurs
            calques, il devient différent du canal Alpha de l'image qui 
            représente la transparence appliquée sur l'ensemble de l'image.
          </caution>
        </listitem>  
      </varlistentry>
    </variablelist>
  </sect2>

</sect1>

