<?xml version='1.0' encoding='utf-8'?>

<sect2 id="gimp-layer-mask">
  <title lang="en">Layer masks</title>
  <title lang="de" />
  <title lang="fr">Masques de calque</title>    
  <variablelist>
    <varlistentry>
      <listitem lang ="en">
        <para>
          A transparency mask can be added to each layer, it's called Layer
          mask.  A layer mask has the same size and same pixel number as
          the layer to which it is attached. Every pixel of the mask can
          then be coupled with a pixel at the same location in the layer.
          The mask is a set of pixels in graytone on a value scale from 0
          to 255. The pixels with a value 0 are black and give a full
          transparency to the coupled pixel in the layer.  The pixels with
          a value 255 are white and give a full opacity to the coupled
          pixel in the layer.
        </para>
        <para>
          To create a layer mask start with a right click on the layer to
          call the context menu and select <guilabel>Add layer
            mask</guilabel> in the menu. If the menu item is grayed first
          select <guilabel>Add Alpha channel</guilabel> in the same menu.
          A dialog appears where you can initialize the content of the
          mask:
          <itemizedlist>
            <listitem>
              <para>
                <guilabel>White</guilabel>: the mask has no effect,
                all layer pixels are full visible.
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Black</guilabel>: the mask gives a full
                transparency
                to the layer which becomes invisible.
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Layer's Alpha channel</guilabel>: the mask is
                initialized according to the content of layer Alpha
                channel. 
                If the layer still contains transparency it's copied in
                the mask.
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Selection</guilabel> : the mask isinitialized
                according to pixel values found in the selection.
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Grayscale copy of layer</guilabel>: the mask
                is
                initialized according to pixel values of the layer.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          When the mask is created it appears as a thumbnail right to the
          layer thumbnail. By clicking alternatively on the layer and mask
          thumbnail you can enable one or other. The active itemis
          highlighted by a white border (which is not well visible around a
          white mask). To view mask content instead of its effect in image
          window, press <keycap>Ctrl Alt</keycap> and then on mask
          thumbnail. To return to normal view redo last operation.
        </para>
        <caution>
          The layer mask acts like a transparency mask on a particular
          layer.  Since you have many layers it becomes different from the
          image Alpha channel which represents transparency applied to the
          whole image.
        </caution>
      </listitem>
      <listitem lang ="de">
      </listitem>
      <listitem lang="fr">
        <para>
          Chaque calque peut être doté d'un masque de transparence, appelé
          masque de calque. Un masque de calque à la même taille et le même
          nombre de pixels que le calque auquel il est associé, chaque
          pixel du masque peut donc être associé à un pixel situé à la même
          position dans le calque.  Le masque est composé uniquement de
          pixels en tons de gris qui s'étalent sur une échelle de valeur de
          0 à 255. Les pixels à O sont noirs et ils donnent une
          transparence totale au pixel associé dans le calque. Les pixels à
          255 sont blanc et ils donnent une opacité totale au pixel associé
          dans le calque.
        </para>
        <para>
          Pour créer un masque, commencez par cliquer-droit sur un calque
          pour faire apparaitre le menu contextuel et choisissez
          <guilabel>Ajouter un masque de calque</guilabel> dans le menu. Si
          l'entrée du menu est grisée il faut commencer par choisir
          <guilabel>Ajouter un canal Alpha</guilabel> dans ce même menu.
          Un dialogue apparait, il permet d'initialiser le contenu du
          masque :
          <itemizedlist>
            <listitem>
              <para>
                <guilabel>Blanc</guilabel> : le masque n'a aucun effet,
                tous les pixels du calque sont pleinenent visibles.
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Noir</guilabel> : le masque donne une
                transparence
                totale au calque qui devient invisible.
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Canal Alpha</guilabel> : le masque est
                initialisé
                en fonction du contenu du canal Alpha du calque. 
                Si le calque contient déjà de la transparence, elle
                est recopiée dans
                le masque.
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Sélection</guilabel> : le masque est
                initialisé
                en fonction de la valeur des pixels contenus dans la
                sélection.
              </para>
            </listitem>
            <listitem>
              <para>
                <guilabel>Copie du calque en niveau de gris</guilabel>
                : le masque est initialisé en fonction de la valeur
                des pixels 
                contenus dans le calque.
              </para>
            </listitem>
          </itemizedlist>
        </para>
        <para>
          Une fois que le masque est créé il est représenté par une
          vignette à droite de la vignette du calque. En cliquant
          alternativement sur la vignette du calque puis du masque vous
          rendez actif soit l'un, soit l'autre. L'élément actif est indiqué
          par un contour blanc (qui ne se voit pas franchement autour d'un
          calque ou d'un masque remplit de blanc). Pour afficher le contenu
          du masque plutôt que son effet dans la fenêtre d'image appuyez
          sur <keycap>Ctrl Alt</keycap> puis sur la vignette du masque.
          Pour revenir à la vision normale, recommencez l'opération
          précédente.
        </para>
        <caution>
          Le masque de calque agit comme un masque de transparence
          sur un calque particulier. Dès lors que vous avez plusieurs
          calques, il devient différent du canal Alpha de l'image qui 
          représente la transparence appliquée sur l'ensemble de
          l'image.
        </caution>
      </listitem>
       
    </varlistentry>
  </variablelist>
</sect2>

