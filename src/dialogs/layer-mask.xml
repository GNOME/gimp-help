<?xml version='1.0' encoding='utf-8'?>

<!DOCTYPE sect3
  PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN"
  "http://www.docbook.org/xml/4.3/docbookx.dtd">

<!-- section history:
  2006-03-09 lexa: reviewed and made docbook compliant
-->
<sect3 id="gimp-layer-mask" lang="cs;de;en;fr;it;zh_CN">

  <sect3info lang="en;de;fr" role="cvs">
    <revhistory>
      <revision lang="en">
        <revnumber>$Revision$</revnumber>
        <date lang="en">2006-03-09</date>
        <authorinitials lang="en">lexa</authorinitials>
      </revision>
      <revision lang="de">
        <revnumber>$Revision$</revnumber>
        <date lang="de">2006-03-09</date>
        <authorinitials lang="de">lexa</authorinitials>
      </revision>
      <revision lang="fr">
        <revnumber>$Revision$</revnumber>
        <date lang="fr">2006-03-10</date>
        <authorinitials lang="fr">j.h</authorinitials>
      </revision>
    </revhistory>
  </sect3info>

  <title>
    <phrase lang="en">Layer masks</phrase>
    <phrase lang="cs">Masky vrstev</phrase>
    <phrase lang="de">Ebenenmaske</phrase>
    <phrase lang="fr">Masques de calque</phrase>
    <phrase lang="it">Maschere di livello</phrase>
    <phrase lang="zh_CN">图层蒙板</phrase>
  </title>

  <indexterm lang="en">
    <primary>Layer mask</primary>
  </indexterm>
  <indexterm lang="en">
    <primary>Mask</primary>
    <secondary>Layer mask</secondary>
  </indexterm>

  <indexterm lang="cs">
    <primary>Masky vrstev</primary>
  </indexterm>
  <indexterm lang="de">
    <primary>Ebenenmaske</primary>
  </indexterm>
  <indexterm lang="fr">
    <primary>Masque de calque</primary>
  </indexterm>
  <indexterm lang="fr">
    <primary>Masque</primary>
    <secondary>Masque de calque</secondary>
  </indexterm>

  <indexterm lang="it">
    <primary>Maschere di livello</primary>
  </indexterm>
  <indexterm lang="zh_CN">
    <primary>图层蒙板</primary>
  </indexterm>

  <figure>
    <title>
      <phrase lang="en;cs;it;zh_CN">Dialog add mask</phrase>
      <phrase lang="de">Dialogfenster <quote>Maske hinzufügen</quote></phrase>
      <phrase lang="fr">La fenêtre de dialogue Ajouter un Masque de 
        Calque</phrase>
    </title>

    <mediaobject>
      <imageobject lang="en">
        <imagedata fileref='../images/dialogs/dialogs-layer-addmask.png'
          format="PNG" />
      </imageobject>
      <imageobject lang="cs">
        <imagedata fileref='../images/dialogs/dialogs-layer-addmask.png'
          format="PNG" />
      </imageobject>
      <imageobject lang="de">
        <imagedata fileref='../images/dialogs/de/dialogs-layer-addmask.png'
          format="PNG" />
      </imageobject>
      <imageobject lang="fr">
        <imagedata fileref='../images/dialogs/fr/dialogs-layer-addmask.png'
          format="PNG" />
      </imageobject>
      <imageobject lang="it">
        <imagedata fileref='../images/dialogs/it/dialogs-layer-addmask.png'
          format="PNG" />
      </imageobject>
      <imageobject lang="zh_CN">
        <imagedata fileref='../images/dialogs/zh_CN/dialogs-layer-addmask.png'
          format="PNG" />
      </imageobject>
    </mediaobject>
  </figure>

  <variablelist>
    <varlistentry>
      <term lang='en'>Overview</term>
      <term lang='cs'>Přehled</term>
      <term lang='de'>Allgemeines</term>
      <term lang='fr'>Généralités</term>
      <term lang='it'>Panoramica</term>
      <term lang="zh_CN">概述</term>

      <listitem>
        <para lang="en">
          A transparency mask can be added to each layer, it's called Layer
          mask. A layer mask has the same size and same pixel number as the
          layer to which it is attached. Every pixel of the mask can then be
          coupled with a pixel at the same location in the layer. The mask is
          a set of pixels in gray-tone on a value scale from 0 to 255. The
          pixels with a value 0 are black and give a full transparency to the
          coupled pixel in the layer. The pixels with a value 255 are white
          and give a full opacity to the coupled pixel in the layer.
        </para>
        <para lang="en">
          To create a layer mask start with a right click on the layer to call
          the context menu and select <guilabel>Add layer mask</guilabel>
          in the menu. If the menu item is grayed first select
          <guilabel>Add Alpha channel</guilabel> in the same menu. A dialog
          appears where you can initialize the content of the mask:
        </para>
        
        <para lang="cs">
          Maska průhlednosti lze přidak ke každé vrstvě. Nazývá se maska
          vrstvy. Maska vrstvy má stejné rozměry a obsahuje stejný počet
          pixelů jako vrstva, ke které patří. Každý pixel masky tak lze
          přiřadit pixelu vrstvy na stejné pozici. Maska sestává z pixelů ve
          škále šedi, s hodnotami v rozmezí 0 až 255. Pixely s nulovou
          hodnotou se zobrazují černě a spřažený pixel činí zcela průhledným.
          Pixely s hodnotou 255 se zobrazují bíle a jejich spřažený pixel je
          neprůhledný (respektive jeho průhlednost je dána pouze jeho vlastním
          alfa kanálem).<!--fix-in-en-->
        </para>
        <para lang="cs">
          Masku vrstvy lze vytvořit kliknutím pravým tlačítkem myši na vrstvu
          v dialogu Vrstvy a volbou <guilabel>Přidat masku vrstvy</guilabel>
          z kontextové nabídky. Pokud je příkaz zašedlý, zvolte nejprve
          <guilabel>Přidat alfa kanál</guilabel> ze stejné nabídky.<!--neni
          nutne--> Objeví se dialog, ve kterém lze inicializovat obsah masky:
        </para>
        
        <para lang="de">
          Für jede Ebene können transparente Masken hinzugefügt werden, die
          sich Ebenenmasken nennen. Eine Ebenenmaske hat die gleiche Grösse
          und Pixeldichte wie die dazugehörige Ebene. So ist es möglich, jeden
          Pixel der Ebenenmaske einen Transparenzwert zuzuordnen. Die Maske
          selber ist eine Grauwertmaske, so dass jedem Pixel einen Wert von 0
          für Schwarz bis 255 für Weiss zugeordnet werden kann. Einen
          schwarzen Pixel bedeutet hierbei ein transparenter Pixel, wobei
          Weiss den Pixel der Ebene nicht beeinflusst.
        </para>
        <para lang="de">
          Um eine Ebenenmaske zu erstellen, klicken Sie mit der rechten
          Maustaste auf eine Ebene und das
          <link linkend='gimp-layer-menu'>Ebenenkontextmenü</link>
          aufzurufen. Hier klicken Sie auf den Menüpunkt
          <guilabel>Ebenenmaske hinzufügen</guilabel>.
          Sollte der Menüpunkt <guilabel>Ebenenmaske hinzufügen</guilabel>
          ausgegraut sein, fehlt dem Bild ein Alpha-Kanal. Den fügen Sie,
          durch ein Klick auf den Menüpunkt
          <guilabel>Alphakanal hinzufügen</guilabel>, hinzu.
        </para>
        <para lang="de">
          Nach einem Mausklick auf den Menüpunkt
          <guilabel>Ebenenmaske hinzufügen</guilabel>, erscheint ein Dialog.
          Hier können Sie einstellen, was für eine
          Eigenschaft die neu erstellte Ebenenmaske haben soll:
        </para>
        <caution lang="de">
          <para>
            Da die Ebenenmaske die Transparenz einer einzelnen Ebene
            beeinflußt, sollte bei vielen Ebenen darauf geachtet werden,
            dass die Alphatransparenz das gesamte Bild beeinflußt.
          </para>
        </caution>
        
        <para lang="fr">
          Alors que les masques de sélection (ou masques de canaux) 
          permettent de stocker et de modifier vos sélections, un 
          masque de calque, lui, permet de gérer la transparence d'un 
          calque. Les masques de calque permettent de rendre transparentes 
          certaines parties du calque. C'est comme si vous peigniez le 
          calque avec de la transparence. Ces masques sont surtout 
          utilisés pour fusionner de façon graduelle des objets situés sur 
          des calques différents. 
          Chaque calque peut ainsi être doté d'un masque de transparence, 
          appelé masque de calque. Un masque de calque à la même taille et 
          le même nombre de pixels que le calque auquel il est associé, 
          chaque pixel du masque peut donc être associé à un pixel situé à 
          la même position dans le calque.  Le masque est composé 
          uniquement de pixels en tons de gris qui s'étalent sur une 
          échelle de valeur de 0 à 255. Les pixels à O sont noirs et 
          ils donnent une transparence totale au pixel associé dans 
          le calque. Les pixels à 255 sont blancs et ils donnent une 
          opacité totale au pixel associé dans le calque.
        </para>
        <para lang="fr">
          Pour créer un masque, commencez par cliquer-droit sur un calque
          pour faire apparaitre le menu contextuel et choisissez
          <guilabel>Ajouter un masque de calque</guilabel> dans le menu. Si
          l'entrée du menu est grisée il faut commencer par choisir
          <guilabel>Ajouter un canal Alpha</guilabel> dans ce même menu.
          Un dialogue apparaît, il permet d'initialiser le contenu du
          masque :
        </para>

        <para lang="it">
          È possibile aggiungere una maschera di trasparenza ad ogni livello:
          la maschera di livello. Una maschera di livello ha le stesse
          dimensioni del livello a cui è legata. Ogni pixel della maschera fa
          riferimento ad un pixel nella stessa posizione nel livello. La
          maschera è un'insieme di pixel in scala di grigi con valori da 0 a
          255. Il pixel con valore 0 sono neri e danno una completa
          trasparenza al corrispettivo pixel nel livello. Allo stesso modo, i
          pixel con valore 255 sono bianchi e danno una completa opacità ai
          pixel corrispondenti.
        </para>
        <para lang="it">
          Per creare una maschera di livello, cominciare a fare clic con il
          tasto destro del mouse sul livello per accedere al menu
          contestuale e selezionare la voce di menu <guilabel>Aggiungi
          maschera di livello</guilabel>. Se la voce del menu è in grigio,
          prima selezionare la voce <guilabel>Aggiungi canale
          alfa</guilabel> presente nello stesso menu.
          Eseguito il comando apparirà una finestra di dialogo dove sarà
          possibile inizializzare il contenuto della maschera:
        </para>

        <para lang="zh_CN">
          可以给每个图层添加一个透明蒙板，叫作图层蒙板。透明蒙板和对应的图层有相同大小和像素数量，然后蒙板中每个像素在相同位置与图层中的像素配对。蒙板是一系列亮度从 0 到 255 的灰色调像素，其中亮度为 0 为黑色并且使图层中配对的像素完全透明，反之，亮度为 255 为白色并且使图层中配对的像素完全不透明。
        </para>
        <para lang="zh_CN">
          要新建一个图层蒙板，右键点击图层唤出菜单，选取<guilabel>添加图层蒙板</guilabel>。当该菜单项为灰色不可用时，要先在同一个菜单中选取<guilabel>添加 Alpha 通道</guilabel>。在该对话框中可以初始化蒙板内容：
        </para>

        <itemizedlist>
          <listitem>
            <para lang="en">
              <guilabel>White (full opacity)</guilabel>: the mask has no
              effect, all layer pixels are full visible.
            </para>
            <para lang="cs">
              <guilabel>Bílá</guilabel>: maska je bez účinku, všechny pixely
              zůstanou plně viditelné.
            </para>
            <para lang="de">
              <guilabel><accel>W</accel>eiß (volle Deckkraft)</guilabel>: die
              neu erstellte Ebenenmaske hat keinen Effekt auf die Ebene. Alle
              Pixel der Ebene sind sichtbar.
            </para>
            <para lang="fr">
              <guilabel>Blanc</guilabel> : Ce masque rend le calque 
              complètement opaque et donc pleinement visible. Vous devrez 
              utiliser du noir pour rendre certaine parties transparentes.
            </para>
            <para lang="it">
              <guilabel>Bianco (totale opacità)</guilabel>: la maschera
              non ha effetto, tutti i pixels del livello sono
              completamente visibili.
            </para>
            <para lang="zh_CN">
              <guilabel>白色</guilabel>：使该蒙板无效，所有图层像素完全可见。
            </para>
          </listitem>

          <listitem>
            <para lang="en">
              <guilabel>Black (full transparency)</guilabel>: the mask gives
              a full transparency to the layer which becomes invisible.
            </para>
            <para lang="cs">
              <guilabel>Černá</guilabel>: maska způsobí úplnou průhlednost
              vrstvy, která se tak stane neviditelnou.
            </para>
            <para lang="de">
              <guilabel><accel>S</accel>chwarz (volle Transparenz)</guilabel>:
              alle Pixel der Ebene sind mit der Ebenenmaske transparent. 
            </para>
            <para lang="fr">
              <guilabel>Noir</guilabel> : Ce masque rend le calque 
              complètement transparent et donc invisible. Vous devrez 
              utiliser de la peinture blanche pour rendre certaines parties 
              opaques et donc visibles. 
            </para>
            <para lang="it">
              <guilabel>Nero (totale trasparenza)</guilabel>: la maschera
              fornisce una completa trasparenza al livello che diventa
              invisibile.
            </para>
            <para lang="zh_CN">
              <guilabel>黑色</guilabel>：该蒙板使图层完全透明而不可见。
            </para>
          </listitem>

          <listitem>
            <para lang="en">
              <guilabel>Layer's alpha channel</guilabel>: the mask is
              initialized according to the content of layer Alpha
              channel.  If the layer still contains transparency it's
              copied in the mask.
            </para>
            <para lang="cs">
              <guilabel>Přenést alfa kanál vrstvy</guilabel>: maska se
              inicializuje podle alfa kanálu vrstvy. Průhlednost z
              alfa kanálu je odstraněna a nahrazena maskou.
            </para>
            <para lang="de">
              <guilabel><accel>A</accel>lphakanal der Ebene</guilabel>: Die
              Maske wird mit den Werten des Alphakanals initialisiert.
            </para>
            <para lang="fr">
              <guilabel>Canal Alpha</guilabel> : le masque est initialisé
              en fonction du contenu du canal Alpha du calque. Si le 
              calque contient déjà de la transparence, elle
              est recopiée dans le masque.
            </para>
            <para lang="it">
              <guilabel>Canale alfa del livello</guilabel>: la maschera
              viene inizializzata secondo il contenuto del canale alfa.
              Se il livello contiene ancora delle trasparenze viene
              copiato nella maschera.
            </para>
            <para lang="zh_CN">
              <guilabel>图层的 Alpha 通道</guilabel>：该蒙板将根据图层 Alpha 通道初始化。当图层中仍然有透明部分时，将拷贝到蒙板中。
            </para>
          </listitem>

          <listitem lang="en;de;it">
            <para lang="en">
              <guilabel>Transfer layer's alpha channel</guilabel>: 
              Does the same thing as the previous option, except that it
              also resets the layer's alpha channel to full opacity.
            </para>
            <para lang="de">
              <guilabel>
                <accel>A</accel>lphakanal der Ebene übernehmen
              </guilabel>: Der einzige Unterschied wenn Sie diese Einstellung
              wählen, besteht darin, dass auch der Alphakanal der Eben auf
              volle Deckkraft gesetzt wird.
            </para>
            <para lang="it">
              <guilabel>Trasferimento canale alfa del livello</guilabel>:
              esegue la stessa operazione della voce precedente eccetto
              il fatto che inizializza anche il canale alfa del livello a
              totale opacità.
            </para>
          </listitem>

          <listitem>
            <para lang="en">
              <guilabel>Selection</guilabel> : the mask is initialized
              according to pixel values found in the selection.
            </para>
            <para lang="cs">
              <guilabel>Výběr</guilabel>: maska se inicializuje podle
              výběru. Vybrané oblasti jsou v masce reprezentovány bílou
              barvou, zůstanou tak viditelné. Zbytek se stane neviditelným.
            </para>
            <para lang="de">
              <guilabel>A<accel>u</accel>swahl</guilabel>: Die
              Ebenenmaske wird nach den Werten der Auswahl erstellt.
            </para>
            <para lang="fr">
              <guilabel>Sélection</guilabel> : le masque est initialisé
              en fonction de la valeur des pixels contenus dans la
              sélection.
            </para>
            <para lang="it">
              <guilabel>Selezione</guilabel> : la maschera viene
              inizializzata secondo il valore dei pixel trovati nella
              selezione.
            </para>
            <para lang="zh_CN">
              <guilabel>选区</guilabel>：该蒙板根据选区中像素亮度初始化蒙板。
            </para>
          </listitem>

          <listitem>
            <para lang="en">
              <guilabel>Grayscale copy of layer</guilabel>: the mask
              is initialized according to pixel values of the layer.
            </para>
            <para lang="cs">
              <guilabel>Kopie vrstvy v odstínech šedi</guilabel>:
              maska se inicializuje podle hodnot pixelů vrstvy.
            </para>
            <para lang="de">
              <guilabel><accel>G</accel>raustufen-Kopie der Ebene</guilabel>:
              Die Ebenenmaske wird nach den Graustufenwerten des Bildes
              erstellt.
            </para>
            <para lang="fr">
              <guilabel>Copie du calque en niveau de gris</guilabel>:
              le masque est initialisé en fonction de la valeur
              des pixels contenus dans le calque.
            </para>
            <para lang="it">
              <guilabel>Copia in scala di grigi del livello</guilabel>:
              la maschera viene inizializzata secondo i valori dei pixel
              del livello.
            </para>
            <para lang="zh_CN">
              <guilabel>图层的灰度副本</guilabel>：该蒙板根据图层中像素亮度初始化蒙板。
            </para>
          </listitem>

          <listitem lang="de">          
            <para lang="de">
              <guilabel>Maske in<accel>v</accel>ertieren</guilabel>: Bei
              aktivieren des Kontrollkästchens wird die Ebenenmaske
              invertiert angelegt.
            </para>
          </listitem>
        </itemizedlist>

        <para lang="en">
          When the mask is created it appears as a thumbnail right to the
          layer thumbnail. By clicking alternatively on the layer and mask
          thumbnail you can enable one or other. The active item is
          highlighted by a white border (which is not well visible around a
          white mask). To view mask content instead of its effect in image
          window, press
          <keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap></keycombo>
          and then on mask thumbnail. Its borber turns to red. To return to
          normal view redo last operation.
        </para>
        <para lang="cs">
          Vytvořená maska je viditelná jako náhled napravo od náhledu vrstvy.
          Kliknutím na náhled vrstvy či na náhled masky lze přepínat mezi
          úpravami masky či vrstvy. Aktivní náhled je bíle orámován. Kliknutím
          do náhledu masky s podržením modifikačních kláves
          <keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap></keycombo>
          se v okně obrázku zobrazí obsah masky místo obsahu
          vrstvy ovlivněného maskou. V takovém případě je zeleně orámován.
        </para>
        <para lang="de">
          Die angelegte Ebenenmaske wird als Miniaturbild im Ebenendialog
          angezeigt. Die jetzt aktivierte Ebenenmaske können Sie zum Beispiel
          mit dem Pinselwerkzeug bearbeiten. Durch malen im Bild wird nun die
          Ebenenmaske verändert. Möchten Sie das Bild selber bearbeiten,
          reicht ein Mausklick im Ebenendialog auf das Miniaturbild der Ebene.
          Der Ebenendialog markiert das gerade aktive Element (Ebenenmaske
          oder Ebene) durch eine Umrandung.
        </para>
        <para lang="fr">
          Une fois que le masque est créé il est représenté par une vignette à
          droite de la vignette du calque. En cliquant alternativement sur la
          vignette du calque puis du masque vous rendez actif soit l'un, soit
          l'autre. L'élément actif est indiqué par un contour blanc (qui ne se
          voit pas franchement autour d'un calque ou d'un masque remplit de
          blanc). Pour afficher le contenu du masque plutôt que son effet dans
          la fenêtre d'image appuyez sur
          <keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap></keycombo>
          puis sur la vignette du masque. Pour revenir à la vision normale,
          recommencez l'opération précédente.
        </para>
        <para lang="it">
          Quando viene creata la maschera, essa appare come una miniatura a
          destra della miniatura del livello. Facendo clic alternativamente
          sulle miniature del livello e della maschera è possibile abilitare
          l'uno o l'altro. La voce attiva viene evidenziata da un bordo bianco
          (che per la verità non è troppo visibile intorno ad una maschera
          bianca). Per visualizzare il contenuto della maschera invece del suo
          effetto nella finestra immagine premere
          <keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap></keycombo>
          e sulla miniatura della maschera: il bordo diventerà rosso. Per
          tornare alla visualizzazione normale, rifare la procedura.
        </para>
        <para lang="zh_CN">
          蒙板被创建后将以缩略图的形式在图层缩略图右边显示，可以通过选择性地点击图层和蒙板缩略图来激活它们其中一个，而
          活动的那个以白色边缘高亮显示(对一个白色蒙板很难辨认)。要看蒙板内容，而不是它在图像窗口中的效果，按下
          <keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap></keycombo>，然后点击蒙板缩略图，重做上一个操作就可以回到正常查看。
        </para>

        <caution>
          <para lang="en">
            The layer mask acts like a transparency mask on a particular
            layer.  Since you have many layers it becomes different from the
            image Alpha channel which represents transparency applied to the
            whole image.
          </para>
          <para lang="cs">
            <!-- FIXME: cs -???? -->
          </para>
          <para lang="de">
            Da die Ebenenmaske die Transparenz einer einzelnen Ebene
            beeinflusst, sollte bei vielen Ebenen darauf geachtet werden,
            dass die Alphatransparenz das gesamte Bild beeinflusst.
          </para>
          <para lang="fr">
            Le masque de calque agit comme un masque de transparence sur un
            calque particulier. Dès lors que vous avez plusieurs calques,
            il est différent du canal Alpha de l'image qui représente
            la transparence appliquée à l'ensemble de l'image.
          </para>
          <para lang="it">
            La maschera di livello agisce come un livello di trasparenza su
            di un particolare livello. Siccome ci sono molti livelli, essa si
            distingue dal canale alfa che rappresenta invece la trasparenza
            applicata all'immagine globale.
          </para>
          <para lang="zh_CN">
            图层蒙板好像一个特殊图层上的透明蒙板，由于有很多图层，使它不同于添加透明到整个图像的图像 Alpha 通道。
          </para>
        </caution>
      </listitem>
    </varlistentry>
  </variablelist>
</sect3>
